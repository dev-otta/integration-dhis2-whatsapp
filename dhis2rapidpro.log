2023-03-13 10:23:07.972  INFO 16264 --- [main] o.h.d.integration.rapidpro.Application   : Starting Application using Java 19.0.1 on DESKTOP-BIR2HG9 with PID 16264 (C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp\target\classes started by JohanGangsåsHole in C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp)
2023-03-13 10:23:07.976 DEBUG 16264 --- [main] o.h.d.integration.rapidpro.Application   : Running with Spring Boot v2.7.4, Spring v5.3.23
2023-03-13 10:23:07.977  INFO 16264 --- [main] o.h.d.integration.rapidpro.Application   : No active profile set, falling back to 1 default profile: "default"
2023-03-13 10:23:09.815  INFO 16264 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)
2023-03-13 10:23:09.825  INFO 16264 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-13 10:23:09.826  INFO 16264 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2023-03-13 10:23:10.014  INFO 16264 --- [main] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring embedded WebApplicationContext
2023-03-13 10:23:10.015  INFO 16264 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1987 ms
2023-03-13 10:23:10.449  INFO 16264 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/management/h2-console'. Database available at 'jdbc:h2:./dhis2rapidpro'
2023-03-13 10:23:10.661  INFO 16264 --- [main] o.s.b.a.e.web.ServletEndpointRegistrar   : Registered '/management/jolokia' to jolokia-actuator-endpoint
2023-03-13 10:23:10.681  INFO 16264 --- [main] io.hawt.HawtioContextListener            : Initialising hawtio services
2023-03-13 10:23:10.687  INFO 16264 --- [main] io.hawt.system.ConfigManager             : Configuration will be discovered via system properties
2023-03-13 10:23:10.690  INFO 16264 --- [main] io.hawt.jmx.JmxTreeWatcher               : Welcome to Hawtio 2.16.2
2023-03-13 10:23:10.702  INFO 16264 --- [main] i.h.w.auth.AuthenticationConfiguration   : Starting hawtio authentication filter, JAAS authentication disabled
2023-03-13 10:23:10.703  INFO 16264 --- [main] io.hawt.web.auth.LoginRedirectFilter     : Hawtio loginRedirectFilter is using 1800 sec. HttpSession timeout
2023-03-13 10:23:11.277 ERROR 16264 --- [main] o.h.d.integration.rapidpro.Application   : TERMINATING!!! Missing RapidPro API URL. Are you sure that you set `rapidpro.api.url`?
2023-03-13 10:27:12.359  INFO 4656 --- [main] o.h.d.integration.rapidpro.Application   : Starting Application using Java 19.0.1 on DESKTOP-BIR2HG9 with PID 4656 (C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp\target\classes started by JohanGangsåsHole in C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp)
2023-03-13 10:27:12.362 DEBUG 4656 --- [main] o.h.d.integration.rapidpro.Application   : Running with Spring Boot v2.7.4, Spring v5.3.23
2023-03-13 10:27:12.363  INFO 4656 --- [main] o.h.d.integration.rapidpro.Application   : No active profile set, falling back to 1 default profile: "default"
2023-03-13 10:27:13.839  INFO 4656 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)
2023-03-13 10:27:13.850  INFO 4656 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-13 10:27:13.850  INFO 4656 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2023-03-13 10:27:14.005  INFO 4656 --- [main] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring embedded WebApplicationContext
2023-03-13 10:27:14.006  INFO 4656 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1602 ms
2023-03-13 10:27:14.141 ERROR 4656 --- [main] javax.management.mbeanserver             : The LogManager accessed before the "java.util.logging.manager" system property was set to "org.jboss.logmanager.LogManager". Results may be unexpected.
2023-03-13 10:27:14.512  INFO 4656 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/management/h2-console'. Database available at 'jdbc:h2:./dhis2rapidpro'
2023-03-13 10:27:14.727  INFO 4656 --- [main] o.s.b.a.e.web.ServletEndpointRegistrar   : Registered '/management/jolokia' to jolokia-actuator-endpoint
2023-03-13 10:27:14.748  INFO 4656 --- [main] io.hawt.HawtioContextListener            : Initialising hawtio services
2023-03-13 10:27:14.752  INFO 4656 --- [main] io.hawt.system.ConfigManager             : Configuration will be discovered via system properties
2023-03-13 10:27:14.757  INFO 4656 --- [main] io.hawt.jmx.JmxTreeWatcher               : Welcome to Hawtio 2.16.2
2023-03-13 10:27:14.776  INFO 4656 --- [main] i.h.w.auth.AuthenticationConfiguration   : Starting hawtio authentication filter, JAAS authentication disabled
2023-03-13 10:27:14.778  INFO 4656 --- [main] io.hawt.web.auth.LoginRedirectFilter     : Hawtio loginRedirectFilter is using 1800 sec. HttpSession timeout
2023-03-13 10:27:16.211 ERROR 4656 --- [main] o.h.d.integration.rapidpro.Application   : TERMINATING!!! Unexpected HTTP response code during RapidPro connection test. Are you sure that `rapidpro.api.url` is set correctly and the credentials are valid? Response code: 403. Response body: {"detail":"Invalid token"}
2023-03-13 10:30:49.000  INFO 10308 --- [main] o.h.d.integration.rapidpro.Application   : Starting Application using Java 19.0.1 on DESKTOP-BIR2HG9 with PID 10308 (C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp\target\classes started by JohanGangsåsHole in C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp)
2023-03-13 10:30:49.003 DEBUG 10308 --- [main] o.h.d.integration.rapidpro.Application   : Running with Spring Boot v2.7.4, Spring v5.3.23
2023-03-13 10:30:49.003  INFO 10308 --- [main] o.h.d.integration.rapidpro.Application   : No active profile set, falling back to 1 default profile: "default"
2023-03-13 10:30:50.527  INFO 10308 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)
2023-03-13 10:30:50.537  INFO 10308 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-13 10:30:50.538  INFO 10308 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2023-03-13 10:30:50.706  INFO 10308 --- [main] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring embedded WebApplicationContext
2023-03-13 10:30:50.707  INFO 10308 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1657 ms
2023-03-13 10:30:50.849 ERROR 10308 --- [main] javax.management.mbeanserver             : The LogManager accessed before the "java.util.logging.manager" system property was set to "org.jboss.logmanager.LogManager". Results may be unexpected.
2023-03-13 10:30:51.222  INFO 10308 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/management/h2-console'. Database available at 'jdbc:h2:./dhis2rapidpro'
2023-03-13 10:30:51.431  INFO 10308 --- [main] o.s.b.a.e.web.ServletEndpointRegistrar   : Registered '/management/jolokia' to jolokia-actuator-endpoint
2023-03-13 10:30:51.448  INFO 10308 --- [main] io.hawt.HawtioContextListener            : Initialising hawtio services
2023-03-13 10:30:51.454  INFO 10308 --- [main] io.hawt.system.ConfigManager             : Configuration will be discovered via system properties
2023-03-13 10:30:51.456  INFO 10308 --- [main] io.hawt.jmx.JmxTreeWatcher               : Welcome to Hawtio 2.16.2
2023-03-13 10:30:51.473  INFO 10308 --- [main] i.h.w.auth.AuthenticationConfiguration   : Starting hawtio authentication filter, JAAS authentication disabled
2023-03-13 10:30:51.476  INFO 10308 --- [main] io.hawt.web.auth.LoginRedirectFilter     : Hawtio loginRedirectFilter is using 1800 sec. HttpSession timeout
2023-03-13 10:30:53.064  INFO 10308 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to RapidPro
2023-03-13 10:30:53.068  INFO 10308 --- [main] o.h.d.i.r.security.KeyStoreGenerator     : Generating key store...
2023-03-13 10:30:53.378  INFO 10308 --- [main] o.h.d.i.r.security.KeyStoreGenerator     : Key store generated at file:/C:/Users/JohanGangsåsHole/Documents/integration-dhis2-whatsapp/tls.jks
2023-03-13 10:30:53.677  INFO 10308 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Ant [pattern='/management/**'], Ant [pattern='/services/tasks/**'], Ant [pattern='/login'], Ant [pattern='/logout']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@1c3b221f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@750c23a3, org.springframework.security.web.context.SecurityContextPersistenceFilter@1842dc39, org.springframework.security.web.header.HeaderWriterFilter@61d8a491, org.springframework.security.web.csrf.CsrfFilter@2cbc2db2, org.springframework.security.web.authentication.logout.LogoutFilter@1d33e72e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@f287a4e, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@52b30dcd, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@238280df, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@27d6467, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@270097ce, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@8b1170f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@182fd26b, org.springframework.security.web.session.SessionManagementFilter@1ee6434, org.springframework.security.web.access.ExceptionTranslationFilter@18df26a1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@14ba7f15]
2023-03-13 10:30:53.710  INFO 10308 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/services/webhook'] with [org.springframework.security.web.session.DisableEncodeUrlFilter@44a9971f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e2cd42c, org.springframework.security.web.context.SecurityContextPersistenceFilter@185bf6e0, org.springframework.security.web.header.HeaderWriterFilter@2e1e7bc6, org.springframework.security.web.authentication.logout.LogoutFilter@1f365a26, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a562255, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@374ba492, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1cdad619, org.springframework.security.web.session.SessionManagementFilter@7bd1098, org.springframework.security.web.access.ExceptionTranslationFilter@abf1816]
2023-03-13 10:30:54.257  INFO 10308 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to DHIS 2.38.1
2023-03-13 10:30:54.476  INFO 10308 --- [main] io.hawt.log.logback.LogbackLogQuery      : Connected to Logback appender to trap logs with Hawtio log plugin
2023-03-13 10:30:54.993  INFO 10308 --- [main] org.apache.activemq.artemis.core.server  : AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,jdbcDriverClassName=null,jdbcConnectionUrl=null,messageTableName=messages,bindingsTableName=bindings,largeMessageTableName=large_messages,pageStoreTableName=page_store,)
2023-03-13 10:30:55.004  INFO 10308 --- [main] org.apache.activemq.artemis.core.server  : AMQ221045: libaio is not available, switching the configuration into NIO
2023-03-13 10:30:55.072  INFO 10308 --- [main] org.apache.activemq.artemis.core.server  : AMQ221057: Global Max Size is being adjusted to 1/2 of the JVM max size (-Xmx). being defined as 4 250 927 104
2023-03-13 10:30:55.089  INFO 10308 --- [main] org.apache.activemq.artemis.core.server  : AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE
2023-03-13 10:30:55.182  INFO 10308 --- [main] org.apache.activemq.artemis.core.server  : AMQ221034: Waiting indefinitely to obtain live lock
2023-03-13 10:30:55.182  INFO 10308 --- [main] org.apache.activemq.artemis.core.server  : AMQ221035: Live Server Obtained live lock
2023-03-13 10:30:55.194  INFO 10308 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address DLQ supporting [ANYCAST]
2023-03-13 10:30:55.206  INFO 10308 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue DLQ on address DLQ
2023-03-13 10:30:55.252  INFO 10308 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address ExpiryQueue supporting [ANYCAST]
2023-03-13 10:30:55.254  INFO 10308 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue ExpiryQueue on address ExpiryQueue
2023-03-13 10:30:55.279  INFO 10308 --- [main] org.apache.activemq.artemis.core.server  : AMQ221007: Server is now live
2023-03-13 10:30:55.280  INFO 10308 --- [main] org.apache.activemq.artemis.core.server  : AMQ221001: Apache ActiveMQ Artemis Message Broker version 2.19.1 [localhost, nodeID=f561d4b4-8b4f-11ed-b036-4c034f8a3e96] 
2023-03-13 10:30:55.547  INFO 10308 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/management'
2023-03-13 10:30:55.939  INFO 10308 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=/dhis2rapidpro]
2023-03-13 10:30:55.941  INFO 10308 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8443 (https) with context path '/dhis2rapidpro'
2023-03-13 10:30:57.255  INFO 10308 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) is starting
2023-03-13 10:30:57.333  INFO 10308 --- [main] o.a.c.component.quartz.QuartzComponent   : Setting org.quartz.scheduler.jmx.export=true to ensure QuartzScheduler(s) will be enlisted in JMX
2023-03-13 10:30:57.350  INFO 10308 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2023-03-13 10:30:57.352  INFO 10308 --- [main] org.quartz.simpl.SimpleThreadPool        : Job execution threads will use class loader of thread: main
2023-03-13 10:30:57.360  INFO 10308 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2023-03-13 10:30:57.360  INFO 10308 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.
2023-03-13 10:30:57.361  INFO 10308 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2023-03-13 10:30:57.365  INFO 10308 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) 'DefaultQuartzScheduler-camel-1' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2023-03-13 10:30:57.365  INFO 10308 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'DefaultQuartzScheduler-camel-1' initialized from an externally provided properties instance.
2023-03-13 10:30:57.366  INFO 10308 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.3.2
2023-03-13 10:30:57.470  INFO 10308 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.reminders (cron=0 0 9 ? * *, triggerType=CronTriggerImpl, jobClass=CamelJob) is scheduled. Next fire date is 2023-03-14T09:00:00.000+0100
2023-03-13 10:30:57.558  INFO 10308 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.pull (cron=0 0/30 * * * ?, triggerType=CronTriggerImpl, jobClass=StatefulCamelJob) is scheduled. Next fire date is 2023-03-13T11:00:00.000+0100
2023-03-13 10:30:57.576  INFO 10308 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.sync (cron=0 0/30 * * * ?, triggerType=CronTriggerImpl, jobClass=StatefulCamelJob) is scheduled. Next fire date is 2023-03-13T11:00:00.000+0100
2023-03-13 10:30:57.620  INFO 10308 --- [main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2023-03-13 10:30:57.621  INFO 10308 --- [CamelMainRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.20.2 is starting
2023-03-13 10:30:57.622  INFO 10308 --- [main] .a.c.s.FileWatcherResourceReloadStrategy : Live route reloading enabled (directory: routes)
2023-03-13 10:30:57.714  INFO 10308 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:29)
2023-03-13 10:30:57.714  INFO 10308 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Retry Reports (timer://retry)
2023-03-13 10:30:57.714  INFO 10308 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Consume Report (jms://queue:dhis2)
2023-03-13 10:30:57.715  INFO 10308 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Deliver Report (direct://deliverReport)
2023-03-13 10:30:57.715  INFO 10308 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Transform Report (direct://transformReport)
2023-03-13 10:30:57.715  INFO 10308 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Transmit Report (direct://transmitReport)
2023-03-13 10:30:57.715  INFO 10308 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Save Failed Report (direct://dlq)
2023-03-13 10:30:57.716  INFO 10308 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Compute Period (direct://computePeriod)
2023-03-13 10:30:57.716  INFO 10308 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (direct://completeDataSetRegistration)
2023-03-13 10:30:57.716  INFO 10308 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (servlet:/tasks/reminders)
2023-03-13 10:30:57.717  INFO 10308 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (quartz://reminders)
2023-03-13 10:30:57.717  INFO 10308 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Broadcast Reminders (direct://reminders)
2023-03-13 10:30:57.717  INFO 10308 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (direct://fetchDataSet)
2023-03-13 10:30:57.717  INFO 10308 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (direct://fetchContacts)
2023-03-13 10:30:57.718  INFO 10308 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route6 (direct://fetchReportRate)
2023-03-13 10:30:57.718  INFO 10308 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route7 (direct://sendBroadcast)
2023-03-13 10:30:57.718  INFO 10308 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Set up Program Fields RapidPro (direct://prepareTrackerRapidPro)
2023-03-13 10:30:57.719  INFO 10308 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create Program RapidPro Fields (direct://createProgramFieldsRoute)
2023-03-13 10:30:57.719  INFO 10308 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create Program RapidPro Group (direct://createProgramGroupRoute)
2023-03-13 10:30:57.719  INFO 10308 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route8 (servlet:/tasks/scan)
2023-03-13 10:30:57.719  INFO 10308 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route9 (quartz://pull)
2023-03-13 10:30:57.719  INFO 10308 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Scan RapidPro Flows (direct://pull)
2023-03-13 10:30:57.720  INFO 10308 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route10 (servlet:/tasks/sync)
2023-03-13 10:30:57.720  INFO 10308 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route11 (quartz://sync)
2023-03-13 10:30:57.720  INFO 10308 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Sync RapidPro Contacts (direct://sync)
2023-03-13 10:30:57.720  INFO 10308 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route12 (direct://createContact)
2023-03-13 10:30:57.721  INFO 10308 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route13 (direct://updateContact)
2023-03-13 10:30:57.721  INFO 10308 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Set up RapidPro (direct://prepareRapidPro)
2023-03-13 10:30:57.721  INFO 10308 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create RapidPro Fields (direct://createFieldsRoute)
2023-03-13 10:30:57.721  INFO 10308 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create RapidPro Group (direct://createGroupRoute)
2023-03-13 10:30:57.721  INFO 10308 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) started in 1s761ms (build:56ms init:1s239ms start:466ms)
2023-03-13 10:30:57.724  INFO 10308 --- [main] o.a.c.component.quartz.QuartzComponent   : Starting Quartz scheduler: org.quartz.impl.StdScheduler@28790ede
2023-03-13 10:30:57.724  INFO 10308 --- [main] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED started.
2023-03-13 10:30:57.727  INFO 10308 --- [main] o.h.d.integration.rapidpro.Application   : Started Application in 9.037 seconds (JVM running for 9.438)
2023-03-13 10:30:57.735  INFO 10308 --- [main] o.h.d.integration.rapidpro.Application   : 
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 ONLINE

 Hawtio console: https://192.168.1.122:8443/dhis2rapidpro/management/hawtio
 H2 console: https://192.168.1.122:8443/dhis2rapidpro/management/h2-console
 Poll flows task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/scan
 Sync contacts task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/sync
 Remind contacts task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/reminders

 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

2023-03-13 10:31:11.342  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) is shutting down (timeout:45s)
2023-03-13 10:31:11.345  INFO 10308 --- [Camel (camel-1) thread #4 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.sync
2023-03-13 10:31:11.346  INFO 10308 --- [Camel (camel-1) thread #4 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.pull
2023-03-13 10:31:11.346  INFO 10308 --- [Camel (camel-1) thread #4 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.reminders
2023-03-13 10:31:11.776  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.sync
2023-03-13 10:31:11.778  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.pull
2023-03-13 10:31:11.781  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.reminders
2023-03-13 10:31:11.785  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:29)
2023-03-13 10:31:11.786  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create RapidPro Group (direct://createGroupRoute)
2023-03-13 10:31:11.786  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create RapidPro Fields (direct://createFieldsRoute)
2023-03-13 10:31:11.786  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Set up RapidPro (direct://prepareRapidPro)
2023-03-13 10:31:11.786  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route13 (direct://updateContact)
2023-03-13 10:31:11.787  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route12 (direct://createContact)
2023-03-13 10:31:11.787  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Sync RapidPro Contacts (direct://sync)
2023-03-13 10:31:11.787  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route11 (quartz://sync)
2023-03-13 10:31:11.787  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route10 (servlet:/tasks/sync)
2023-03-13 10:31:11.788  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Scan RapidPro Flows (direct://pull)
2023-03-13 10:31:11.788  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route9 (quartz://pull)
2023-03-13 10:31:11.788  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route8 (servlet:/tasks/scan)
2023-03-13 10:31:11.788  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create Program RapidPro Group (direct://createProgramGroupRoute)
2023-03-13 10:31:11.788  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create Program RapidPro Fields (direct://createProgramFieldsRoute)
2023-03-13 10:31:11.788  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Set up Program Fields RapidPro (direct://prepareTrackerRapidPro)
2023-03-13 10:31:11.788  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route7 (direct://sendBroadcast)
2023-03-13 10:31:11.789  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route6 (direct://fetchReportRate)
2023-03-13 10:31:11.789  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (direct://fetchContacts)
2023-03-13 10:31:11.789  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (direct://fetchDataSet)
2023-03-13 10:31:11.789  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Broadcast Reminders (direct://reminders)
2023-03-13 10:31:11.789  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (quartz://reminders)
2023-03-13 10:31:11.790  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (servlet:/tasks/reminders)
2023-03-13 10:31:11.790  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (direct://completeDataSetRegistration)
2023-03-13 10:31:11.790  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Compute Period (direct://computePeriod)
2023-03-13 10:31:11.790  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Save Failed Report (direct://dlq)
2023-03-13 10:31:11.790  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Transmit Report (direct://transmitReport)
2023-03-13 10:31:11.791  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Transform Report (direct://transformReport)
2023-03-13 10:31:11.791  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Deliver Report (direct://deliverReport)
2023-03-13 10:31:11.791  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Consume Report (jms://queue:dhis2)
2023-03-13 10:31:11.791  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Retry Reports (timer://retry)
2023-03-13 10:31:11.792  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzComponent   : Shutting down Quartz scheduler (will wait for all jobs to complete first)
2023-03-13 10:31:11.793  INFO 10308 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED shutting down.
2023-03-13 10:31:11.793  INFO 10308 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED paused.
2023-03-13 10:31:11.870  INFO 10308 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler unregistered from name 'quartz:type=QuartzScheduler,name=DefaultQuartzScheduler-camel-1,instance=NON_CLUSTERED' in the local MBeanServer.
2023-03-13 10:31:11.872  INFO 10308 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED shutdown complete.
2023-03-13 10:31:11.877  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) shutdown in 533ms (uptime:14s)
2023-03-13 10:31:11.888  INFO 10308 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-03-13 10:31:11.888  INFO 10308 --- [SpringApplicationShutdownHook] io.hawt.web.auth.AuthenticationFilter    : Destroying hawtio authentication filter
2023-03-13 10:31:11.889  INFO 10308 --- [SpringApplicationShutdownHook] io.hawt.HawtioContextListener            : Destroying hawtio services
2023-03-13 10:31:11.969  INFO 10308 --- [SpringApplicationShutdownHook] org.apache.activemq.artemis.core.server  : AMQ221002: Apache ActiveMQ Artemis Message Broker version 2.19.1 [f561d4b4-8b4f-11ed-b036-4c034f8a3e96] stopped, uptime 17.038 seconds
2023-03-13 10:54:27.589  INFO 34700 --- [main] o.h.d.integration.rapidpro.Application   : Starting Application using Java 19.0.1 on DESKTOP-BIR2HG9 with PID 34700 (C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp\target\classes started by JohanGangsåsHole in C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp)
2023-03-13 10:54:27.592 DEBUG 34700 --- [main] o.h.d.integration.rapidpro.Application   : Running with Spring Boot v2.7.4, Spring v5.3.23
2023-03-13 10:54:27.592  INFO 34700 --- [main] o.h.d.integration.rapidpro.Application   : No active profile set, falling back to 1 default profile: "default"
2023-03-13 10:54:29.011  INFO 34700 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)
2023-03-13 10:54:29.023  INFO 34700 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-13 10:54:29.023  INFO 34700 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2023-03-13 10:54:29.178  INFO 34700 --- [main] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring embedded WebApplicationContext
2023-03-13 10:54:29.179  INFO 34700 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1542 ms
2023-03-13 10:54:29.305 ERROR 34700 --- [main] javax.management.mbeanserver             : The LogManager accessed before the "java.util.logging.manager" system property was set to "org.jboss.logmanager.LogManager". Results may be unexpected.
2023-03-13 10:54:29.646  INFO 34700 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/management/h2-console'. Database available at 'jdbc:h2:./dhis2rapidpro'
2023-03-13 10:54:29.836  INFO 34700 --- [main] o.s.b.a.e.web.ServletEndpointRegistrar   : Registered '/management/jolokia' to jolokia-actuator-endpoint
2023-03-13 10:54:29.850  INFO 34700 --- [main] io.hawt.HawtioContextListener            : Initialising hawtio services
2023-03-13 10:54:29.853  INFO 34700 --- [main] io.hawt.system.ConfigManager             : Configuration will be discovered via system properties
2023-03-13 10:54:29.855  INFO 34700 --- [main] io.hawt.jmx.JmxTreeWatcher               : Welcome to Hawtio 2.16.2
2023-03-13 10:54:29.867  INFO 34700 --- [main] i.h.w.auth.AuthenticationConfiguration   : Starting hawtio authentication filter, JAAS authentication disabled
2023-03-13 10:54:29.870  INFO 34700 --- [main] io.hawt.web.auth.LoginRedirectFilter     : Hawtio loginRedirectFilter is using 1800 sec. HttpSession timeout
2023-03-13 10:54:29.889  WARN 34700 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'application': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'RAPIDPRO_API_USERNAME' in value "${RAPIDPRO_API_USERNAME}"
2023-03-13 10:54:29.909  INFO 34700 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-03-13 10:54:29.911  INFO 34700 --- [main] io.hawt.web.auth.AuthenticationFilter    : Destroying hawtio authentication filter
2023-03-13 10:54:29.913  INFO 34700 --- [main] io.hawt.HawtioContextListener            : Destroying hawtio services
2023-03-13 10:54:29.929  INFO 34700 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-03-13 10:54:29.956 ERROR 34700 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'application': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'RAPIDPRO_API_USERNAME' in value "${RAPIDPRO_API_USERNAME}"
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.hisp.dhis.integration.rapidpro.Application.main(Application.java:204) ~[classes/:na]
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'RAPIDPRO_API_USERNAME' in value "${RAPIDPRO_API_USERNAME}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180) ~[spring-core-5.3.23.jar:5.3.23]
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-5.3.23.jar:5.3.23]
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239) ~[spring-core-5.3.23.jar:5.3.23]
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210) ~[spring-core-5.3.23.jar:5.3.23]
	at org.springframework.core.env.AbstractPropertyResolver.resolveNestedPlaceholders(AbstractPropertyResolver.java:230) ~[spring-core-5.3.23.jar:5.3.23]
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:79) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:60) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.core.env.AbstractEnvironment.getProperty(AbstractEnvironment.java:594) ~[spring-core-5.3.23.jar:5.3.23]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer$1.getProperty(PropertySourcesPlaceholderConfigurer.java:153) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer$1.getProperty(PropertySourcesPlaceholderConfigurer.java:149) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.core.env.PropertySourcesPropertyResolver.getProperty(PropertySourcesPropertyResolver.java:85) ~[spring-core-5.3.23.jar:5.3.23]
	at org.springframework.core.env.PropertySourcesPropertyResolver.getPropertyAsRawString(PropertySourcesPropertyResolver.java:74) ~[spring-core-5.3.23.jar:5.3.23]
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:159) ~[spring-core-5.3.23.jar:5.3.23]
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-5.3.23.jar:5.3.23]
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239) ~[spring-core-5.3.23.jar:5.3.23]
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210) ~[spring-core-5.3.23.jar:5.3.23]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:191) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:936) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1332) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.23.jar:5.3.23]
	... 15 common frames omitted

2023-03-13 10:55:16.566  INFO 3976 --- [main] o.h.d.integration.rapidpro.Application   : Starting Application using Java 19.0.1 on DESKTOP-BIR2HG9 with PID 3976 (C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp\target\classes started by JohanGangsåsHole in C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp)
2023-03-13 10:55:16.569 DEBUG 3976 --- [main] o.h.d.integration.rapidpro.Application   : Running with Spring Boot v2.7.4, Spring v5.3.23
2023-03-13 10:55:16.570  INFO 3976 --- [main] o.h.d.integration.rapidpro.Application   : No active profile set, falling back to 1 default profile: "default"
2023-03-13 10:55:18.121  INFO 3976 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)
2023-03-13 10:55:18.133  INFO 3976 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-13 10:55:18.134  INFO 3976 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2023-03-13 10:55:18.289  INFO 3976 --- [main] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring embedded WebApplicationContext
2023-03-13 10:55:18.290  INFO 3976 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1674 ms
2023-03-13 10:55:18.413 ERROR 3976 --- [main] javax.management.mbeanserver             : The LogManager accessed before the "java.util.logging.manager" system property was set to "org.jboss.logmanager.LogManager". Results may be unexpected.
2023-03-13 10:55:18.761  INFO 3976 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/management/h2-console'. Database available at 'jdbc:h2:./dhis2rapidpro'
2023-03-13 10:55:18.939  INFO 3976 --- [main] o.s.b.a.e.web.ServletEndpointRegistrar   : Registered '/management/jolokia' to jolokia-actuator-endpoint
2023-03-13 10:55:18.954  INFO 3976 --- [main] io.hawt.HawtioContextListener            : Initialising hawtio services
2023-03-13 10:55:18.959  INFO 3976 --- [main] io.hawt.system.ConfigManager             : Configuration will be discovered via system properties
2023-03-13 10:55:18.962  INFO 3976 --- [main] io.hawt.jmx.JmxTreeWatcher               : Welcome to Hawtio 2.16.2
2023-03-13 10:55:18.970  INFO 3976 --- [main] i.h.w.auth.AuthenticationConfiguration   : Starting hawtio authentication filter, JAAS authentication disabled
2023-03-13 10:55:18.972  INFO 3976 --- [main] io.hawt.web.auth.LoginRedirectFilter     : Hawtio loginRedirectFilter is using 1800 sec. HttpSession timeout
2023-03-13 10:55:20.530  INFO 3976 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to RapidPro
2023-03-13 10:55:20.536  INFO 3976 --- [main] o.h.d.i.r.security.KeyStoreGenerator     : Re-using existing key store at file:/C:/Users/JohanGangsåsHole/Documents/integration-dhis2-whatsapp/tls.jks
2023-03-13 10:55:20.693  INFO 3976 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Ant [pattern='/management/**'], Ant [pattern='/services/tasks/**'], Ant [pattern='/login'], Ant [pattern='/logout']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@2aeb7c4c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@67f266bd, org.springframework.security.web.context.SecurityContextPersistenceFilter@6ba355e4, org.springframework.security.web.header.HeaderWriterFilter@8167f57, org.springframework.security.web.csrf.CsrfFilter@2173e4d5, org.springframework.security.web.authentication.logout.LogoutFilter@24f5e9e8, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@333a2df2, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@767d9b9, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@31c0c7e5, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@36cf6377, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b15e68c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79a68657, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@912747d, org.springframework.security.web.session.SessionManagementFilter@541897c6, org.springframework.security.web.access.ExceptionTranslationFilter@13c81bc5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@22172b00]
2023-03-13 10:55:20.700  INFO 3976 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/services/webhook'] with [org.springframework.security.web.session.DisableEncodeUrlFilter@60b4d934, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a3e633a, org.springframework.security.web.context.SecurityContextPersistenceFilter@70aa03c0, org.springframework.security.web.header.HeaderWriterFilter@6ee1ddcf, org.springframework.security.web.authentication.logout.LogoutFilter@77db231c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@44da745f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2435c6ae, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41abee65, org.springframework.security.web.session.SessionManagementFilter@6b630d4b, org.springframework.security.web.access.ExceptionTranslationFilter@5ced0537]
2023-03-13 10:55:21.193  INFO 3976 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to DHIS 2.38.1
2023-03-13 10:55:21.385  INFO 3976 --- [main] io.hawt.log.logback.LogbackLogQuery      : Connected to Logback appender to trap logs with Hawtio log plugin
2023-03-13 10:55:21.784  INFO 3976 --- [main] org.apache.activemq.artemis.core.server  : AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,jdbcDriverClassName=null,jdbcConnectionUrl=null,messageTableName=messages,bindingsTableName=bindings,largeMessageTableName=large_messages,pageStoreTableName=page_store,)
2023-03-13 10:55:21.792  INFO 3976 --- [main] org.apache.activemq.artemis.core.server  : AMQ221045: libaio is not available, switching the configuration into NIO
2023-03-13 10:55:21.855  INFO 3976 --- [main] org.apache.activemq.artemis.core.server  : AMQ221057: Global Max Size is being adjusted to 1/2 of the JVM max size (-Xmx). being defined as 4 250 927 104
2023-03-13 10:55:21.873  INFO 3976 --- [main] org.apache.activemq.artemis.core.server  : AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE
2023-03-13 10:55:21.956  INFO 3976 --- [main] org.apache.activemq.artemis.core.server  : AMQ221034: Waiting indefinitely to obtain live lock
2023-03-13 10:55:21.957  INFO 3976 --- [main] org.apache.activemq.artemis.core.server  : AMQ221035: Live Server Obtained live lock
2023-03-13 10:55:22.022  INFO 3976 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address DLQ supporting [ANYCAST]
2023-03-13 10:55:22.023  INFO 3976 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue DLQ on address DLQ
2023-03-13 10:55:22.027  INFO 3976 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address ExpiryQueue supporting [ANYCAST]
2023-03-13 10:55:22.028  INFO 3976 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue ExpiryQueue on address ExpiryQueue
2023-03-13 10:55:22.049  INFO 3976 --- [main] org.apache.activemq.artemis.core.server  : AMQ221007: Server is now live
2023-03-13 10:55:22.050  INFO 3976 --- [main] org.apache.activemq.artemis.core.server  : AMQ221001: Apache ActiveMQ Artemis Message Broker version 2.19.1 [localhost, nodeID=f561d4b4-8b4f-11ed-b036-4c034f8a3e96] 
2023-03-13 10:55:22.288  INFO 3976 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/management'
2023-03-13 10:55:22.410  INFO 3976 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=/dhis2rapidpro]
2023-03-13 10:55:22.411  INFO 3976 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8443 (https) with context path '/dhis2rapidpro'
2023-03-13 10:55:23.592  INFO 3976 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) is starting
2023-03-13 10:55:23.670  INFO 3976 --- [main] o.a.c.component.quartz.QuartzComponent   : Setting org.quartz.scheduler.jmx.export=true to ensure QuartzScheduler(s) will be enlisted in JMX
2023-03-13 10:55:23.691  INFO 3976 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2023-03-13 10:55:23.693  INFO 3976 --- [main] org.quartz.simpl.SimpleThreadPool        : Job execution threads will use class loader of thread: main
2023-03-13 10:55:23.701  INFO 3976 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2023-03-13 10:55:23.702  INFO 3976 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.
2023-03-13 10:55:23.703  INFO 3976 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2023-03-13 10:55:23.707  INFO 3976 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) 'DefaultQuartzScheduler-camel-1' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2023-03-13 10:55:23.708  INFO 3976 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'DefaultQuartzScheduler-camel-1' initialized from an externally provided properties instance.
2023-03-13 10:55:23.708  INFO 3976 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.3.2
2023-03-13 10:55:23.801  INFO 3976 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.pull (cron=0 0/30 * * * ?, triggerType=CronTriggerImpl, jobClass=StatefulCamelJob) is scheduled. Next fire date is 2023-03-13T11:00:00.000+0100
2023-03-13 10:55:23.828  INFO 3976 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.reminders (cron=0 0 9 ? * *, triggerType=CronTriggerImpl, jobClass=CamelJob) is scheduled. Next fire date is 2023-03-14T09:00:00.000+0100
2023-03-13 10:55:23.914  INFO 3976 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.sync (cron=0 0/30 * * * ?, triggerType=CronTriggerImpl, jobClass=StatefulCamelJob) is scheduled. Next fire date is 2023-03-13T11:00:00.000+0100
2023-03-13 10:55:23.970  INFO 3976 --- [main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2023-03-13 10:55:23.971  INFO 3976 --- [CamelMainRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.20.2 is starting
2023-03-13 10:55:23.972  INFO 3976 --- [main] .a.c.s.FileWatcherResourceReloadStrategy : Live route reloading enabled (directory: routes)
2023-03-13 10:55:24.076  INFO 3976 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:29)
2023-03-13 10:55:24.076  INFO 3976 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Set up RapidPro (direct://prepareRapidPro)
2023-03-13 10:55:24.076  INFO 3976 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create RapidPro Fields (direct://createFieldsRoute)
2023-03-13 10:55:24.077  INFO 3976 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create RapidPro Group (direct://createGroupRoute)
2023-03-13 10:55:24.077  INFO 3976 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (servlet:/tasks/scan)
2023-03-13 10:55:24.077  INFO 3976 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (quartz://pull)
2023-03-13 10:55:24.078  INFO 3976 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Scan RapidPro Flows (direct://pull)
2023-03-13 10:55:24.078  INFO 3976 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (servlet:/tasks/reminders)
2023-03-13 10:55:24.078  INFO 3976 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (quartz://reminders)
2023-03-13 10:55:24.078  INFO 3976 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Broadcast Reminders (direct://reminders)
2023-03-13 10:55:24.078  INFO 3976 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (direct://fetchDataSet)
2023-03-13 10:55:24.079  INFO 3976 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route6 (direct://fetchContacts)
2023-03-13 10:55:24.079  INFO 3976 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route7 (direct://fetchReportRate)
2023-03-13 10:55:24.079  INFO 3976 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route8 (direct://sendBroadcast)
2023-03-13 10:55:24.079  INFO 3976 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Retry Reports (timer://retry)
2023-03-13 10:55:24.080  INFO 3976 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Consume Report (jms://queue:dhis2)
2023-03-13 10:55:24.080  INFO 3976 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Deliver Report (direct://deliverReport)
2023-03-13 10:55:24.080  INFO 3976 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Transform Report (direct://transformReport)
2023-03-13 10:55:24.080  INFO 3976 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Transmit Report (direct://transmitReport)
2023-03-13 10:55:24.080  INFO 3976 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Save Failed Report (direct://dlq)
2023-03-13 10:55:24.080  INFO 3976 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Compute Period (direct://computePeriod)
2023-03-13 10:55:24.081  INFO 3976 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route9 (direct://completeDataSetRegistration)
2023-03-13 10:55:24.081  INFO 3976 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route10 (servlet:/tasks/sync)
2023-03-13 10:55:24.081  INFO 3976 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route11 (quartz://sync)
2023-03-13 10:55:24.081  INFO 3976 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Sync RapidPro Contacts (direct://sync)
2023-03-13 10:55:24.081  INFO 3976 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route12 (direct://createContact)
2023-03-13 10:55:24.082  INFO 3976 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route13 (direct://updateContact)
2023-03-13 10:55:24.082  INFO 3976 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Set up Program Fields RapidPro (direct://prepareTrackerRapidPro)
2023-03-13 10:55:24.082  INFO 3976 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create Program RapidPro Fields (direct://createProgramFieldsRoute)
2023-03-13 10:55:24.083  INFO 3976 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create Program RapidPro Group (direct://createProgramGroupRoute)
2023-03-13 10:55:24.083  INFO 3976 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) started in 1s661ms (build:70ms init:1s102ms start:489ms)
2023-03-13 10:55:24.085  INFO 3976 --- [main] o.a.c.component.quartz.QuartzComponent   : Starting Quartz scheduler: org.quartz.impl.StdScheduler@47e6004c
2023-03-13 10:55:24.085  INFO 3976 --- [main] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED started.
2023-03-13 10:55:24.089  INFO 3976 --- [main] o.h.d.integration.rapidpro.Application   : Started Application in 7.837 seconds (JVM running for 8.237)
2023-03-13 10:55:24.095  INFO 3976 --- [main] o.h.d.integration.rapidpro.Application   : 
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 ONLINE

 Hawtio console: https://192.168.1.122:8443/dhis2rapidpro/management/hawtio
 H2 console: https://192.168.1.122:8443/dhis2rapidpro/management/h2-console
 Poll flows task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/scan
 Sync contacts task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/sync
 Remind contacts task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/reminders

 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

2023-03-13 10:55:25.989  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) is shutting down (timeout:45s)
2023-03-13 10:55:25.992  INFO 3976 --- [Camel (camel-1) thread #4 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.sync
2023-03-13 10:55:25.993  INFO 3976 --- [Camel (camel-1) thread #4 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.reminders
2023-03-13 10:55:25.994  INFO 3976 --- [Camel (camel-1) thread #4 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.pull
2023-03-13 10:55:26.127  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.sync
2023-03-13 10:55:26.132  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.reminders
2023-03-13 10:55:26.133  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.pull
2023-03-13 10:55:26.135  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:29)
2023-03-13 10:55:26.136  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create Program RapidPro Group (direct://createProgramGroupRoute)
2023-03-13 10:55:26.136  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create Program RapidPro Fields (direct://createProgramFieldsRoute)
2023-03-13 10:55:26.136  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Set up Program Fields RapidPro (direct://prepareTrackerRapidPro)
2023-03-13 10:55:26.137  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route13 (direct://updateContact)
2023-03-13 10:55:26.137  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route12 (direct://createContact)
2023-03-13 10:55:26.137  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Sync RapidPro Contacts (direct://sync)
2023-03-13 10:55:26.137  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route11 (quartz://sync)
2023-03-13 10:55:26.138  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route10 (servlet:/tasks/sync)
2023-03-13 10:55:26.138  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route9 (direct://completeDataSetRegistration)
2023-03-13 10:55:26.138  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Compute Period (direct://computePeriod)
2023-03-13 10:55:26.139  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Save Failed Report (direct://dlq)
2023-03-13 10:55:26.139  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Transmit Report (direct://transmitReport)
2023-03-13 10:55:26.139  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Transform Report (direct://transformReport)
2023-03-13 10:55:26.139  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Deliver Report (direct://deliverReport)
2023-03-13 10:55:26.139  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Consume Report (jms://queue:dhis2)
2023-03-13 10:55:26.139  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Retry Reports (timer://retry)
2023-03-13 10:55:26.140  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route8 (direct://sendBroadcast)
2023-03-13 10:55:26.140  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route7 (direct://fetchReportRate)
2023-03-13 10:55:26.140  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route6 (direct://fetchContacts)
2023-03-13 10:55:26.140  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (direct://fetchDataSet)
2023-03-13 10:55:26.141  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Broadcast Reminders (direct://reminders)
2023-03-13 10:55:26.141  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (quartz://reminders)
2023-03-13 10:55:26.141  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (servlet:/tasks/reminders)
2023-03-13 10:55:26.141  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Scan RapidPro Flows (direct://pull)
2023-03-13 10:55:26.141  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (quartz://pull)
2023-03-13 10:55:26.142  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (servlet:/tasks/scan)
2023-03-13 10:55:26.142  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create RapidPro Group (direct://createGroupRoute)
2023-03-13 10:55:26.142  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create RapidPro Fields (direct://createFieldsRoute)
2023-03-13 10:55:26.142  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Set up RapidPro (direct://prepareRapidPro)
2023-03-13 10:55:26.144  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzComponent   : Shutting down Quartz scheduler (will wait for all jobs to complete first)
2023-03-13 10:55:26.144  INFO 3976 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED shutting down.
2023-03-13 10:55:26.145  INFO 3976 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED paused.
2023-03-13 10:55:26.211  INFO 3976 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler unregistered from name 'quartz:type=QuartzScheduler,name=DefaultQuartzScheduler-camel-1,instance=NON_CLUSTERED' in the local MBeanServer.
2023-03-13 10:55:26.212  INFO 3976 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED shutdown complete.
2023-03-13 10:55:26.216  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) shutdown in 227ms (uptime:2s)
2023-03-13 10:55:26.227  INFO 3976 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-03-13 10:55:26.228  INFO 3976 --- [SpringApplicationShutdownHook] io.hawt.web.auth.AuthenticationFilter    : Destroying hawtio authentication filter
2023-03-13 10:55:26.228  INFO 3976 --- [SpringApplicationShutdownHook] io.hawt.HawtioContextListener            : Destroying hawtio services
2023-03-13 10:55:26.300  INFO 3976 --- [SpringApplicationShutdownHook] org.apache.activemq.artemis.core.server  : AMQ221002: Apache ActiveMQ Artemis Message Broker version 2.19.1 [f561d4b4-8b4f-11ed-b036-4c034f8a3e96] stopped, uptime 4.529 seconds
2023-03-13 11:15:36.015  INFO 17944 --- [main] o.h.d.integration.rapidpro.Application   : Starting Application using Java 19.0.1 on DESKTOP-BIR2HG9 with PID 17944 (C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp\target\classes started by JohanGangsåsHole in C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp)
2023-03-13 11:15:36.020 DEBUG 17944 --- [main] o.h.d.integration.rapidpro.Application   : Running with Spring Boot v2.7.4, Spring v5.3.23
2023-03-13 11:15:36.021  INFO 17944 --- [main] o.h.d.integration.rapidpro.Application   : No active profile set, falling back to 1 default profile: "default"
2023-03-13 11:15:37.681  INFO 17944 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)
2023-03-13 11:15:37.693  INFO 17944 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-13 11:15:37.693  INFO 17944 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2023-03-13 11:15:37.860  INFO 17944 --- [main] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring embedded WebApplicationContext
2023-03-13 11:15:37.860  INFO 17944 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1785 ms
2023-03-13 11:15:38.290  INFO 17944 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/management/h2-console'. Database available at 'jdbc:h2:./dhis2rapidpro'
2023-03-13 11:15:38.478  INFO 17944 --- [main] o.s.b.a.e.web.ServletEndpointRegistrar   : Registered '/management/jolokia' to jolokia-actuator-endpoint
2023-03-13 11:15:38.499  INFO 17944 --- [main] io.hawt.HawtioContextListener            : Initialising hawtio services
2023-03-13 11:15:38.505  INFO 17944 --- [main] io.hawt.system.ConfigManager             : Configuration will be discovered via system properties
2023-03-13 11:15:38.508  INFO 17944 --- [main] io.hawt.jmx.JmxTreeWatcher               : Welcome to Hawtio 2.16.2
2023-03-13 11:15:38.521  INFO 17944 --- [main] i.h.w.auth.AuthenticationConfiguration   : Starting hawtio authentication filter, JAAS authentication disabled
2023-03-13 11:15:38.523  INFO 17944 --- [main] io.hawt.web.auth.LoginRedirectFilter     : Hawtio loginRedirectFilter is using 1800 sec. HttpSession timeout
2023-03-13 11:15:39.897  INFO 17944 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to RapidPro
2023-03-13 11:15:39.901  INFO 17944 --- [main] o.h.d.i.r.security.KeyStoreGenerator     : Re-using existing key store at file:/C:/Users/JohanGangsåsHole/Documents/integration-dhis2-whatsapp/tls.jks
2023-03-13 11:15:40.039  INFO 17944 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Ant [pattern='/management/**'], Ant [pattern='/services/tasks/**'], Ant [pattern='/login'], Ant [pattern='/logout']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@5e3cb58e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18f8e2e0, org.springframework.security.web.context.SecurityContextPersistenceFilter@e7b3e54, org.springframework.security.web.header.HeaderWriterFilter@37753b69, org.springframework.security.web.csrf.CsrfFilter@6081f330, org.springframework.security.web.authentication.logout.LogoutFilter@6e66b498, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4ea43d4d, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@60f3239f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@28d56028, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4db16677, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4cfe9594, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60861e5d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c56fff, org.springframework.security.web.session.SessionManagementFilter@74c04377, org.springframework.security.web.access.ExceptionTranslationFilter@1ab1d93d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f60e66a]
2023-03-13 11:15:40.046  INFO 17944 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/services/webhook'] with [org.springframework.security.web.session.DisableEncodeUrlFilter@8f09a02, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5454be, org.springframework.security.web.context.SecurityContextPersistenceFilter@14fff5e7, org.springframework.security.web.header.HeaderWriterFilter@5a6af2c4, org.springframework.security.web.authentication.logout.LogoutFilter@443dae2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1203d787, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f72fbd1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2dd08ff1, org.springframework.security.web.session.SessionManagementFilter@123c48d0, org.springframework.security.web.access.ExceptionTranslationFilter@796fe2b5]
2023-03-13 11:15:40.537  INFO 17944 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to DHIS 2.38.1
2023-03-13 11:15:40.730  INFO 17944 --- [main] io.hawt.log.logback.LogbackLogQuery      : Connected to Logback appender to trap logs with Hawtio log plugin
2023-03-13 11:15:41.094  INFO 17944 --- [main] org.apache.activemq.artemis.core.server  : AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,jdbcDriverClassName=null,jdbcConnectionUrl=null,messageTableName=messages,bindingsTableName=bindings,largeMessageTableName=large_messages,pageStoreTableName=page_store,)
2023-03-13 11:15:41.102  INFO 17944 --- [main] org.apache.activemq.artemis.core.server  : AMQ221045: libaio is not available, switching the configuration into NIO
2023-03-13 11:15:41.147  INFO 17944 --- [main] org.apache.activemq.artemis.core.server  : AMQ221057: Global Max Size is being adjusted to 1/2 of the JVM max size (-Xmx). being defined as 4 250 927 104
2023-03-13 11:15:41.163  INFO 17944 --- [main] org.apache.activemq.artemis.core.server  : AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE
2023-03-13 11:15:41.238  INFO 17944 --- [main] org.apache.activemq.artemis.core.server  : AMQ221034: Waiting indefinitely to obtain live lock
2023-03-13 11:15:41.239  INFO 17944 --- [main] org.apache.activemq.artemis.core.server  : AMQ221035: Live Server Obtained live lock
2023-03-13 11:15:41.299  INFO 17944 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address DLQ supporting [ANYCAST]
2023-03-13 11:15:41.300  INFO 17944 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue DLQ on address DLQ
2023-03-13 11:15:41.304  INFO 17944 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address ExpiryQueue supporting [ANYCAST]
2023-03-13 11:15:41.304  INFO 17944 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue ExpiryQueue on address ExpiryQueue
2023-03-13 11:15:41.324  INFO 17944 --- [main] org.apache.activemq.artemis.core.server  : AMQ221007: Server is now live
2023-03-13 11:15:41.324  INFO 17944 --- [main] org.apache.activemq.artemis.core.server  : AMQ221001: Apache ActiveMQ Artemis Message Broker version 2.19.1 [localhost, nodeID=f561d4b4-8b4f-11ed-b036-4c034f8a3e96] 
2023-03-13 11:15:41.516  INFO 17944 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/management'
2023-03-13 11:15:41.635  INFO 17944 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=/dhis2rapidpro]
2023-03-13 11:15:41.636  INFO 17944 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8443 (https) with context path '/dhis2rapidpro'
2023-03-13 11:15:42.441  INFO 17944 --- [RMI TCP Connection(1)-127.0.0.1] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-13 11:15:42.443  INFO 17944 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-03-13 11:15:42.445  INFO 17944 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-03-13 11:15:43.000  INFO 17944 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) is starting
2023-03-13 11:15:43.079  INFO 17944 --- [main] o.a.c.component.quartz.QuartzComponent   : Setting org.quartz.scheduler.jmx.export=true to ensure QuartzScheduler(s) will be enlisted in JMX
2023-03-13 11:15:43.096  INFO 17944 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2023-03-13 11:15:43.099  INFO 17944 --- [main] org.quartz.simpl.SimpleThreadPool        : Job execution threads will use class loader of thread: main
2023-03-13 11:15:43.106  INFO 17944 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2023-03-13 11:15:43.107  INFO 17944 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.
2023-03-13 11:15:43.108  INFO 17944 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2023-03-13 11:15:43.111  INFO 17944 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) 'DefaultQuartzScheduler-camel-1' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2023-03-13 11:15:43.112  INFO 17944 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'DefaultQuartzScheduler-camel-1' initialized from an externally provided properties instance.
2023-03-13 11:15:43.112  INFO 17944 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.3.2
2023-03-13 11:15:43.177  INFO 17944 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.reminders (cron=0 0 9 ? * *, triggerType=CronTriggerImpl, jobClass=CamelJob) is scheduled. Next fire date is 2023-03-14T09:00:00.000+0100
2023-03-13 11:15:43.251  INFO 17944 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.sync (cron=0 0/30 * * * ?, triggerType=CronTriggerImpl, jobClass=StatefulCamelJob) is scheduled. Next fire date is 2023-03-13T11:30:00.000+0100
2023-03-13 11:15:43.289  INFO 17944 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.pull (cron=0 0/30 * * * ?, triggerType=CronTriggerImpl, jobClass=StatefulCamelJob) is scheduled. Next fire date is 2023-03-13T11:30:00.000+0100
2023-03-13 11:15:43.404  INFO 17944 --- [main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2023-03-13 11:15:43.405  INFO 17944 --- [CamelMainRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.20.2 is starting
2023-03-13 11:15:43.406  INFO 17944 --- [main] .a.c.s.FileWatcherResourceReloadStrategy : Live route reloading enabled (directory: routes)
2023-03-13 11:15:43.512  INFO 17944 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:29)
2023-03-13 11:15:43.512  INFO 17944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (servlet:/tasks/reminders)
2023-03-13 11:15:43.512  INFO 17944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (quartz://reminders)
2023-03-13 11:15:43.513  INFO 17944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Broadcast Reminders (direct://reminders)
2023-03-13 11:15:43.513  INFO 17944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (direct://fetchDataSet)
2023-03-13 11:15:43.513  INFO 17944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (direct://fetchContacts)
2023-03-13 11:15:43.513  INFO 17944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (direct://fetchReportRate)
2023-03-13 11:15:43.514  INFO 17944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route6 (direct://sendBroadcast)
2023-03-13 11:15:43.514  INFO 17944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route7 (servlet:/tasks/sync)
2023-03-13 11:15:43.514  INFO 17944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route8 (quartz://sync)
2023-03-13 11:15:43.514  INFO 17944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Sync RapidPro Contacts (direct://sync)
2023-03-13 11:15:43.515  INFO 17944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route9 (direct://createContact)
2023-03-13 11:15:43.515  INFO 17944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route10 (direct://updateContact)
2023-03-13 11:15:43.515  INFO 17944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route11 (servlet:/tasks/scan)
2023-03-13 11:15:43.515  INFO 17944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route12 (quartz://pull)
2023-03-13 11:15:43.515  INFO 17944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Scan RapidPro Flows (direct://pull)
2023-03-13 11:15:43.516  INFO 17944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Set up RapidPro (direct://prepareRapidPro)
2023-03-13 11:15:43.516  INFO 17944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create RapidPro Fields (direct://createFieldsRoute)
2023-03-13 11:15:43.516  INFO 17944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create RapidPro Group (direct://createGroupRoute)
2023-03-13 11:15:43.516  INFO 17944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Set up Program Fields RapidPro (direct://prepareTrackerRapidPro)
2023-03-13 11:15:43.516  INFO 17944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create Program RapidPro Fields (direct://createProgramFieldsRoute)
2023-03-13 11:15:43.517  INFO 17944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create Program RapidPro Group (direct://createProgramGroupRoute)
2023-03-13 11:15:43.517  INFO 17944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Retry Reports (timer://retry)
2023-03-13 11:15:43.517  INFO 17944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Consume Report (jms://queue:dhis2)
2023-03-13 11:15:43.517  INFO 17944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Deliver Report (direct://deliverReport)
2023-03-13 11:15:43.517  INFO 17944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Transform Report (direct://transformReport)
2023-03-13 11:15:43.518  INFO 17944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Transmit Report (direct://transmitReport)
2023-03-13 11:15:43.518  INFO 17944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Save Failed Report (direct://dlq)
2023-03-13 11:15:43.518  INFO 17944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Compute Period (direct://computePeriod)
2023-03-13 11:15:43.518  INFO 17944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route13 (direct://completeDataSetRegistration)
2023-03-13 11:15:43.519  INFO 17944 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) started in 1s860ms (build:49ms init:1s293ms start:518ms)
2023-03-13 11:15:43.520  INFO 17944 --- [main] o.a.c.component.quartz.QuartzComponent   : Starting Quartz scheduler: org.quartz.impl.StdScheduler@7b0f5814
2023-03-13 11:15:43.521  INFO 17944 --- [main] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED started.
2023-03-13 11:15:43.523  INFO 17944 --- [main] o.h.d.integration.rapidpro.Application   : Started Application in 7.898 seconds (JVM running for 8.327)
2023-03-13 11:15:43.534  INFO 17944 --- [main] o.h.d.integration.rapidpro.Application   : 
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 ONLINE

 Hawtio console: https://192.168.1.122:8443/dhis2rapidpro/management/hawtio
 H2 console: https://192.168.1.122:8443/dhis2rapidpro/management/h2-console
 Poll flows task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/scan
 Sync contacts task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/sync
 Remind contacts task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/reminders

 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

2023-03-13 11:19:46.134  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) is shutting down (timeout:45s)
2023-03-13 11:19:46.138  INFO 17944 --- [Camel (camel-1) thread #4 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.pull
2023-03-13 11:19:46.138  INFO 17944 --- [Camel (camel-1) thread #4 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.sync
2023-03-13 11:19:46.139  INFO 17944 --- [Camel (camel-1) thread #4 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.reminders
2023-03-13 11:19:46.711  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.pull
2023-03-13 11:19:46.713  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.sync
2023-03-13 11:19:46.716  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.reminders
2023-03-13 11:19:46.717  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:29)
2023-03-13 11:19:46.718  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route13 (direct://completeDataSetRegistration)
2023-03-13 11:19:46.718  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Compute Period (direct://computePeriod)
2023-03-13 11:19:46.718  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Save Failed Report (direct://dlq)
2023-03-13 11:19:46.718  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Transmit Report (direct://transmitReport)
2023-03-13 11:19:46.719  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Transform Report (direct://transformReport)
2023-03-13 11:19:46.719  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Deliver Report (direct://deliverReport)
2023-03-13 11:19:46.719  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Consume Report (jms://queue:dhis2)
2023-03-13 11:19:46.719  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Retry Reports (timer://retry)
2023-03-13 11:19:46.720  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create Program RapidPro Group (direct://createProgramGroupRoute)
2023-03-13 11:19:46.720  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create Program RapidPro Fields (direct://createProgramFieldsRoute)
2023-03-13 11:19:46.720  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Set up Program Fields RapidPro (direct://prepareTrackerRapidPro)
2023-03-13 11:19:46.720  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create RapidPro Group (direct://createGroupRoute)
2023-03-13 11:19:46.721  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create RapidPro Fields (direct://createFieldsRoute)
2023-03-13 11:19:46.721  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Set up RapidPro (direct://prepareRapidPro)
2023-03-13 11:19:46.721  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Scan RapidPro Flows (direct://pull)
2023-03-13 11:19:46.721  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route12 (quartz://pull)
2023-03-13 11:19:46.722  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route11 (servlet:/tasks/scan)
2023-03-13 11:19:46.722  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route10 (direct://updateContact)
2023-03-13 11:19:46.722  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route9 (direct://createContact)
2023-03-13 11:19:46.723  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Sync RapidPro Contacts (direct://sync)
2023-03-13 11:19:46.723  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route8 (quartz://sync)
2023-03-13 11:19:46.723  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route7 (servlet:/tasks/sync)
2023-03-13 11:19:46.724  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route6 (direct://sendBroadcast)
2023-03-13 11:19:46.724  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (direct://fetchReportRate)
2023-03-13 11:19:46.724  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (direct://fetchContacts)
2023-03-13 11:19:46.724  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (direct://fetchDataSet)
2023-03-13 11:19:46.724  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Broadcast Reminders (direct://reminders)
2023-03-13 11:19:46.725  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (quartz://reminders)
2023-03-13 11:19:46.725  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (servlet:/tasks/reminders)
2023-03-13 11:19:46.726  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzComponent   : Shutting down Quartz scheduler (will wait for all jobs to complete first)
2023-03-13 11:19:46.727  INFO 17944 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED shutting down.
2023-03-13 11:19:46.727  INFO 17944 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED paused.
2023-03-13 11:19:46.827  INFO 17944 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler unregistered from name 'quartz:type=QuartzScheduler,name=DefaultQuartzScheduler-camel-1,instance=NON_CLUSTERED' in the local MBeanServer.
2023-03-13 11:19:46.828  INFO 17944 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED shutdown complete.
2023-03-13 11:19:46.833  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) shutdown in 699ms (uptime:4m3s)
2023-03-13 11:19:46.854  INFO 17944 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-03-13 11:19:46.855  INFO 17944 --- [SpringApplicationShutdownHook] io.hawt.web.auth.AuthenticationFilter    : Destroying hawtio authentication filter
2023-03-13 11:19:46.856  INFO 17944 --- [SpringApplicationShutdownHook] io.hawt.HawtioContextListener            : Destroying hawtio services
2023-03-13 11:19:46.930  INFO 17944 --- [SpringApplicationShutdownHook] org.apache.activemq.artemis.core.server  : AMQ221002: Apache ActiveMQ Artemis Message Broker version 2.19.1 [f561d4b4-8b4f-11ed-b036-4c034f8a3e96] stopped, uptime 4 minutes
2023-03-13 11:19:50.092  INFO 41732 --- [main] o.h.d.integration.rapidpro.Application   : Starting Application using Java 19.0.1 on DESKTOP-BIR2HG9 with PID 41732 (C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp\target\classes started by JohanGangsåsHole in C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp)
2023-03-13 11:19:50.095 DEBUG 41732 --- [main] o.h.d.integration.rapidpro.Application   : Running with Spring Boot v2.7.4, Spring v5.3.23
2023-03-13 11:19:50.096  INFO 41732 --- [main] o.h.d.integration.rapidpro.Application   : No active profile set, falling back to 1 default profile: "default"
2023-03-13 11:19:51.455  INFO 41732 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)
2023-03-13 11:19:51.465  INFO 41732 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-13 11:19:51.466  INFO 41732 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2023-03-13 11:19:51.613  INFO 41732 --- [main] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring embedded WebApplicationContext
2023-03-13 11:19:51.614  INFO 41732 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1478 ms
2023-03-13 11:19:51.754 ERROR 41732 --- [main] javax.management.mbeanserver             : The LogManager accessed before the "java.util.logging.manager" system property was set to "org.jboss.logmanager.LogManager". Results may be unexpected.
2023-03-13 11:19:52.115  INFO 41732 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/management/h2-console'. Database available at 'jdbc:h2:./dhis2rapidpro'
2023-03-13 11:19:52.339  INFO 41732 --- [main] o.s.b.a.e.web.ServletEndpointRegistrar   : Registered '/management/jolokia' to jolokia-actuator-endpoint
2023-03-13 11:19:52.361  INFO 41732 --- [main] io.hawt.HawtioContextListener            : Initialising hawtio services
2023-03-13 11:19:52.368  INFO 41732 --- [main] io.hawt.system.ConfigManager             : Configuration will be discovered via system properties
2023-03-13 11:19:52.373  INFO 41732 --- [main] io.hawt.jmx.JmxTreeWatcher               : Welcome to Hawtio 2.16.2
2023-03-13 11:19:52.389  INFO 41732 --- [main] i.h.w.auth.AuthenticationConfiguration   : Starting hawtio authentication filter, JAAS authentication disabled
2023-03-13 11:19:52.392  INFO 41732 --- [main] io.hawt.web.auth.LoginRedirectFilter     : Hawtio loginRedirectFilter is using 1800 sec. HttpSession timeout
2023-03-13 11:19:53.886  INFO 41732 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to RapidPro
2023-03-13 11:19:53.890  INFO 41732 --- [main] o.h.d.i.r.security.KeyStoreGenerator     : Re-using existing key store at file:/C:/Users/JohanGangsåsHole/Documents/integration-dhis2-whatsapp/tls.jks
2023-03-13 11:19:54.038  INFO 41732 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Ant [pattern='/management/**'], Ant [pattern='/services/tasks/**'], Ant [pattern='/login'], Ant [pattern='/logout']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@30437e9c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e057637, org.springframework.security.web.context.SecurityContextPersistenceFilter@3d50a3d9, org.springframework.security.web.header.HeaderWriterFilter@714b6999, org.springframework.security.web.csrf.CsrfFilter@59d0fac9, org.springframework.security.web.authentication.logout.LogoutFilter@5acd7d1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5ced0537, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2553dcc0, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@762f8ff6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@41abee65, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5111f814, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@71eafb64, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@30ed2a26, org.springframework.security.web.session.SessionManagementFilter@24f5e9e8, org.springframework.security.web.access.ExceptionTranslationFilter@229514ff, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@cea67b1]
2023-03-13 11:19:54.045  INFO 41732 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/services/webhook'] with [org.springframework.security.web.session.DisableEncodeUrlFilter@6fbcc078, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6c851821, org.springframework.security.web.context.SecurityContextPersistenceFilter@6a3a56de, org.springframework.security.web.header.HeaderWriterFilter@522f0bb8, org.springframework.security.web.authentication.logout.LogoutFilter@35744f8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2ed84be9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@400e741, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c0930c4, org.springframework.security.web.session.SessionManagementFilter@468f2a6f, org.springframework.security.web.access.ExceptionTranslationFilter@441016d6]
2023-03-13 11:19:54.580  INFO 41732 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to DHIS 2.38.1
2023-03-13 11:19:54.802  INFO 41732 --- [main] io.hawt.log.logback.LogbackLogQuery      : Connected to Logback appender to trap logs with Hawtio log plugin
2023-03-13 11:19:55.157  INFO 41732 --- [main] org.apache.activemq.artemis.core.server  : AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,jdbcDriverClassName=null,jdbcConnectionUrl=null,messageTableName=messages,bindingsTableName=bindings,largeMessageTableName=large_messages,pageStoreTableName=page_store,)
2023-03-13 11:19:55.165  INFO 41732 --- [main] org.apache.activemq.artemis.core.server  : AMQ221045: libaio is not available, switching the configuration into NIO
2023-03-13 11:19:55.230  INFO 41732 --- [main] org.apache.activemq.artemis.core.server  : AMQ221057: Global Max Size is being adjusted to 1/2 of the JVM max size (-Xmx). being defined as 4 250 927 104
2023-03-13 11:19:55.244  INFO 41732 --- [main] org.apache.activemq.artemis.core.server  : AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE
2023-03-13 11:19:55.324  INFO 41732 --- [main] org.apache.activemq.artemis.core.server  : AMQ221034: Waiting indefinitely to obtain live lock
2023-03-13 11:19:55.325  INFO 41732 --- [main] org.apache.activemq.artemis.core.server  : AMQ221035: Live Server Obtained live lock
2023-03-13 11:19:55.396  INFO 41732 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address DLQ supporting [ANYCAST]
2023-03-13 11:19:55.397  INFO 41732 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue DLQ on address DLQ
2023-03-13 11:19:55.400  INFO 41732 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address ExpiryQueue supporting [ANYCAST]
2023-03-13 11:19:55.400  INFO 41732 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue ExpiryQueue on address ExpiryQueue
2023-03-13 11:19:55.421  INFO 41732 --- [main] org.apache.activemq.artemis.core.server  : AMQ221007: Server is now live
2023-03-13 11:19:55.422  INFO 41732 --- [main] org.apache.activemq.artemis.core.server  : AMQ221001: Apache ActiveMQ Artemis Message Broker version 2.19.1 [localhost, nodeID=f561d4b4-8b4f-11ed-b036-4c034f8a3e96] 
2023-03-13 11:19:55.652  INFO 41732 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/management'
2023-03-13 11:19:55.798  INFO 41732 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=/dhis2rapidpro]
2023-03-13 11:19:55.799  INFO 41732 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8443 (https) with context path '/dhis2rapidpro'
2023-03-13 11:19:56.960  INFO 41732 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) is starting
2023-03-13 11:19:57.024  INFO 41732 --- [main] o.a.c.component.quartz.QuartzComponent   : Setting org.quartz.scheduler.jmx.export=true to ensure QuartzScheduler(s) will be enlisted in JMX
2023-03-13 11:19:57.041  INFO 41732 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2023-03-13 11:19:57.044  INFO 41732 --- [main] org.quartz.simpl.SimpleThreadPool        : Job execution threads will use class loader of thread: main
2023-03-13 11:19:57.051  INFO 41732 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2023-03-13 11:19:57.051  INFO 41732 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.
2023-03-13 11:19:57.052  INFO 41732 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2023-03-13 11:19:57.056  INFO 41732 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) 'DefaultQuartzScheduler-camel-1' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2023-03-13 11:19:57.057  INFO 41732 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'DefaultQuartzScheduler-camel-1' initialized from an externally provided properties instance.
2023-03-13 11:19:57.057  INFO 41732 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.3.2
2023-03-13 11:19:57.099  INFO 41732 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.sync (cron=0 0/30 * * * ?, triggerType=CronTriggerImpl, jobClass=StatefulCamelJob) is scheduled. Next fire date is 2023-03-13T11:30:00.000+0100
2023-03-13 11:19:57.163  INFO 41732 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.reminders (cron=0 0 9 ? * *, triggerType=CronTriggerImpl, jobClass=CamelJob) is scheduled. Next fire date is 2023-03-14T09:00:00.000+0100
2023-03-13 11:19:57.238  INFO 41732 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.pull (cron=0 0/30 * * * ?, triggerType=CronTriggerImpl, jobClass=StatefulCamelJob) is scheduled. Next fire date is 2023-03-13T11:30:00.000+0100
2023-03-13 11:19:57.274  INFO 41732 --- [main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2023-03-13 11:19:57.276  INFO 41732 --- [CamelMainRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.20.2 is starting
2023-03-13 11:19:57.277  INFO 41732 --- [main] .a.c.s.FileWatcherResourceReloadStrategy : Live route reloading enabled (directory: routes)
2023-03-13 11:19:57.378  INFO 41732 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:29)
2023-03-13 11:19:57.379  INFO 41732 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (servlet:/tasks/sync)
2023-03-13 11:19:57.379  INFO 41732 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (quartz://sync)
2023-03-13 11:19:57.379  INFO 41732 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Sync RapidPro Contacts (direct://sync)
2023-03-13 11:19:57.379  INFO 41732 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (direct://createContact)
2023-03-13 11:19:57.379  INFO 41732 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (direct://updateContact)
2023-03-13 11:19:57.380  INFO 41732 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Set up RapidPro (direct://prepareRapidPro)
2023-03-13 11:19:57.380  INFO 41732 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create RapidPro Fields (direct://createFieldsRoute)
2023-03-13 11:19:57.380  INFO 41732 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create RapidPro Group (direct://createGroupRoute)
2023-03-13 11:19:57.381  INFO 41732 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (servlet:/tasks/reminders)
2023-03-13 11:19:57.381  INFO 41732 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route6 (quartz://reminders)
2023-03-13 11:19:57.381  INFO 41732 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Broadcast Reminders (direct://reminders)
2023-03-13 11:19:57.381  INFO 41732 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route7 (direct://fetchDataSet)
2023-03-13 11:19:57.382  INFO 41732 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route8 (direct://fetchContacts)
2023-03-13 11:19:57.382  INFO 41732 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route9 (direct://fetchReportRate)
2023-03-13 11:19:57.382  INFO 41732 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route10 (direct://sendBroadcast)
2023-03-13 11:19:57.382  INFO 41732 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Retry Reports (timer://retry)
2023-03-13 11:19:57.382  INFO 41732 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Consume Report (jms://queue:dhis2)
2023-03-13 11:19:57.383  INFO 41732 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Deliver Report (direct://deliverReport)
2023-03-13 11:19:57.383  INFO 41732 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Transform Report (direct://transformReport)
2023-03-13 11:19:57.383  INFO 41732 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Transmit Report (direct://transmitReport)
2023-03-13 11:19:57.383  INFO 41732 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Save Failed Report (direct://dlq)
2023-03-13 11:19:57.383  INFO 41732 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Compute Period (direct://computePeriod)
2023-03-13 11:19:57.384  INFO 41732 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route11 (direct://completeDataSetRegistration)
2023-03-13 11:19:57.384  INFO 41732 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route12 (servlet:/tasks/scan)
2023-03-13 11:19:57.384  INFO 41732 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route13 (quartz://pull)
2023-03-13 11:19:57.384  INFO 41732 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Scan RapidPro Flows (direct://pull)
2023-03-13 11:19:57.385  INFO 41732 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Set up Program Fields RapidPro (direct://prepareTrackerRapidPro)
2023-03-13 11:19:57.385  INFO 41732 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create Program RapidPro Fields (direct://createProgramFieldsRoute)
2023-03-13 11:19:57.385  INFO 41732 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create Program RapidPro Group (direct://createProgramGroupRoute)
2023-03-13 11:19:57.385  INFO 41732 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) started in 1s566ms (build:51ms init:1s91ms start:424ms)
2023-03-13 11:19:57.387  INFO 41732 --- [main] o.a.c.component.quartz.QuartzComponent   : Starting Quartz scheduler: org.quartz.impl.StdScheduler@c5dc3db
2023-03-13 11:19:57.388  INFO 41732 --- [main] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED started.
2023-03-13 11:19:57.391  INFO 41732 --- [main] o.h.d.integration.rapidpro.Application   : Started Application in 7.579 seconds (JVM running for 7.94)
2023-03-13 11:19:57.398  INFO 41732 --- [main] o.h.d.integration.rapidpro.Application   : 
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 ONLINE

 Hawtio console: https://192.168.1.122:8443/dhis2rapidpro/management/hawtio
 H2 console: https://192.168.1.122:8443/dhis2rapidpro/management/h2-console
 Poll flows task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/scan
 Sync contacts task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/sync
 Remind contacts task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/reminders

 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

2023-03-13 11:26:52.899  INFO 41732 --- [https-jsse-nio-8443-exec-3] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-13 11:26:52.901  INFO 41732 --- [https-jsse-nio-8443-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-03-13 11:26:52.903  INFO 41732 --- [https-jsse-nio-8443-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-03-13 11:27:00.283 DEBUG 41732 --- [https-jsse-nio-8443-exec-10] o.h.d.i.r.route.AbstractRouteBuilder     : Fetched flow runs from https://textit.com/api/v2/runs.json?flow=77bdd647-56be-4ae2-9d9d-d4e4dbc71fca&after=&reverse=true => {"next":null,"previous":null,"results":[{"id":249053156,"uuid":"d9df4a06-b77b-406f-a513-1b8fa2e7b961","flow":{"uuid":"77bdd647-56be-4ae2-9d9d-d4e4dbc71fca","name":"Screening - Neonatal hearing loss - at 3 months of age"},"contact":{"uuid":"fa56549f-4a41-4848-a792-ba2e345530f9","name":"Johan Hole","urn":"whatsapp:4794277878","urn_display":"942 77 878"},"start":null,"responded":true,"path":[{"node":"83b03895-37ed-4213-be72-76fc59955e65","time":"2023-03-13T10:17:56.184320Z"},{"node":"0f2cefdc-f902-4d68-9ce8-769c9a84a905","time":"2023-03-13T10:17:56.184443Z"},{"node":"f5ab3c2a-9309-4e3c-8bce-c8b0f2cf9f9c","time":"2023-03-13T10:18:07.511290Z"},{"node":"cec4b4bb-4d70-4096-802a-031dd6bf1741","time":"2023-03-13T10:18:07.511334Z"},{"node":"0e4cd573-2f2a-4904-9701-b22d809850e6","time":"2023-03-13T10:18:07.511367Z"},{"node":"6bc2bc47-6093-4954-b7cf-dae064adf8f5","time":"2023-03-13T10:18:10.739067Z"},{"node":"00bc2e5d-207e-4ede-b51a-258655e99b45","time":"2023-03-13T10:18:10.739094Z"},{"node":"01cdf308-dc30-45f1-b18f-79295dacd587","time":"2023-03-13T10:18:10.739116Z"},{"node":"e5347256-057b-43d3-9439-822f939951d6","time":"2023-03-13T10:18:20.570018Z"},{"node":"d31359fb-74e4-41c7-858a-094a0ed97e7b","time":"2023-03-13T10:18:20.570039Z"},{"node":"81747631-812b-40dc-9975-169423d4ff4f","time":"2023-03-13T10:18:20.570058Z"},{"node":"e94f3337-ae40-4fe8-86b9-c9c60d869646","time":"2023-03-13T10:18:24.711264Z"},{"node":"44da1cb3-263b-4a20-96fd-4f01b799c3a7","time":"2023-03-13T10:18:24.711284Z"},{"node":"6ca7187b-293b-4e7f-8a82-3a4e62b555ee","time":"2023-03-13T10:18:24.711304Z"},{"node":"bea663f9-191a-49cc-bcb0-16bbe81c4a54","time":"2023-03-13T10:18:27.113682Z"},{"node":"31b0e814-57c0-4a94-976a-9eaa07204816","time":"2023-03-13T10:18:27.113703Z"},{"node":"7ccc26bd-f9bf-437c-9ade-185ab2c6e161","time":"2023-03-13T10:18:27.113724Z"},{"node":"62d8f09c-843b-4932-ae86-71fc3c1ff309","time":"2023-03-13T10:18:27.662619Z"}],"values":{"result":{"value":"404","category":"Failure","node":"7ccc26bd-f9bf-437c-9ade-185ab2c6e161","time":"2023-03-13T10:18:27.662449Z","input":"POST https://rapidpro.johangh.work/dhis2rapidpro/services/webhook?dataSetCode=DS_3month&reportPeriodOffset=-1&orgUnitId=W38uoWN5DzH","name":"Result"},"rp_29":{"value":"true","category":null,"node":"6bc2bc47-6093-4954-b7cf-dae064adf8f5","time":"2023-03-13T10:18:10.739089Z","input":null,"name":"rp_29"},"rp_30":{"value":"true","category":null,"node":"e5347256-057b-43d3-9439-822f939951d6","time":"2023-03-13T10:18:20.570035Z","input":null,"name":"rp_30"},"rp_31":{"value":"false","category":null,"node":"e94f3337-ae40-4fe8-86b9-c9c60d869646","time":"2023-03-13T10:18:24.711280Z","input":null,"name":"rp_31"},"rp_32":{"value":"false","category":null,"node":"bea663f9-191a-49cc-bcb0-16bbe81c4a54","time":"2023-03-13T10:18:27.113699Z","input":null,"name":"rp_32"}},"created_on":"2023-03-13T10:17:56.184311Z","modified_on":"2023-03-13T10:18:27.663646Z","exited_on":"2023-03-13T10:18:27.662654Z","exit_type":"completed"},{"id":249053322,"uuid":"6c2c7f35-277f-4dbf-8452-c6930783b818","flow":{"uuid":"77bdd647-56be-4ae2-9d9d-d4e4dbc71fca","name":"Screening - Neonatal hearing loss - at 3 months of age"},"contact":{"uuid":"fa56549f-4a41-4848-a792-ba2e345530f9","name":"Johan Hole","urn":"whatsapp:4794277878","urn_display":"942 77 878"},"start":null,"responded":true,"path":[{"node":"83b03895-37ed-4213-be72-76fc59955e65","time":"2023-03-13T10:26:16.805941Z"},{"node":"0f2cefdc-f902-4d68-9ce8-769c9a84a905","time":"2023-03-13T10:26:16.806073Z"},{"node":"f5ab3c2a-9309-4e3c-8bce-c8b0f2cf9f9c","time":"2023-03-13T10:26:21.047980Z"},{"node":"cec4b4bb-4d70-4096-802a-031dd6bf1741","time":"2023-03-13T10:26:21.048014Z"},{"node":"0e4cd573-2f2a-4904-9701-b22d809850e6","time":"2023-03-13T10:26:21.048037Z"},{"node":"6bc2bc47-6093-4954-b7cf-dae064adf8f5","time":"2023-03-13T10:26:31.131283Z"},{"node":"00bc2e5d-207e-4ede-b51a-258655e99b45","time":"2023-03-13T10:26:31.131305Z"},{"node":"01cdf308-dc30-45f1-b18f-79295dacd587","time":"2023-03-13T10:26:31.131324Z"},{"node":"e5347256-057b-43d3-9439-822f939951d6","time":"2023-03-13T10:26:33.973527Z"},{"node":"d31359fb-74e4-41c7-858a-094a0ed97e7b","time":"2023-03-13T10:26:33.973561Z"},{"node":"81747631-812b-40dc-9975-169423d4ff4f","time":"2023-03-13T10:26:33.973586Z"},{"node":"e4606719-c9e0-4902-b6be-22bc447808d4","time":"2023-03-13T10:26:36.729071Z"},{"node":"44da1cb3-263b-4a20-96fd-4f01b799c3a7","time":"2023-03-13T10:26:36.729092Z"},{"node":"6ca7187b-293b-4e7f-8a82-3a4e62b555ee","time":"2023-03-13T10:26:36.729114Z"},{"node":"357ca837-9df8-416a-9c9e-8b940c798472","time":"2023-03-13T10:26:39.426803Z"},{"node":"31b0e814-57c0-4a94-976a-9eaa07204816","time":"2023-03-13T10:26:39.426827Z"},{"node":"53d1ba84-abc7-4ee8-a6d2-df954b12da35","time":"2023-03-13T10:26:39.426852Z"},{"node":"2b91b465-22d3-453f-882e-75ed894b7945","time":"2023-03-13T10:26:39.426865Z"},{"node":"b2f05427-520f-4693-bad7-4ca07dde5ded","time":"2023-03-13T10:26:39.426879Z"}],"values":{"data_set_code":{"value":"DS_3month","category":null,"node":"53d1ba84-abc7-4ee8-a6d2-df954b12da35","time":"2023-03-13T10:26:39.426863Z","input":null,"name":"data_set_code"},"org_unit_id":{"value":"W38uoWN5DzH","category":null,"node":"2b91b465-22d3-453f-882e-75ed894b7945","time":"2023-03-13T10:26:39.426875Z","input":null,"name":"org_unit_id"},"rp_29":{"value":"true","category":null,"node":"6bc2bc47-6093-4954-b7cf-dae064adf8f5","time":"2023-03-13T10:26:31.131300Z","input":null,"name":"rp_29"},"rp_30":{"value":"true","category":null,"node":"e5347256-057b-43d3-9439-822f939951d6","time":"2023-03-13T10:26:33.973555Z","input":null,"name":"rp_30"},"rp_31":{"value":"true","category":null,"node":"e4606719-c9e0-4902-b6be-22bc447808d4","time":"2023-03-13T10:26:36.729088Z","input":null,"name":"rp_31"},"rp_32":{"value":"true","category":null,"node":"357ca837-9df8-416a-9c9e-8b940c798472","time":"2023-03-13T10:26:39.426821Z","input":null,"name":"rp_32"}},"created_on":"2023-03-13T10:26:16.805934Z","modified_on":"2023-03-13T10:26:39.427911Z","exited_on":"2023-03-13T10:26:39.426891Z","exit_type":"completed"}]}
2023-03-13 11:27:00.306 ERROR 41732 --- [https-jsse-nio-8443-exec-10] o.h.d.i.r.route.AbstractRouteBuilder     : Cannot process run for flow definition 77bdd647-56be-4ae2-9d9d-d4e4dbc71fca because the data set code is missing. Hint: save the data set code to a flow result named `data_set_code` in RapidPro
2023-03-13 11:27:00.392 DEBUG 41732 --- [https-jsse-nio-8443-exec-10] o.h.d.i.r.route.AbstractRouteBuilder     : Enqueued flow run [data set code = DS_3month,report period offset = ,content = {"flow":{"uuid":"77bdd647-56be-4ae2-9d9d-d4e4dbc71fca","name":"Screening - Neonatal hearing loss - at 3 months of age"},"contact":{"uuid":"fa56549f-4a41-4848-a792-ba2e345530f9","name":"Johan Hole","urn":"whatsapp:4794277878","urn_display":"942 77 878"},"results":{"data_set_code":{"value":"DS_3month","category":null,"node":"53d1ba84-abc7-4ee8-a6d2-df954b12da35","time":"2023-03-13T10:26:39.426863Z","input":null,"name":"data_set_code"},"org_unit_id":{"value":"W38uoWN5DzH","category":null,"node":"2b91b465-22d3-453f-882e-75ed894b7945","time":"2023-03-13T10:26:39.426875Z","input":null,"name":"org_unit_id"},"rp_29":{"value":"true","category":null,"node":"6bc2bc47-6093-4954-b7cf-dae064adf8f5","time":"2023-03-13T10:26:31.131300Z","input":null,"name":"rp_29"},"rp_30":{"value":"true","category":null,"node":"e5347256-057b-43d3-9439-822f939951d6","time":"2023-03-13T10:26:33.973555Z","input":null,"name":"rp_30"},"rp_31":{"value":"true","category":null,"node":"e4606719-c9e0-4902-b6be-22bc447808d4","time":"2023-03-13T10:26:36.729088Z","input":null,"name":"rp_31"},"rp_32":{"value":"true","category":null,"node":"357ca837-9df8-416a-9c9e-8b940c798472","time":"2023-03-13T10:26:39.426821Z","input":null,"name":"rp_32"}}}]
2023-03-13 11:27:01.515  WARN 41732 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.NativeDataSonnetLibrary        : Ignoring data value because of unknown DHIS2 data element code 'data_set_code'. Hint: ensure that the RapidPro result name matches the corresponding DHIS2 data element code
2023-03-13 11:27:01.517  WARN 41732 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.NativeDataSonnetLibrary        : Ignoring data value because of unknown DHIS2 data element code 'org_unit_id'. Hint: ensure that the RapidPro result name matches the corresponding DHIS2 data element code
2023-03-13 11:27:01.543  INFO 41732 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Saving data value set => {"completedDate":"2023-03-13","orgUnit":"W38uoWN5DzH","dataSet":"DS_3month","period":"2023W10","dataValues":[{"dataElement":"rp_29","value":"true","comment":"RapidPro contact details: \"{\\n \\\"uuid\\\": \\\"fa56549f-4a41-4848-a792-ba2e345530f9\\\",\\n \\\"name\\\": \\\"Johan Hole\\\",\\n \\\"urn\\\": \\\"whatsapp:4794277878\\\",\\n \\\"urn_display\\\": \\\"942 77 878\\\"\\n}\""},{"dataElement":"rp_30","value":"true","comment":"RapidPro contact details: \"{\\n \\\"uuid\\\": \\\"fa56549f-4a41-4848-a792-ba2e345530f9\\\",\\n \\\"name\\\": \\\"Johan Hole\\\",\\n \\\"urn\\\": \\\"whatsapp:4794277878\\\",\\n \\\"urn_display\\\": \\\"942 77 878\\\"\\n}\""},{"dataElement":"rp_31","value":"true","comment":"RapidPro contact details: \"{\\n \\\"uuid\\\": \\\"fa56549f-4a41-4848-a792-ba2e345530f9\\\",\\n \\\"name\\\": \\\"Johan Hole\\\",\\n \\\"urn\\\": \\\"whatsapp:4794277878\\\",\\n \\\"urn_display\\\": \\\"942 77 878\\\"\\n}\""},{"dataElement":"rp_32","value":"true","comment":"RapidPro contact details: \"{\\n \\\"uuid\\\": \\\"fa56549f-4a41-4848-a792-ba2e345530f9\\\",\\n \\\"name\\\": \\\"Johan Hole\\\",\\n \\\"urn\\\": \\\"whatsapp:4794277878\\\",\\n \\\"urn_display\\\": \\\"942 77 878\\\"\\n}\""}]}
2023-03-13 11:27:53.657  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) is shutting down (timeout:45s)
2023-03-13 11:27:53.660  INFO 41732 --- [Camel (camel-1) thread #8 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.pull
2023-03-13 11:27:53.665  INFO 41732 --- [Camel (camel-1) thread #8 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.reminders
2023-03-13 11:27:53.666  INFO 41732 --- [Camel (camel-1) thread #8 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.sync
2023-03-13 11:27:54.320  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.pull
2023-03-13 11:27:54.325  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.reminders
2023-03-13 11:27:54.328  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.sync
2023-03-13 11:27:54.330  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:29)
2023-03-13 11:27:54.330  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create Program RapidPro Group (direct://createProgramGroupRoute)
2023-03-13 11:27:54.330  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create Program RapidPro Fields (direct://createProgramFieldsRoute)
2023-03-13 11:27:54.330  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Set up Program Fields RapidPro (direct://prepareTrackerRapidPro)
2023-03-13 11:27:54.331  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Scan RapidPro Flows (direct://pull)
2023-03-13 11:27:54.331  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route13 (quartz://pull)
2023-03-13 11:27:54.331  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route12 (servlet:/tasks/scan)
2023-03-13 11:27:54.331  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route11 (direct://completeDataSetRegistration)
2023-03-13 11:27:54.332  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Compute Period (direct://computePeriod)
2023-03-13 11:27:54.332  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Save Failed Report (direct://dlq)
2023-03-13 11:27:54.332  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Transmit Report (direct://transmitReport)
2023-03-13 11:27:54.332  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Transform Report (direct://transformReport)
2023-03-13 11:27:54.332  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Deliver Report (direct://deliverReport)
2023-03-13 11:27:54.333  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Consume Report (jms://queue:dhis2)
2023-03-13 11:27:54.333  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Retry Reports (timer://retry)
2023-03-13 11:27:54.333  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route10 (direct://sendBroadcast)
2023-03-13 11:27:54.333  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route9 (direct://fetchReportRate)
2023-03-13 11:27:54.333  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route8 (direct://fetchContacts)
2023-03-13 11:27:54.333  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route7 (direct://fetchDataSet)
2023-03-13 11:27:54.334  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Broadcast Reminders (direct://reminders)
2023-03-13 11:27:54.334  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route6 (quartz://reminders)
2023-03-13 11:27:54.334  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (servlet:/tasks/reminders)
2023-03-13 11:27:54.334  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create RapidPro Group (direct://createGroupRoute)
2023-03-13 11:27:54.334  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create RapidPro Fields (direct://createFieldsRoute)
2023-03-13 11:27:54.334  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Set up RapidPro (direct://prepareRapidPro)
2023-03-13 11:27:54.335  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (direct://updateContact)
2023-03-13 11:27:54.335  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (direct://createContact)
2023-03-13 11:27:54.335  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Sync RapidPro Contacts (direct://sync)
2023-03-13 11:27:54.335  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (quartz://sync)
2023-03-13 11:27:54.335  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (servlet:/tasks/sync)
2023-03-13 11:27:54.338  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzComponent   : Shutting down Quartz scheduler (will wait for all jobs to complete first)
2023-03-13 11:27:54.338  INFO 41732 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED shutting down.
2023-03-13 11:27:54.338  INFO 41732 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED paused.
2023-03-13 11:27:54.670  INFO 41732 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler unregistered from name 'quartz:type=QuartzScheduler,name=DefaultQuartzScheduler-camel-1,instance=NON_CLUSTERED' in the local MBeanServer.
2023-03-13 11:27:54.671  INFO 41732 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED shutdown complete.
2023-03-13 11:27:54.675  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) shutdown in 1s17ms (uptime:7m57s)
2023-03-13 11:27:54.686  INFO 41732 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-03-13 11:27:54.687  INFO 41732 --- [SpringApplicationShutdownHook] io.hawt.web.auth.AuthenticationFilter    : Destroying hawtio authentication filter
2023-03-13 11:27:54.688  INFO 41732 --- [SpringApplicationShutdownHook] io.hawt.HawtioContextListener            : Destroying hawtio services
2023-03-13 11:27:54.756  INFO 41732 --- [SpringApplicationShutdownHook] org.apache.activemq.artemis.core.server  : AMQ221002: Apache ActiveMQ Artemis Message Broker version 2.19.1 [f561d4b4-8b4f-11ed-b036-4c034f8a3e96] stopped, uptime 7 minutes
2023-03-13 13:42:35.604  INFO 4516 --- [main] o.h.d.integration.rapidpro.Application   : Starting Application using Java 19.0.1 on DESKTOP-BIR2HG9 with PID 4516 (C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp\target\classes started by JohanGangsåsHole in C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp)
2023-03-13 13:42:35.607 DEBUG 4516 --- [main] o.h.d.integration.rapidpro.Application   : Running with Spring Boot v2.7.4, Spring v5.3.23
2023-03-13 13:42:35.608  INFO 4516 --- [main] o.h.d.integration.rapidpro.Application   : No active profile set, falling back to 1 default profile: "default"
2023-03-13 13:42:37.113  INFO 4516 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)
2023-03-13 13:42:37.122  INFO 4516 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-13 13:42:37.123  INFO 4516 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2023-03-13 13:42:37.269  INFO 4516 --- [main] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring embedded WebApplicationContext
2023-03-13 13:42:37.270  INFO 4516 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1616 ms
2023-03-13 13:42:37.673  INFO 4516 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/management/h2-console'. Database available at 'jdbc:h2:./dhis2rapidpro'
2023-03-13 13:42:37.839  INFO 4516 --- [main] o.s.b.a.e.web.ServletEndpointRegistrar   : Registered '/management/jolokia' to jolokia-actuator-endpoint
2023-03-13 13:42:37.855  INFO 4516 --- [main] io.hawt.HawtioContextListener            : Initialising hawtio services
2023-03-13 13:42:37.861  INFO 4516 --- [main] io.hawt.system.ConfigManager             : Configuration will be discovered via system properties
2023-03-13 13:42:37.864  INFO 4516 --- [main] io.hawt.jmx.JmxTreeWatcher               : Welcome to Hawtio 2.16.2
2023-03-13 13:42:37.878  INFO 4516 --- [main] i.h.w.auth.AuthenticationConfiguration   : Starting hawtio authentication filter, JAAS authentication disabled
2023-03-13 13:42:37.880  INFO 4516 --- [main] io.hawt.web.auth.LoginRedirectFilter     : Hawtio loginRedirectFilter is using 1800 sec. HttpSession timeout
2023-03-13 13:42:39.227  INFO 4516 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to RapidPro
2023-03-13 13:42:39.231  INFO 4516 --- [main] o.h.d.i.r.security.KeyStoreGenerator     : Re-using existing key store at file:/C:/Users/JohanGangsåsHole/Documents/integration-dhis2-whatsapp/tls.jks
2023-03-13 13:42:39.359  INFO 4516 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Ant [pattern='/management/**'], Ant [pattern='/services/tasks/**'], Ant [pattern='/login'], Ant [pattern='/logout']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@5305f936, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2b1a1a37, org.springframework.security.web.context.SecurityContextPersistenceFilter@39685204, org.springframework.security.web.header.HeaderWriterFilter@191b44ca, org.springframework.security.web.csrf.CsrfFilter@77b22b05, org.springframework.security.web.authentication.logout.LogoutFilter@1c9975a8, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@30a791a6, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@20afd96f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7d90764a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5fd4e67f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@77cf329d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4067634b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6843fdc4, org.springframework.security.web.session.SessionManagementFilter@2c4cf7eb, org.springframework.security.web.access.ExceptionTranslationFilter@29db008c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5454be]
2023-03-13 13:42:39.365  INFO 4516 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/services/webhook'] with [org.springframework.security.web.session.DisableEncodeUrlFilter@335896bd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6b33892a, org.springframework.security.web.context.SecurityContextPersistenceFilter@7816454d, org.springframework.security.web.header.HeaderWriterFilter@78e97d4d, org.springframework.security.web.authentication.logout.LogoutFilter@58e5fbe5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@67d180e4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@54e18a46, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@666b91db, org.springframework.security.web.session.SessionManagementFilter@7096d451, org.springframework.security.web.access.ExceptionTranslationFilter@758d4aa9]
2023-03-13 13:42:39.896  INFO 4516 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to DHIS 2.38.1
2023-03-13 13:42:40.074  INFO 4516 --- [main] io.hawt.log.logback.LogbackLogQuery      : Connected to Logback appender to trap logs with Hawtio log plugin
2023-03-13 13:42:40.433  INFO 4516 --- [main] org.apache.activemq.artemis.core.server  : AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,jdbcDriverClassName=null,jdbcConnectionUrl=null,messageTableName=messages,bindingsTableName=bindings,largeMessageTableName=large_messages,pageStoreTableName=page_store,)
2023-03-13 13:42:40.441  INFO 4516 --- [main] org.apache.activemq.artemis.core.server  : AMQ221045: libaio is not available, switching the configuration into NIO
2023-03-13 13:42:40.504  INFO 4516 --- [main] org.apache.activemq.artemis.core.server  : AMQ221057: Global Max Size is being adjusted to 1/2 of the JVM max size (-Xmx). being defined as 4 250 927 104
2023-03-13 13:42:40.519  INFO 4516 --- [main] org.apache.activemq.artemis.core.server  : AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE
2023-03-13 13:42:40.599  INFO 4516 --- [main] org.apache.activemq.artemis.core.server  : AMQ221034: Waiting indefinitely to obtain live lock
2023-03-13 13:42:40.599  INFO 4516 --- [main] org.apache.activemq.artemis.core.server  : AMQ221035: Live Server Obtained live lock
2023-03-13 13:42:40.661  INFO 4516 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address DLQ supporting [ANYCAST]
2023-03-13 13:42:40.663  INFO 4516 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue DLQ on address DLQ
2023-03-13 13:42:40.666  INFO 4516 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address ExpiryQueue supporting [ANYCAST]
2023-03-13 13:42:40.666  INFO 4516 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue ExpiryQueue on address ExpiryQueue
2023-03-13 13:42:40.685  INFO 4516 --- [main] org.apache.activemq.artemis.core.server  : AMQ221007: Server is now live
2023-03-13 13:42:40.686  INFO 4516 --- [main] org.apache.activemq.artemis.core.server  : AMQ221001: Apache ActiveMQ Artemis Message Broker version 2.19.1 [localhost, nodeID=f561d4b4-8b4f-11ed-b036-4c034f8a3e96] 
2023-03-13 13:42:40.886  INFO 4516 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/management'
2023-03-13 13:42:40.999  INFO 4516 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=/dhis2rapidpro]
2023-03-13 13:42:41.000  INFO 4516 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8443 (https) with context path '/dhis2rapidpro'
2023-03-13 13:42:41.952  INFO 4516 --- [RMI TCP Connection(3)-127.0.0.1] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-13 13:42:41.953  INFO 4516 --- [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-03-13 13:42:41.956  INFO 4516 --- [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-03-13 13:42:42.375  INFO 4516 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) is starting
2023-03-13 13:42:42.452  INFO 4516 --- [main] o.a.c.component.quartz.QuartzComponent   : Setting org.quartz.scheduler.jmx.export=true to ensure QuartzScheduler(s) will be enlisted in JMX
2023-03-13 13:42:42.474  INFO 4516 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2023-03-13 13:42:42.476  INFO 4516 --- [main] org.quartz.simpl.SimpleThreadPool        : Job execution threads will use class loader of thread: main
2023-03-13 13:42:42.484  INFO 4516 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2023-03-13 13:42:42.485  INFO 4516 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.
2023-03-13 13:42:42.486  INFO 4516 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2023-03-13 13:42:42.490  INFO 4516 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) 'DefaultQuartzScheduler-camel-1' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2023-03-13 13:42:42.491  INFO 4516 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'DefaultQuartzScheduler-camel-1' initialized from an externally provided properties instance.
2023-03-13 13:42:42.491  INFO 4516 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.3.2
2023-03-13 13:42:42.625  INFO 4516 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.sync (cron=0 0/30 * * * ?, triggerType=CronTriggerImpl, jobClass=StatefulCamelJob) is scheduled. Next fire date is 2023-03-13T14:00:00.000+0100
2023-03-13 13:42:42.693  INFO 4516 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.reminders (cron=0 0 9 ? * *, triggerType=CronTriggerImpl, jobClass=CamelJob) is scheduled. Next fire date is 2023-03-14T09:00:00.000+0100
2023-03-13 13:42:42.758  INFO 4516 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.pull (cron=0 0/30 * * * ?, triggerType=CronTriggerImpl, jobClass=StatefulCamelJob) is scheduled. Next fire date is 2023-03-13T14:00:00.000+0100
2023-03-13 13:42:42.798  INFO 4516 --- [main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2023-03-13 13:42:42.799  INFO 4516 --- [CamelMainRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.20.2 is starting
2023-03-13 13:42:42.801  INFO 4516 --- [main] .a.c.s.FileWatcherResourceReloadStrategy : Live route reloading enabled (directory: routes)
2023-03-13 13:42:42.894  INFO 4516 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:30)
2023-03-13 13:42:42.895  INFO 4516 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Retry Reports (timer://retry)
2023-03-13 13:42:42.895  INFO 4516 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Consume Report (jms://queue:dhis2)
2023-03-13 13:42:42.895  INFO 4516 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Deliver Report (direct://deliverReport)
2023-03-13 13:42:42.895  INFO 4516 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Transform Report (direct://transformReport)
2023-03-13 13:42:42.896  INFO 4516 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Transmit Report (direct://transmitReport)
2023-03-13 13:42:42.896  INFO 4516 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Save Failed Report (direct://dlq)
2023-03-13 13:42:42.896  INFO 4516 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Compute Period (direct://computePeriod)
2023-03-13 13:42:42.896  INFO 4516 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (direct://completeDataSetRegistration)
2023-03-13 13:42:42.897  INFO 4516 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (servlet:/tasks/sync)
2023-03-13 13:42:42.897  INFO 4516 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (quartz://sync)
2023-03-13 13:42:42.897  INFO 4516 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Sync RapidPro Contacts (direct://sync)
2023-03-13 13:42:42.897  INFO 4516 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (direct://createContact)
2023-03-13 13:42:42.898  INFO 4516 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (direct://updateContact)
2023-03-13 13:42:42.898  INFO 4516 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Enrollment Sync (direct://enrollmentSync)
2023-03-13 13:42:42.898  INFO 4516 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route6 (servlet:/tasks/reminders)
2023-03-13 13:42:42.898  INFO 4516 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route7 (quartz://reminders)
2023-03-13 13:42:42.898  INFO 4516 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Broadcast Reminders (direct://reminders)
2023-03-13 13:42:42.899  INFO 4516 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route8 (direct://fetchDataSet)
2023-03-13 13:42:42.899  INFO 4516 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route9 (direct://fetchContacts)
2023-03-13 13:42:42.899  INFO 4516 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route10 (direct://fetchReportRate)
2023-03-13 13:42:42.899  INFO 4516 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route11 (direct://sendBroadcast)
2023-03-13 13:42:42.900  INFO 4516 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Set up Program Fields RapidPro (direct://prepareTrackerRapidPro)
2023-03-13 13:42:42.900  INFO 4516 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create Program RapidPro Fields (direct://createProgramFieldsRoute)
2023-03-13 13:42:42.900  INFO 4516 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create Program RapidPro Group (direct://createProgramGroupRoute)
2023-03-13 13:42:42.901  INFO 4516 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route12 (servlet:/tasks/scan)
2023-03-13 13:42:42.901  INFO 4516 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route13 (quartz://pull)
2023-03-13 13:42:42.901  INFO 4516 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Scan RapidPro Flows (direct://pull)
2023-03-13 13:42:42.901  INFO 4516 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Set up RapidPro (direct://prepareRapidPro)
2023-03-13 13:42:42.902  INFO 4516 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create RapidPro Fields (direct://createFieldsRoute)
2023-03-13 13:42:42.902  INFO 4516 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create RapidPro Group (direct://createGroupRoute)
2023-03-13 13:42:42.902  INFO 4516 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) started in 1s873ms (build:41ms init:1s307ms start:525ms)
2023-03-13 13:42:42.904  INFO 4516 --- [main] o.a.c.component.quartz.QuartzComponent   : Starting Quartz scheduler: org.quartz.impl.StdScheduler@33212ae6
2023-03-13 13:42:42.904  INFO 4516 --- [main] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED started.
2023-03-13 13:42:42.906  INFO 4516 --- [main] o.h.d.integration.rapidpro.Application   : Started Application in 7.619 seconds (JVM running for 8.004)
2023-03-13 13:42:42.913  INFO 4516 --- [main] o.h.d.integration.rapidpro.Application   : 
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 ONLINE

 Hawtio console: https://192.168.1.122:8443/dhis2rapidpro/management/hawtio
 H2 console: https://192.168.1.122:8443/dhis2rapidpro/management/h2-console
 Poll flows task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/scan
 Sync contacts task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/sync
 Remind contacts task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/reminders

 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

2023-03-13 13:42:53.729  INFO 4516 --- [https-jsse-nio-8443-exec-8] o.h.d.i.r.route.AbstractRouteBuilder     : Synchronising RapidPro contacts...
2023-03-13 13:42:55.701 DEBUG 4516 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user kAoHFxJOTWl
2023-03-13 13:42:56.129  WARN 4516 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user kAoHFxJOTWl => HTTP 400. HTTP response body => {"urns":{"1":["Invalid URN: whatsapp:+4794277878. Ensure phone numbers contain country codes."]}}
2023-03-13 13:42:56.134 DEBUG 4516 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user e0kSQPZJe4s
2023-03-13 13:42:56.258  WARN 4516 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user e0kSQPZJe4s => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:+4712345678"]}
2023-03-13 13:42:56.263 DEBUG 4516 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user pVS5mv9EsC2
2023-03-13 13:42:56.395  WARN 4516 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user pVS5mv9EsC2 => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:+919560163563"]}
2023-03-13 13:42:56.400 DEBUG 4516 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user w5cOyMlXYNL
2023-03-13 13:42:56.522  WARN 4516 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user w5cOyMlXYNL => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:187654321"]}
2023-03-13 13:42:56.524  INFO 4516 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Completed synchronisation of RapidPro contacts with DHIS2 users
2023-03-13 13:42:56.812  INFO 4516 --- [Camel (camel-1) thread #4 - CamelDhis2] Enrollment Sync                          : java.util.ArrayList$Itr@2a7f9e07
2023-03-13 13:44:11.122  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) is shutting down (timeout:45s)
2023-03-13 13:44:11.124  INFO 4516 --- [Camel (camel-1) thread #6 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.pull
2023-03-13 13:44:11.126  INFO 4516 --- [Camel (camel-1) thread #6 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.reminders
2023-03-13 13:44:11.126  INFO 4516 --- [Camel (camel-1) thread #6 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.sync
2023-03-13 13:44:12.009  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.pull
2023-03-13 13:44:12.013  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.reminders
2023-03-13 13:44:12.015  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.sync
2023-03-13 13:44:12.018  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:30)
2023-03-13 13:44:12.019  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create RapidPro Group (direct://createGroupRoute)
2023-03-13 13:44:12.019  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create RapidPro Fields (direct://createFieldsRoute)
2023-03-13 13:44:12.019  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Set up RapidPro (direct://prepareRapidPro)
2023-03-13 13:44:12.020  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Scan RapidPro Flows (direct://pull)
2023-03-13 13:44:12.020  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route13 (quartz://pull)
2023-03-13 13:44:12.020  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route12 (servlet:/tasks/scan)
2023-03-13 13:44:12.020  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create Program RapidPro Group (direct://createProgramGroupRoute)
2023-03-13 13:44:12.021  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create Program RapidPro Fields (direct://createProgramFieldsRoute)
2023-03-13 13:44:12.021  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Set up Program Fields RapidPro (direct://prepareTrackerRapidPro)
2023-03-13 13:44:12.021  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route11 (direct://sendBroadcast)
2023-03-13 13:44:12.021  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route10 (direct://fetchReportRate)
2023-03-13 13:44:12.022  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route9 (direct://fetchContacts)
2023-03-13 13:44:12.022  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route8 (direct://fetchDataSet)
2023-03-13 13:44:12.022  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Broadcast Reminders (direct://reminders)
2023-03-13 13:44:12.022  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route7 (quartz://reminders)
2023-03-13 13:44:12.022  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route6 (servlet:/tasks/reminders)
2023-03-13 13:44:12.022  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Enrollment Sync (direct://enrollmentSync)
2023-03-13 13:44:12.023  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (direct://updateContact)
2023-03-13 13:44:12.023  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (direct://createContact)
2023-03-13 13:44:12.023  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Sync RapidPro Contacts (direct://sync)
2023-03-13 13:44:12.023  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (quartz://sync)
2023-03-13 13:44:12.024  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (servlet:/tasks/sync)
2023-03-13 13:44:12.024  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (direct://completeDataSetRegistration)
2023-03-13 13:44:12.024  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Compute Period (direct://computePeriod)
2023-03-13 13:44:12.024  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Save Failed Report (direct://dlq)
2023-03-13 13:44:12.025  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Transmit Report (direct://transmitReport)
2023-03-13 13:44:12.025  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Transform Report (direct://transformReport)
2023-03-13 13:44:12.025  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Deliver Report (direct://deliverReport)
2023-03-13 13:44:12.025  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Consume Report (jms://queue:dhis2)
2023-03-13 13:44:12.025  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Retry Reports (timer://retry)
2023-03-13 13:44:12.028  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzComponent   : Shutting down Quartz scheduler (will wait for all jobs to complete first)
2023-03-13 13:44:12.028  INFO 4516 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED shutting down.
2023-03-13 13:44:12.028  INFO 4516 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED paused.
2023-03-13 13:44:12.065  INFO 4516 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler unregistered from name 'quartz:type=QuartzScheduler,name=DefaultQuartzScheduler-camel-1,instance=NON_CLUSTERED' in the local MBeanServer.
2023-03-13 13:44:12.066  INFO 4516 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED shutdown complete.
2023-03-13 13:44:12.070  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) shutdown in 947ms (uptime:1m29s)
2023-03-13 13:44:12.079  INFO 4516 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-03-13 13:44:12.080  INFO 4516 --- [SpringApplicationShutdownHook] io.hawt.web.auth.AuthenticationFilter    : Destroying hawtio authentication filter
2023-03-13 13:44:12.081  INFO 4516 --- [SpringApplicationShutdownHook] io.hawt.HawtioContextListener            : Destroying hawtio services
2023-03-13 13:44:12.152  INFO 4516 --- [SpringApplicationShutdownHook] org.apache.activemq.artemis.core.server  : AMQ221002: Apache ActiveMQ Artemis Message Broker version 2.19.1 [f561d4b4-8b4f-11ed-b036-4c034f8a3e96] stopped, uptime 1 minute
2023-03-13 13:44:15.666  INFO 20000 --- [main] o.h.d.integration.rapidpro.Application   : Starting Application using Java 19.0.1 on DESKTOP-BIR2HG9 with PID 20000 (C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp\target\classes started by JohanGangsåsHole in C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp)
2023-03-13 13:44:15.669 DEBUG 20000 --- [main] o.h.d.integration.rapidpro.Application   : Running with Spring Boot v2.7.4, Spring v5.3.23
2023-03-13 13:44:15.669  INFO 20000 --- [main] o.h.d.integration.rapidpro.Application   : No active profile set, falling back to 1 default profile: "default"
2023-03-13 13:44:17.034  INFO 20000 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)
2023-03-13 13:44:17.046  INFO 20000 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-13 13:44:17.047  INFO 20000 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2023-03-13 13:44:17.192  INFO 20000 --- [main] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring embedded WebApplicationContext
2023-03-13 13:44:17.192  INFO 20000 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1483 ms
2023-03-13 13:44:17.309 ERROR 20000 --- [main] javax.management.mbeanserver             : The LogManager accessed before the "java.util.logging.manager" system property was set to "org.jboss.logmanager.LogManager". Results may be unexpected.
2023-03-13 13:44:17.652  INFO 20000 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/management/h2-console'. Database available at 'jdbc:h2:./dhis2rapidpro'
2023-03-13 13:44:17.813  INFO 20000 --- [main] o.s.b.a.e.web.ServletEndpointRegistrar   : Registered '/management/jolokia' to jolokia-actuator-endpoint
2023-03-13 13:44:17.828  INFO 20000 --- [main] io.hawt.HawtioContextListener            : Initialising hawtio services
2023-03-13 13:44:17.833  INFO 20000 --- [main] io.hawt.system.ConfigManager             : Configuration will be discovered via system properties
2023-03-13 13:44:17.836  INFO 20000 --- [main] io.hawt.jmx.JmxTreeWatcher               : Welcome to Hawtio 2.16.2
2023-03-13 13:44:17.845  INFO 20000 --- [main] i.h.w.auth.AuthenticationConfiguration   : Starting hawtio authentication filter, JAAS authentication disabled
2023-03-13 13:44:17.847  INFO 20000 --- [main] io.hawt.web.auth.LoginRedirectFilter     : Hawtio loginRedirectFilter is using 1800 sec. HttpSession timeout
2023-03-13 13:44:19.283  INFO 20000 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to RapidPro
2023-03-13 13:44:19.287  INFO 20000 --- [main] o.h.d.i.r.security.KeyStoreGenerator     : Re-using existing key store at file:/C:/Users/JohanGangsåsHole/Documents/integration-dhis2-whatsapp/tls.jks
2023-03-13 13:44:19.431  INFO 20000 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Ant [pattern='/management/**'], Ant [pattern='/services/tasks/**'], Ant [pattern='/login'], Ant [pattern='/logout']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@40db6136, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5ced0537, org.springframework.security.web.context.SecurityContextPersistenceFilter@6371c5ec, org.springframework.security.web.header.HeaderWriterFilter@6e8aea7e, org.springframework.security.web.csrf.CsrfFilter@efa04b5, org.springframework.security.web.authentication.logout.LogoutFilter@c683cf5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@31c0c7e5, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@664254b6, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6ee1ddcf, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5d98364c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6738e8b2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@609ad016, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6b630d4b, org.springframework.security.web.session.SessionManagementFilter@603b9d4b, org.springframework.security.web.access.ExceptionTranslationFilter@767d9b9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@36cf6377]
2023-03-13 13:44:19.439  INFO 20000 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/services/webhook'] with [org.springframework.security.web.session.DisableEncodeUrlFilter@7577589, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37b80ec7, org.springframework.security.web.context.SecurityContextPersistenceFilter@1e406cbe, org.springframework.security.web.header.HeaderWriterFilter@30ed2a26, org.springframework.security.web.authentication.logout.LogoutFilter@438c0aaf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@141a10bf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4dffa400, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4cb58e8b, org.springframework.security.web.session.SessionManagementFilter@1bf10539, org.springframework.security.web.access.ExceptionTranslationFilter@762f8ff6]
2023-03-13 13:44:19.918  INFO 20000 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to DHIS 2.38.1
2023-03-13 13:44:20.081  INFO 20000 --- [main] io.hawt.log.logback.LogbackLogQuery      : Connected to Logback appender to trap logs with Hawtio log plugin
2023-03-13 13:44:20.464  INFO 20000 --- [main] org.apache.activemq.artemis.core.server  : AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,jdbcDriverClassName=null,jdbcConnectionUrl=null,messageTableName=messages,bindingsTableName=bindings,largeMessageTableName=large_messages,pageStoreTableName=page_store,)
2023-03-13 13:44:20.472  INFO 20000 --- [main] org.apache.activemq.artemis.core.server  : AMQ221045: libaio is not available, switching the configuration into NIO
2023-03-13 13:44:20.536  INFO 20000 --- [main] org.apache.activemq.artemis.core.server  : AMQ221057: Global Max Size is being adjusted to 1/2 of the JVM max size (-Xmx). being defined as 4 250 927 104
2023-03-13 13:44:20.555  INFO 20000 --- [main] org.apache.activemq.artemis.core.server  : AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE
2023-03-13 13:44:20.634  INFO 20000 --- [main] org.apache.activemq.artemis.core.server  : AMQ221034: Waiting indefinitely to obtain live lock
2023-03-13 13:44:20.635  INFO 20000 --- [main] org.apache.activemq.artemis.core.server  : AMQ221035: Live Server Obtained live lock
2023-03-13 13:44:20.698  INFO 20000 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address DLQ supporting [ANYCAST]
2023-03-13 13:44:20.699  INFO 20000 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue DLQ on address DLQ
2023-03-13 13:44:20.702  INFO 20000 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address ExpiryQueue supporting [ANYCAST]
2023-03-13 13:44:20.702  INFO 20000 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue ExpiryQueue on address ExpiryQueue
2023-03-13 13:44:20.722  INFO 20000 --- [main] org.apache.activemq.artemis.core.server  : AMQ221007: Server is now live
2023-03-13 13:44:20.722  INFO 20000 --- [main] org.apache.activemq.artemis.core.server  : AMQ221001: Apache ActiveMQ Artemis Message Broker version 2.19.1 [localhost, nodeID=f561d4b4-8b4f-11ed-b036-4c034f8a3e96] 
2023-03-13 13:44:20.958  INFO 20000 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/management'
2023-03-13 13:44:21.064  INFO 20000 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=/dhis2rapidpro]
2023-03-13 13:44:21.065  INFO 20000 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8443 (https) with context path '/dhis2rapidpro'
2023-03-13 13:44:21.312  INFO 20000 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-03-13 13:44:21.313  INFO 20000 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-03-13 13:44:21.314  INFO 20000 --- [main] io.hawt.web.auth.AuthenticationFilter    : Destroying hawtio authentication filter
2023-03-13 13:44:21.315  INFO 20000 --- [main] io.hawt.HawtioContextListener            : Destroying hawtio services
2023-03-13 13:44:21.320  INFO 20000 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-03-13 13:44:21.334 ERROR 20000 --- [main] o.s.boot.SpringApplication               : Application run failed

org.apache.camel.FailedToCreateRouteException: Failed to create route Enrollment Sync at: >>> To[dhis2://get/resource?path=users&paging=false&client=#dhis2Client] <<< in route: Route(Enrollment Sync)[From[direct:enrollmentSync] -> [OnExc... because of Failed to resolve endpoint: dhis2://get/resource?client=%23dhis2Client&paging=false&path=users due to: No matching method for get/resource, with arguments [path, paging]
	at org.apache.camel.reifier.RouteReifier.doCreateRoute(RouteReifier.java:215) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.RouteReifier.createRoute(RouteReifier.java:75) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultModelReifierFactory.createRoute(DefaultModelReifierFactory.java:49) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:937) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:800) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.doInit(AbstractCamelContext.java:3008) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.support.service.BaseService.init(BaseService.java:83) ~[camel-api-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.init(AbstractCamelContext.java:2679) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.support.service.BaseService.start(BaseService.java:111) ~[camel-api-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.start(AbstractCamelContext.java:2698) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:262) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:119) ~[camel-spring-3.20.2.jar:3.20.2]
	at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:151) ~[camel-spring-3.20.2.jar:3.20.2]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:938) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.hisp.dhis.integration.rapidpro.Application.main(Application.java:204) ~[classes/:na]
Caused by: org.apache.camel.ResolveEndpointFailedException: Failed to resolve endpoint: dhis2://get/resource?client=%23dhis2Client&paging=false&path=users due to: No matching method for get/resource, with arguments [path, paging]
	at org.apache.camel.impl.engine.AbstractCamelContext.doGetEndpoint(AbstractCamelContext.java:1008) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.getEndpoint(AbstractCamelContext.java:890) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.support.CamelContextHelper.resolveEndpoint(CamelContextHelper.java:127) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.SendReifier.resolveEndpoint(SendReifier.java:45) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.SendReifier.createProcessor(SendReifier.java:37) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.ProcessorReifier.makeProcessor(ProcessorReifier.java:857) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.ProcessorReifier.addRoutes(ProcessorReifier.java:598) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.RouteReifier.doCreateRoute(RouteReifier.java:211) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	... 24 common frames omitted
Caused by: java.lang.IllegalArgumentException: No matching method for get/resource, with arguments [path, paging]
	at org.apache.camel.support.component.AbstractApiEndpoint.initState(AbstractApiEndpoint.java:179) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.component.AbstractApiEndpoint.configureProperties(AbstractApiEndpoint.java:136) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.DefaultComponent.setProperties(DefaultComponent.java:429) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.component.AbstractApiComponent.createEndpoint(AbstractApiComponent.java:90) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.DefaultComponent.createEndpoint(DefaultComponent.java:171) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.doGetEndpoint(AbstractCamelContext.java:974) ~[camel-base-engine-3.20.2.jar:3.20.2]
	... 31 common frames omitted

2023-03-13 13:44:21.362  INFO 20000 --- [main] org.apache.activemq.artemis.core.server  : AMQ221002: Apache ActiveMQ Artemis Message Broker version 2.19.1 [f561d4b4-8b4f-11ed-b036-4c034f8a3e96] stopped, uptime 0.912 seconds
2023-03-13 13:46:06.992  INFO 7592 --- [main] o.h.d.integration.rapidpro.Application   : Starting Application using Java 19.0.1 on DESKTOP-BIR2HG9 with PID 7592 (C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp\target\classes started by JohanGangsåsHole in C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp)
2023-03-13 13:46:06.995 DEBUG 7592 --- [main] o.h.d.integration.rapidpro.Application   : Running with Spring Boot v2.7.4, Spring v5.3.23
2023-03-13 13:46:06.996  INFO 7592 --- [main] o.h.d.integration.rapidpro.Application   : No active profile set, falling back to 1 default profile: "default"
2023-03-13 13:46:08.319  INFO 7592 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)
2023-03-13 13:46:08.329  INFO 7592 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-13 13:46:08.330  INFO 7592 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2023-03-13 13:46:08.474  INFO 7592 --- [main] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring embedded WebApplicationContext
2023-03-13 13:46:08.474  INFO 7592 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1438 ms
2023-03-13 13:46:08.588 ERROR 7592 --- [main] javax.management.mbeanserver             : The LogManager accessed before the "java.util.logging.manager" system property was set to "org.jboss.logmanager.LogManager". Results may be unexpected.
2023-03-13 13:46:08.913  INFO 7592 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/management/h2-console'. Database available at 'jdbc:h2:./dhis2rapidpro'
2023-03-13 13:46:09.071  INFO 7592 --- [main] o.s.b.a.e.web.ServletEndpointRegistrar   : Registered '/management/jolokia' to jolokia-actuator-endpoint
2023-03-13 13:46:09.083  INFO 7592 --- [main] io.hawt.HawtioContextListener            : Initialising hawtio services
2023-03-13 13:46:09.089  INFO 7592 --- [main] io.hawt.system.ConfigManager             : Configuration will be discovered via system properties
2023-03-13 13:46:09.091  INFO 7592 --- [main] io.hawt.jmx.JmxTreeWatcher               : Welcome to Hawtio 2.16.2
2023-03-13 13:46:09.101  INFO 7592 --- [main] i.h.w.auth.AuthenticationConfiguration   : Starting hawtio authentication filter, JAAS authentication disabled
2023-03-13 13:46:09.103  INFO 7592 --- [main] io.hawt.web.auth.LoginRedirectFilter     : Hawtio loginRedirectFilter is using 1800 sec. HttpSession timeout
2023-03-13 13:46:10.496  INFO 7592 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to RapidPro
2023-03-13 13:46:10.500  INFO 7592 --- [main] o.h.d.i.r.security.KeyStoreGenerator     : Re-using existing key store at file:/C:/Users/JohanGangsåsHole/Documents/integration-dhis2-whatsapp/tls.jks
2023-03-13 13:46:10.639  INFO 7592 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Ant [pattern='/management/**'], Ant [pattern='/services/tasks/**'], Ant [pattern='/login'], Ant [pattern='/logout']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@297dff3a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@30437e9c, org.springframework.security.web.context.SecurityContextPersistenceFilter@7acb5200, org.springframework.security.web.header.HeaderWriterFilter@664254b6, org.springframework.security.web.csrf.CsrfFilter@8dbf0f2, org.springframework.security.web.authentication.logout.LogoutFilter@3ca6bd01, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@40db6136, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@ae74eef, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2e057637, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a3e633a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3661b732, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5111f814, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@762f8ff6, org.springframework.security.web.session.SessionManagementFilter@2e4d2232, org.springframework.security.web.access.ExceptionTranslationFilter@14b96c1e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7d483ebe]
2023-03-13 13:46:10.647  INFO 7592 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/services/webhook'] with [org.springframework.security.web.session.DisableEncodeUrlFilter@35744f8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6fbcc078, org.springframework.security.web.context.SecurityContextPersistenceFilter@468f2a6f, org.springframework.security.web.header.HeaderWriterFilter@441016d6, org.springframework.security.web.authentication.logout.LogoutFilter@3be369fc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a3a56de, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2ed84be9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c851821, org.springframework.security.web.session.SessionManagementFilter@522f0bb8, org.springframework.security.web.access.ExceptionTranslationFilter@2431050d]
2023-03-13 13:46:11.159  INFO 7592 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to DHIS 2.38.1
2023-03-13 13:46:11.323  INFO 7592 --- [main] io.hawt.log.logback.LogbackLogQuery      : Connected to Logback appender to trap logs with Hawtio log plugin
2023-03-13 13:46:11.686  INFO 7592 --- [main] org.apache.activemq.artemis.core.server  : AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,jdbcDriverClassName=null,jdbcConnectionUrl=null,messageTableName=messages,bindingsTableName=bindings,largeMessageTableName=large_messages,pageStoreTableName=page_store,)
2023-03-13 13:46:11.695  INFO 7592 --- [main] org.apache.activemq.artemis.core.server  : AMQ221045: libaio is not available, switching the configuration into NIO
2023-03-13 13:46:11.748  INFO 7592 --- [main] org.apache.activemq.artemis.core.server  : AMQ221057: Global Max Size is being adjusted to 1/2 of the JVM max size (-Xmx). being defined as 4 250 927 104
2023-03-13 13:46:11.763  INFO 7592 --- [main] org.apache.activemq.artemis.core.server  : AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE
2023-03-13 13:46:11.842  INFO 7592 --- [main] org.apache.activemq.artemis.core.server  : AMQ221034: Waiting indefinitely to obtain live lock
2023-03-13 13:46:11.843  INFO 7592 --- [main] org.apache.activemq.artemis.core.server  : AMQ221035: Live Server Obtained live lock
2023-03-13 13:46:11.903  INFO 7592 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address DLQ supporting [ANYCAST]
2023-03-13 13:46:11.904  INFO 7592 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue DLQ on address DLQ
2023-03-13 13:46:11.907  INFO 7592 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address ExpiryQueue supporting [ANYCAST]
2023-03-13 13:46:11.907  INFO 7592 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue ExpiryQueue on address ExpiryQueue
2023-03-13 13:46:11.928  INFO 7592 --- [main] org.apache.activemq.artemis.core.server  : AMQ221007: Server is now live
2023-03-13 13:46:11.929  INFO 7592 --- [main] org.apache.activemq.artemis.core.server  : AMQ221001: Apache ActiveMQ Artemis Message Broker version 2.19.1 [localhost, nodeID=f561d4b4-8b4f-11ed-b036-4c034f8a3e96] 
2023-03-13 13:46:12.135  INFO 7592 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/management'
2023-03-13 13:46:12.250  INFO 7592 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=/dhis2rapidpro]
2023-03-13 13:46:12.251  INFO 7592 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8443 (https) with context path '/dhis2rapidpro'
2023-03-13 13:46:13.457  INFO 7592 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) is starting
2023-03-13 13:46:13.524  INFO 7592 --- [main] o.a.c.component.quartz.QuartzComponent   : Setting org.quartz.scheduler.jmx.export=true to ensure QuartzScheduler(s) will be enlisted in JMX
2023-03-13 13:46:13.539  INFO 7592 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2023-03-13 13:46:13.542  INFO 7592 --- [main] org.quartz.simpl.SimpleThreadPool        : Job execution threads will use class loader of thread: main
2023-03-13 13:46:13.548  INFO 7592 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2023-03-13 13:46:13.549  INFO 7592 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.
2023-03-13 13:46:13.549  INFO 7592 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2023-03-13 13:46:13.553  INFO 7592 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) 'DefaultQuartzScheduler-camel-1' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2023-03-13 13:46:13.553  INFO 7592 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'DefaultQuartzScheduler-camel-1' initialized from an externally provided properties instance.
2023-03-13 13:46:13.553  INFO 7592 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.3.2
2023-03-13 13:46:13.639  INFO 7592 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.sync (cron=0 0/30 * * * ?, triggerType=CronTriggerImpl, jobClass=StatefulCamelJob) is scheduled. Next fire date is 2023-03-13T14:00:00.000+0100
2023-03-13 13:46:13.698  INFO 7592 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.pull (cron=0 0/30 * * * ?, triggerType=CronTriggerImpl, jobClass=StatefulCamelJob) is scheduled. Next fire date is 2023-03-13T14:00:00.000+0100
2023-03-13 13:46:13.720  INFO 7592 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.reminders (cron=0 0 9 ? * *, triggerType=CronTriggerImpl, jobClass=CamelJob) is scheduled. Next fire date is 2023-03-14T09:00:00.000+0100
2023-03-13 13:46:13.753  INFO 7592 --- [main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2023-03-13 13:46:13.754  INFO 7592 --- [CamelMainRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.20.2 is starting
2023-03-13 13:46:13.755  INFO 7592 --- [main] .a.c.s.FileWatcherResourceReloadStrategy : Live route reloading enabled (directory: routes)
2023-03-13 13:46:13.858  INFO 7592 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:30)
2023-03-13 13:46:13.859  INFO 7592 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Retry Reports (timer://retry)
2023-03-13 13:46:13.859  INFO 7592 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Consume Report (jms://queue:dhis2)
2023-03-13 13:46:13.859  INFO 7592 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Deliver Report (direct://deliverReport)
2023-03-13 13:46:13.860  INFO 7592 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Transform Report (direct://transformReport)
2023-03-13 13:46:13.860  INFO 7592 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Transmit Report (direct://transmitReport)
2023-03-13 13:46:13.860  INFO 7592 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Save Failed Report (direct://dlq)
2023-03-13 13:46:13.860  INFO 7592 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Compute Period (direct://computePeriod)
2023-03-13 13:46:13.860  INFO 7592 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (direct://completeDataSetRegistration)
2023-03-13 13:46:13.861  INFO 7592 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (servlet:/tasks/sync)
2023-03-13 13:46:13.861  INFO 7592 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (quartz://sync)
2023-03-13 13:46:13.861  INFO 7592 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Sync RapidPro Contacts (direct://sync)
2023-03-13 13:46:13.861  INFO 7592 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (direct://createContact)
2023-03-13 13:46:13.861  INFO 7592 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (direct://updateContact)
2023-03-13 13:46:13.862  INFO 7592 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Set up Program Fields RapidPro (direct://prepareTrackerRapidPro)
2023-03-13 13:46:13.862  INFO 7592 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create Program RapidPro Fields (direct://createProgramFieldsRoute)
2023-03-13 13:46:13.862  INFO 7592 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create Program RapidPro Group (direct://createProgramGroupRoute)
2023-03-13 13:46:13.862  INFO 7592 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route6 (servlet:/tasks/scan)
2023-03-13 13:46:13.863  INFO 7592 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route7 (quartz://pull)
2023-03-13 13:46:13.863  INFO 7592 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Scan RapidPro Flows (direct://pull)
2023-03-13 13:46:13.863  INFO 7592 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Enrollment Sync (direct://enrollmentSync)
2023-03-13 13:46:13.863  INFO 7592 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route8 (servlet:/tasks/reminders)
2023-03-13 13:46:13.863  INFO 7592 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route9 (quartz://reminders)
2023-03-13 13:46:13.864  INFO 7592 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Broadcast Reminders (direct://reminders)
2023-03-13 13:46:13.864  INFO 7592 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route10 (direct://fetchDataSet)
2023-03-13 13:46:13.864  INFO 7592 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route11 (direct://fetchContacts)
2023-03-13 13:46:13.864  INFO 7592 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route12 (direct://fetchReportRate)
2023-03-13 13:46:13.865  INFO 7592 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route13 (direct://sendBroadcast)
2023-03-13 13:46:13.865  INFO 7592 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Set up RapidPro (direct://prepareRapidPro)
2023-03-13 13:46:13.865  INFO 7592 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create RapidPro Fields (direct://createFieldsRoute)
2023-03-13 13:46:13.865  INFO 7592 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create RapidPro Group (direct://createGroupRoute)
2023-03-13 13:46:13.865  INFO 7592 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) started in 1s585ms (build:42ms init:1s136ms start:407ms)
2023-03-13 13:46:13.867  INFO 7592 --- [main] o.a.c.component.quartz.QuartzComponent   : Starting Quartz scheduler: org.quartz.impl.StdScheduler@1d9c18b9
2023-03-13 13:46:13.868  INFO 7592 --- [main] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED started.
2023-03-13 13:46:13.870  INFO 7592 --- [main] o.h.d.integration.rapidpro.Application   : Started Application in 7.162 seconds (JVM running for 7.53)
2023-03-13 13:46:13.876  INFO 7592 --- [main] o.h.d.integration.rapidpro.Application   : 
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 ONLINE

 Hawtio console: https://192.168.1.122:8443/dhis2rapidpro/management/hawtio
 H2 console: https://192.168.1.122:8443/dhis2rapidpro/management/h2-console
 Poll flows task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/scan
 Sync contacts task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/sync
 Remind contacts task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/reminders

 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

2023-03-13 13:46:18.953  INFO 7592 --- [https-jsse-nio-8443-exec-10] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-13 13:46:18.954  INFO 7592 --- [https-jsse-nio-8443-exec-10] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-03-13 13:46:18.956  INFO 7592 --- [https-jsse-nio-8443-exec-10] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2023-03-13 13:46:24.201  INFO 7592 --- [https-jsse-nio-8443-exec-7] o.h.d.i.r.route.AbstractRouteBuilder     : Synchronising RapidPro contacts...
2023-03-13 13:46:26.189 DEBUG 7592 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user kAoHFxJOTWl
2023-03-13 13:46:26.627  WARN 7592 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user kAoHFxJOTWl => HTTP 400. HTTP response body => {"urns":{"1":["Invalid URN: whatsapp:+4794277878. Ensure phone numbers contain country codes."]}}
2023-03-13 13:46:26.634 DEBUG 7592 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user w5cOyMlXYNL
2023-03-13 13:46:26.757  WARN 7592 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user w5cOyMlXYNL => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:187654321"]}
2023-03-13 13:46:26.762 DEBUG 7592 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user e0kSQPZJe4s
2023-03-13 13:46:26.882  WARN 7592 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user e0kSQPZJe4s => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:+4712345678"]}
2023-03-13 13:46:26.888 DEBUG 7592 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user pVS5mv9EsC2
2023-03-13 13:46:27.009  WARN 7592 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user pVS5mv9EsC2 => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:+919560163563"]}
2023-03-13 13:46:27.011  INFO 7592 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Completed synchronisation of RapidPro contacts with DHIS2 users
2023-03-13 13:46:27.310  INFO 7592 --- [Camel (camel-1) thread #4 - CamelDhis2] Enrollment Sync                          : [{"id":"M5zQapPyTZI","displayName":"admin admin"},{"id":"MI4CG3xPaec","displayName":"Ramesh Ramesh"},{"id":"e0kSQPZJe4s","displayName":"Integration User"},{"id":"kAoHFxJOTWl","displayName":"Johan Hole"},{"id":"pVS5mv9EsC2","displayName":"HISP Developer"},{"id":"w5cOyMlXYNL","displayName":"Test Testson"}]
2023-03-13 14:00:00.027  INFO 7592 --- [DefaultQuartzScheduler-camel-1_Worker-2] o.h.d.i.r.route.AbstractRouteBuilder     : Synchronising RapidPro contacts...
2023-03-13 14:00:00.519 DEBUG 7592 --- [DefaultQuartzScheduler-camel-1_Worker-1] o.h.d.i.r.route.AbstractRouteBuilder     : Fetched flow runs from https://textit.com/api/v2/runs.json?flow=77bdd647-56be-4ae2-9d9d-d4e4dbc71fca&after=2023-03-13T10:26:59.735&reverse=true => {"next":null,"previous":null,"results":[]}
2023-03-13 14:00:01.550 DEBUG 7592 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user e0kSQPZJe4s
2023-03-13 14:00:01.910  WARN 7592 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user e0kSQPZJe4s => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:+4712345678"]}
2023-03-13 14:00:01.914 DEBUG 7592 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user w5cOyMlXYNL
2023-03-13 14:00:02.044  WARN 7592 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user w5cOyMlXYNL => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:187654321"]}
2023-03-13 14:00:02.048 DEBUG 7592 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user kAoHFxJOTWl
2023-03-13 14:00:02.176  WARN 7592 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user kAoHFxJOTWl => HTTP 400. HTTP response body => {"urns":{"1":["Invalid URN: whatsapp:+4794277878. Ensure phone numbers contain country codes."]}}
2023-03-13 14:00:02.180 DEBUG 7592 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user pVS5mv9EsC2
2023-03-13 14:00:02.308  WARN 7592 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user pVS5mv9EsC2 => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:+919560163563"]}
2023-03-13 14:00:02.309  INFO 7592 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Completed synchronisation of RapidPro contacts with DHIS2 users
2023-03-13 14:04:25.470  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) is shutting down (timeout:45s)
2023-03-13 14:04:25.473  INFO 7592 --- [Camel (camel-1) thread #7 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.reminders
2023-03-13 14:04:25.474  INFO 7592 --- [Camel (camel-1) thread #7 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.pull
2023-03-13 14:04:25.475  INFO 7592 --- [Camel (camel-1) thread #7 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.sync
2023-03-13 14:04:25.900  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.reminders
2023-03-13 14:04:25.903  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.pull
2023-03-13 14:04:25.906  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.sync
2023-03-13 14:04:25.909  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:30)
2023-03-13 14:04:25.909  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create RapidPro Group (direct://createGroupRoute)
2023-03-13 14:04:25.910  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create RapidPro Fields (direct://createFieldsRoute)
2023-03-13 14:04:25.910  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Set up RapidPro (direct://prepareRapidPro)
2023-03-13 14:04:25.910  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route13 (direct://sendBroadcast)
2023-03-13 14:04:25.911  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route12 (direct://fetchReportRate)
2023-03-13 14:04:25.911  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route11 (direct://fetchContacts)
2023-03-13 14:04:25.911  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route10 (direct://fetchDataSet)
2023-03-13 14:04:25.912  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Broadcast Reminders (direct://reminders)
2023-03-13 14:04:25.912  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route9 (quartz://reminders)
2023-03-13 14:04:25.912  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route8 (servlet:/tasks/reminders)
2023-03-13 14:04:25.913  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Enrollment Sync (direct://enrollmentSync)
2023-03-13 14:04:25.913  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Scan RapidPro Flows (direct://pull)
2023-03-13 14:04:25.913  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route7 (quartz://pull)
2023-03-13 14:04:25.913  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route6 (servlet:/tasks/scan)
2023-03-13 14:04:25.913  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create Program RapidPro Group (direct://createProgramGroupRoute)
2023-03-13 14:04:25.914  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create Program RapidPro Fields (direct://createProgramFieldsRoute)
2023-03-13 14:04:25.914  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Set up Program Fields RapidPro (direct://prepareTrackerRapidPro)
2023-03-13 14:04:25.914  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (direct://updateContact)
2023-03-13 14:04:25.914  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (direct://createContact)
2023-03-13 14:04:25.915  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Sync RapidPro Contacts (direct://sync)
2023-03-13 14:04:25.915  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (quartz://sync)
2023-03-13 14:04:25.915  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (servlet:/tasks/sync)
2023-03-13 14:04:25.915  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (direct://completeDataSetRegistration)
2023-03-13 14:04:25.916  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Compute Period (direct://computePeriod)
2023-03-13 14:04:25.916  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Save Failed Report (direct://dlq)
2023-03-13 14:04:25.916  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Transmit Report (direct://transmitReport)
2023-03-13 14:04:25.916  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Transform Report (direct://transformReport)
2023-03-13 14:04:25.917  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Deliver Report (direct://deliverReport)
2023-03-13 14:04:25.917  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Consume Report (jms://queue:dhis2)
2023-03-13 14:04:25.917  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Retry Reports (timer://retry)
2023-03-13 14:04:25.921  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzComponent   : Shutting down Quartz scheduler (will wait for all jobs to complete first)
2023-03-13 14:04:25.922  INFO 7592 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED shutting down.
2023-03-13 14:04:25.922  INFO 7592 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED paused.
2023-03-13 14:04:26.239  INFO 7592 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler unregistered from name 'quartz:type=QuartzScheduler,name=DefaultQuartzScheduler-camel-1,instance=NON_CLUSTERED' in the local MBeanServer.
2023-03-13 14:04:26.240  INFO 7592 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED shutdown complete.
2023-03-13 14:04:26.245  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) shutdown in 775ms (uptime:18m12s)
2023-03-13 14:04:26.255  INFO 7592 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-03-13 14:04:26.255  INFO 7592 --- [SpringApplicationShutdownHook] io.hawt.web.auth.AuthenticationFilter    : Destroying hawtio authentication filter
2023-03-13 14:04:26.256  INFO 7592 --- [SpringApplicationShutdownHook] io.hawt.HawtioContextListener            : Destroying hawtio services
2023-03-13 14:04:26.334  INFO 7592 --- [SpringApplicationShutdownHook] org.apache.activemq.artemis.core.server  : AMQ221002: Apache ActiveMQ Artemis Message Broker version 2.19.1 [f561d4b4-8b4f-11ed-b036-4c034f8a3e96] stopped, uptime 18 minutes
2023-03-13 14:04:30.070  INFO 38580 --- [main] o.h.d.integration.rapidpro.Application   : Starting Application using Java 19.0.1 on DESKTOP-BIR2HG9 with PID 38580 (C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp\target\classes started by JohanGangsåsHole in C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp)
2023-03-13 14:04:30.073 DEBUG 38580 --- [main] o.h.d.integration.rapidpro.Application   : Running with Spring Boot v2.7.4, Spring v5.3.23
2023-03-13 14:04:30.073  INFO 38580 --- [main] o.h.d.integration.rapidpro.Application   : No active profile set, falling back to 1 default profile: "default"
2023-03-13 14:04:31.404  INFO 38580 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)
2023-03-13 14:04:31.414  INFO 38580 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-13 14:04:31.415  INFO 38580 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2023-03-13 14:04:31.559  INFO 38580 --- [main] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring embedded WebApplicationContext
2023-03-13 14:04:31.559  INFO 38580 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1446 ms
2023-03-13 14:04:31.687 ERROR 38580 --- [main] javax.management.mbeanserver             : The LogManager accessed before the "java.util.logging.manager" system property was set to "org.jboss.logmanager.LogManager". Results may be unexpected.
2023-03-13 14:04:32.042  INFO 38580 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/management/h2-console'. Database available at 'jdbc:h2:./dhis2rapidpro'
2023-03-13 14:04:32.238  INFO 38580 --- [main] o.s.b.a.e.web.ServletEndpointRegistrar   : Registered '/management/jolokia' to jolokia-actuator-endpoint
2023-03-13 14:04:32.256  INFO 38580 --- [main] io.hawt.HawtioContextListener            : Initialising hawtio services
2023-03-13 14:04:32.262  INFO 38580 --- [main] io.hawt.system.ConfigManager             : Configuration will be discovered via system properties
2023-03-13 14:04:32.266  INFO 38580 --- [main] io.hawt.jmx.JmxTreeWatcher               : Welcome to Hawtio 2.16.2
2023-03-13 14:04:32.282  INFO 38580 --- [main] i.h.w.auth.AuthenticationConfiguration   : Starting hawtio authentication filter, JAAS authentication disabled
2023-03-13 14:04:32.284  INFO 38580 --- [main] io.hawt.web.auth.LoginRedirectFilter     : Hawtio loginRedirectFilter is using 1800 sec. HttpSession timeout
2023-03-13 14:04:33.793  INFO 38580 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to RapidPro
2023-03-13 14:04:33.799  INFO 38580 --- [main] o.h.d.i.r.security.KeyStoreGenerator     : Re-using existing key store at file:/C:/Users/JohanGangsåsHole/Documents/integration-dhis2-whatsapp/tls.jks
2023-03-13 14:04:33.968  INFO 38580 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Ant [pattern='/management/**'], Ant [pattern='/services/tasks/**'], Ant [pattern='/login'], Ant [pattern='/logout']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@2befb16f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3151277f, org.springframework.security.web.context.SecurityContextPersistenceFilter@3ad558bf, org.springframework.security.web.header.HeaderWriterFilter@13c81bc5, org.springframework.security.web.csrf.CsrfFilter@4c91a008, org.springframework.security.web.authentication.logout.LogoutFilter@714b6999, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@29dfc68f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1d3546f9, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2aeb7c4c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6d9ee75a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ba355e4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7b1559f1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@67f266bd, org.springframework.security.web.session.SessionManagementFilter@8167f57, org.springframework.security.web.access.ExceptionTranslationFilter@efa04b5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@50e24ea4]
2023-03-13 14:04:33.975  INFO 38580 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/services/webhook'] with [org.springframework.security.web.session.DisableEncodeUrlFilter@574f9e36, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77db231c, org.springframework.security.web.context.SecurityContextPersistenceFilter@6ee1ddcf, org.springframework.security.web.header.HeaderWriterFilter@40db6136, org.springframework.security.web.authentication.logout.LogoutFilter@2435c6ae, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b630d4b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@70aa03c0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@60b4d934, org.springframework.security.web.session.SessionManagementFilter@5ced0537, org.springframework.security.web.access.ExceptionTranslationFilter@1fd35a92]
2023-03-13 14:04:34.484  INFO 38580 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to DHIS 2.38.1
2023-03-13 14:04:34.673  INFO 38580 --- [main] io.hawt.log.logback.LogbackLogQuery      : Connected to Logback appender to trap logs with Hawtio log plugin
2023-03-13 14:04:35.026  INFO 38580 --- [main] org.apache.activemq.artemis.core.server  : AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,jdbcDriverClassName=null,jdbcConnectionUrl=null,messageTableName=messages,bindingsTableName=bindings,largeMessageTableName=large_messages,pageStoreTableName=page_store,)
2023-03-13 14:04:35.035  INFO 38580 --- [main] org.apache.activemq.artemis.core.server  : AMQ221045: libaio is not available, switching the configuration into NIO
2023-03-13 14:04:35.090  INFO 38580 --- [main] org.apache.activemq.artemis.core.server  : AMQ221057: Global Max Size is being adjusted to 1/2 of the JVM max size (-Xmx). being defined as 4 250 927 104
2023-03-13 14:04:35.105  INFO 38580 --- [main] org.apache.activemq.artemis.core.server  : AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE
2023-03-13 14:04:35.180  INFO 38580 --- [main] org.apache.activemq.artemis.core.server  : AMQ221034: Waiting indefinitely to obtain live lock
2023-03-13 14:04:35.181  INFO 38580 --- [main] org.apache.activemq.artemis.core.server  : AMQ221035: Live Server Obtained live lock
2023-03-13 14:04:35.244  INFO 38580 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address DLQ supporting [ANYCAST]
2023-03-13 14:04:35.245  INFO 38580 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue DLQ on address DLQ
2023-03-13 14:04:35.247  INFO 38580 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address ExpiryQueue supporting [ANYCAST]
2023-03-13 14:04:35.248  INFO 38580 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue ExpiryQueue on address ExpiryQueue
2023-03-13 14:04:35.267  INFO 38580 --- [main] org.apache.activemq.artemis.core.server  : AMQ221007: Server is now live
2023-03-13 14:04:35.267  INFO 38580 --- [main] org.apache.activemq.artemis.core.server  : AMQ221001: Apache ActiveMQ Artemis Message Broker version 2.19.1 [localhost, nodeID=f561d4b4-8b4f-11ed-b036-4c034f8a3e96] 
2023-03-13 14:04:35.501  INFO 38580 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/management'
2023-03-13 14:04:35.663  INFO 38580 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=/dhis2rapidpro]
2023-03-13 14:04:35.664  INFO 38580 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8443 (https) with context path '/dhis2rapidpro'
2023-03-13 14:04:36.861  INFO 38580 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) is starting
2023-03-13 14:04:36.932  INFO 38580 --- [main] o.a.c.component.quartz.QuartzComponent   : Setting org.quartz.scheduler.jmx.export=true to ensure QuartzScheduler(s) will be enlisted in JMX
2023-03-13 14:04:36.951  INFO 38580 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2023-03-13 14:04:36.954  INFO 38580 --- [main] org.quartz.simpl.SimpleThreadPool        : Job execution threads will use class loader of thread: main
2023-03-13 14:04:36.960  INFO 38580 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2023-03-13 14:04:36.961  INFO 38580 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.
2023-03-13 14:04:36.961  INFO 38580 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2023-03-13 14:04:36.965  INFO 38580 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) 'DefaultQuartzScheduler-camel-1' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2023-03-13 14:04:36.965  INFO 38580 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'DefaultQuartzScheduler-camel-1' initialized from an externally provided properties instance.
2023-03-13 14:04:36.966  INFO 38580 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.3.2
2023-03-13 14:04:37.047  INFO 38580 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.sync (cron=0 0/30 * * * ?, triggerType=CronTriggerImpl, jobClass=StatefulCamelJob) is scheduled. Next fire date is 2023-03-13T14:30:00.000+0100
2023-03-13 14:04:37.106  INFO 38580 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.pull (cron=0 0/30 * * * ?, triggerType=CronTriggerImpl, jobClass=StatefulCamelJob) is scheduled. Next fire date is 2023-03-13T14:30:00.000+0100
2023-03-13 14:04:37.126  INFO 38580 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.reminders (cron=0 0 9 ? * *, triggerType=CronTriggerImpl, jobClass=CamelJob) is scheduled. Next fire date is 2023-03-14T09:00:00.000+0100
2023-03-13 14:04:37.187  INFO 38580 --- [main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2023-03-13 14:04:37.188  INFO 38580 --- [CamelMainRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.20.2 is starting
2023-03-13 14:04:37.189  INFO 38580 --- [main] .a.c.s.FileWatcherResourceReloadStrategy : Live route reloading enabled (directory: routes)
2023-03-13 14:04:37.295  INFO 38580 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:30)
2023-03-13 14:04:37.295  INFO 38580 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Set up Program Fields RapidPro (direct://prepareTrackerRapidPro)
2023-03-13 14:04:37.296  INFO 38580 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create Program RapidPro Fields (direct://createProgramFieldsRoute)
2023-03-13 14:04:37.296  INFO 38580 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create Program RapidPro Group (direct://createProgramGroupRoute)
2023-03-13 14:04:37.296  INFO 38580 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (servlet:/tasks/sync)
2023-03-13 14:04:37.297  INFO 38580 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (quartz://sync)
2023-03-13 14:04:37.297  INFO 38580 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Sync RapidPro Contacts (direct://sync)
2023-03-13 14:04:37.297  INFO 38580 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (direct://createContact)
2023-03-13 14:04:37.297  INFO 38580 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (direct://updateContact)
2023-03-13 14:04:37.298  INFO 38580 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Set up RapidPro (direct://prepareRapidPro)
2023-03-13 14:04:37.298  INFO 38580 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create RapidPro Fields (direct://createFieldsRoute)
2023-03-13 14:04:37.299  INFO 38580 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create RapidPro Group (direct://createGroupRoute)
2023-03-13 14:04:37.299  INFO 38580 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (servlet:/tasks/scan)
2023-03-13 14:04:37.299  INFO 38580 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route6 (quartz://pull)
2023-03-13 14:04:37.299  INFO 38580 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Scan RapidPro Flows (direct://pull)
2023-03-13 14:04:37.300  INFO 38580 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route7 (servlet:/tasks/reminders)
2023-03-13 14:04:37.300  INFO 38580 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route8 (quartz://reminders)
2023-03-13 14:04:37.300  INFO 38580 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Broadcast Reminders (direct://reminders)
2023-03-13 14:04:37.300  INFO 38580 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route9 (direct://fetchDataSet)
2023-03-13 14:04:37.301  INFO 38580 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route10 (direct://fetchContacts)
2023-03-13 14:04:37.301  INFO 38580 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route11 (direct://fetchReportRate)
2023-03-13 14:04:37.301  INFO 38580 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route12 (direct://sendBroadcast)
2023-03-13 14:04:37.302  INFO 38580 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Enrollment Sync (direct://enrollmentSync)
2023-03-13 14:04:37.302  INFO 38580 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Retry Reports (timer://retry)
2023-03-13 14:04:37.302  INFO 38580 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Consume Report (jms://queue:dhis2)
2023-03-13 14:04:37.302  INFO 38580 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Deliver Report (direct://deliverReport)
2023-03-13 14:04:37.303  INFO 38580 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Transform Report (direct://transformReport)
2023-03-13 14:04:37.303  INFO 38580 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Transmit Report (direct://transmitReport)
2023-03-13 14:04:37.303  INFO 38580 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Save Failed Report (direct://dlq)
2023-03-13 14:04:37.303  INFO 38580 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Compute Period (direct://computePeriod)
2023-03-13 14:04:37.304  INFO 38580 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route13 (direct://completeDataSetRegistration)
2023-03-13 14:04:37.304  INFO 38580 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) started in 1s634ms (build:67ms init:1s125ms start:442ms)
2023-03-13 14:04:37.306  INFO 38580 --- [main] o.a.c.component.quartz.QuartzComponent   : Starting Quartz scheduler: org.quartz.impl.StdScheduler@232e4e1d
2023-03-13 14:04:37.307  INFO 38580 --- [main] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED started.
2023-03-13 14:04:37.310  INFO 38580 --- [main] o.h.d.integration.rapidpro.Application   : Started Application in 7.529 seconds (JVM running for 7.914)
2023-03-13 14:04:37.319  INFO 38580 --- [main] o.h.d.integration.rapidpro.Application   : 
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 ONLINE

 Hawtio console: https://192.168.1.122:8443/dhis2rapidpro/management/hawtio
 H2 console: https://192.168.1.122:8443/dhis2rapidpro/management/h2-console
 Poll flows task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/scan
 Sync contacts task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/sync
 Remind contacts task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/reminders

 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

2023-03-13 14:04:42.580  INFO 38580 --- [https-jsse-nio-8443-exec-10] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-13 14:04:42.581  INFO 38580 --- [https-jsse-nio-8443-exec-10] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-03-13 14:04:42.583  INFO 38580 --- [https-jsse-nio-8443-exec-10] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-03-13 14:04:50.030 DEBUG 38580 --- [https-jsse-nio-8443-exec-8] o.h.d.i.r.route.AbstractRouteBuilder     : Fetched flow runs from https://textit.com/api/v2/runs.json?flow=77bdd647-56be-4ae2-9d9d-d4e4dbc71fca&after=2023-03-13T13:00:00.050&reverse=true => {"next":null,"previous":null,"results":[]}
2023-03-13 14:05:12.734  INFO 38580 --- [https-jsse-nio-8443-exec-3] o.h.d.i.r.route.AbstractRouteBuilder     : Synchronising RapidPro contacts...
2023-03-13 14:05:14.703 DEBUG 38580 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user pVS5mv9EsC2
2023-03-13 14:05:15.137  WARN 38580 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user pVS5mv9EsC2 => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:+919560163563"]}
2023-03-13 14:05:15.142 DEBUG 38580 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user e0kSQPZJe4s
2023-03-13 14:05:15.265  WARN 38580 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user e0kSQPZJe4s => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:+4712345678"]}
2023-03-13 14:05:15.270 DEBUG 38580 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user kAoHFxJOTWl
2023-03-13 14:05:15.388  WARN 38580 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user kAoHFxJOTWl => HTTP 400. HTTP response body => {"urns":{"1":["Invalid URN: whatsapp:+4794277878. Ensure phone numbers contain country codes."]}}
2023-03-13 14:05:15.393 DEBUG 38580 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user w5cOyMlXYNL
2023-03-13 14:05:15.517  WARN 38580 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user w5cOyMlXYNL => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:187654321"]}
2023-03-13 14:05:15.519  INFO 38580 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Completed synchronisation of RapidPro contacts with DHIS2 users
2023-03-13 14:05:15.819 ERROR 38580 --- [Camel (camel-1) thread #4 - CamelDhis2] o.a.c.p.e.DefaultErrorHandler            : Failed delivery for (MessageId: A0C671F2C6E7574-0000000000000009 on ExchangeId: A0C671F2C6E7574-0000000000000009). Exhausted after delivery attempt: 1 caught: org.apache.camel.RuntimeCamelException: Error invoking collection with {path=tracker/enrollments, methodName=collection, client=org.hisp.dhis.integration.sdk.DefaultDhis2Client@449a74b8, apiName=GET, paging=false}: org.hisp.dhis.integration.sdk.api.Dhis2ClientException: Response{protocol=http/1.1, code=409, message=, url=http://192.46.212.72:8080/sjmch/api/tracker/enrollments?paging=false}

Message History (source location and message history is disabled)
---------------------------------------------------------------------------------------------------------------------------------------
Source                                   ID                             Processor                                          Elapsed (ms)
                                         route1/route1                  from[servlet:/tasks/sync?muteException=true]         1977867162
	...
                                         Enrollment Sync/to24           dhis2://get/collection?path=tracker/enrollments&pa            0

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------

org.apache.camel.RuntimeCamelException: Error invoking collection with {path=tracker/enrollments, methodName=collection, client=org.hisp.dhis.integration.sdk.DefaultDhis2Client@449a74b8, apiName=GET, paging=false}: org.hisp.dhis.integration.sdk.api.Dhis2ClientException: Response{protocol=http/1.1, code=409, message=, url=http://192.46.212.72:8080/sjmch/api/tracker/enrollments?paging=false}
	at org.apache.camel.support.component.ApiMethodHelper.invokeMethod(ApiMethodHelper.java:531) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.component.AbstractApiProducer.doInvokeMethod(AbstractApiProducer.java:122) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.component.AbstractApiProducer$1.run(AbstractApiProducer.java:89) ~[camel-support-3.20.2.jar:3.20.2]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]
Caused by: org.hisp.dhis.integration.sdk.api.Dhis2ClientException: org.hisp.dhis.integration.sdk.api.Dhis2ClientException: Response{protocol=http/1.1, code=409, message=, url=http://192.46.212.72:8080/sjmch/api/tracker/enrollments?paging=false}
	at org.hisp.dhis.integration.sdk.internal.operation.AbstractOperation.onHttpResponse(AbstractOperation.java:143) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	at org.hisp.dhis.integration.sdk.internal.operation.DefaultGetOperation.doTransfer(DefaultGetOperation.java:84) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	at org.hisp.dhis.integration.sdk.internal.operation.DefaultGetOperation.doTransfer(DefaultGetOperation.java:46) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	at org.hisp.dhis.integration.sdk.internal.operation.AbstractOperation.transfer(AbstractOperation.java:97) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	at org.hisp.dhis.integration.sdk.internal.operation.DefaultSimpleCollectOperation.transfer(DefaultSimpleCollectOperation.java:58) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	at org.apache.camel.component.dhis2.api.Dhis2Get.collection(Dhis2Get.java:86) ~[camel-dhis2-api-2.0.0-SNAPSHOT.jar:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]
	at org.apache.camel.support.component.ApiMethodHelper.invokeMethod(ApiMethodHelper.java:523) ~[camel-support-3.20.2.jar:3.20.2]
	... 8 common frames omitted
Caused by: org.hisp.dhis.integration.sdk.api.Dhis2ClientException: Response{protocol=http/1.1, code=409, message=, url=http://192.46.212.72:8080/sjmch/api/tracker/enrollments?paging=false}
	at org.hisp.dhis.integration.sdk.internal.operation.AbstractOperation.onHttpResponse(AbstractOperation.java:134) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	... 16 common frames omitted

2023-03-13 14:05:24.024  INFO 38580 --- [https-jsse-nio-8443-exec-1] o.h.d.i.r.route.AbstractRouteBuilder     : Synchronising RapidPro contacts...
2023-03-13 14:05:24.805 DEBUG 38580 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user e0kSQPZJe4s
2023-03-13 14:05:24.929  WARN 38580 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user e0kSQPZJe4s => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:+4712345678"]}
2023-03-13 14:05:24.933 DEBUG 38580 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user w5cOyMlXYNL
2023-03-13 14:05:25.055  WARN 38580 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user w5cOyMlXYNL => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:187654321"]}
2023-03-13 14:05:25.059 DEBUG 38580 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user pVS5mv9EsC2
2023-03-13 14:05:25.179  WARN 38580 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user pVS5mv9EsC2 => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:+919560163563"]}
2023-03-13 14:05:25.183 DEBUG 38580 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user kAoHFxJOTWl
2023-03-13 14:05:25.305  WARN 38580 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user kAoHFxJOTWl => HTTP 400. HTTP response body => {"urns":{"1":["Invalid URN: whatsapp:+4794277878. Ensure phone numbers contain country codes."]}}
2023-03-13 14:05:25.306  INFO 38580 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Completed synchronisation of RapidPro contacts with DHIS2 users
2023-03-13 14:05:25.599 ERROR 38580 --- [Camel (camel-1) thread #4 - CamelDhis2] o.a.c.p.e.DefaultErrorHandler            : Failed delivery for (MessageId: A0C671F2C6E7574-0000000000000011 on ExchangeId: A0C671F2C6E7574-0000000000000011). Exhausted after delivery attempt: 1 caught: org.apache.camel.RuntimeCamelException: Error invoking collection with {path=tracker/enrollments, methodName=collection, client=org.hisp.dhis.integration.sdk.DefaultDhis2Client@449a74b8, apiName=GET, paging=false}: org.hisp.dhis.integration.sdk.api.Dhis2ClientException: Response{protocol=http/1.1, code=409, message=, url=http://192.46.212.72:8080/sjmch/api/tracker/enrollments?paging=false}

Message History (source location and message history is disabled)
---------------------------------------------------------------------------------------------------------------------------------------
Source                                   ID                             Processor                                          Elapsed (ms)
                                         route1/route1                  from[servlet:/tasks/sync?muteException=true]         1977876945
	...
                                         Enrollment Sync/to24           dhis2://get/collection?path=tracker/enrollments&pa            0

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------

org.apache.camel.RuntimeCamelException: Error invoking collection with {path=tracker/enrollments, methodName=collection, client=org.hisp.dhis.integration.sdk.DefaultDhis2Client@449a74b8, apiName=GET, paging=false}: org.hisp.dhis.integration.sdk.api.Dhis2ClientException: Response{protocol=http/1.1, code=409, message=, url=http://192.46.212.72:8080/sjmch/api/tracker/enrollments?paging=false}
	at org.apache.camel.support.component.ApiMethodHelper.invokeMethod(ApiMethodHelper.java:531) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.component.AbstractApiProducer.doInvokeMethod(AbstractApiProducer.java:122) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.component.AbstractApiProducer$1.run(AbstractApiProducer.java:89) ~[camel-support-3.20.2.jar:3.20.2]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]
Caused by: org.hisp.dhis.integration.sdk.api.Dhis2ClientException: org.hisp.dhis.integration.sdk.api.Dhis2ClientException: Response{protocol=http/1.1, code=409, message=, url=http://192.46.212.72:8080/sjmch/api/tracker/enrollments?paging=false}
	at org.hisp.dhis.integration.sdk.internal.operation.AbstractOperation.onHttpResponse(AbstractOperation.java:143) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	at org.hisp.dhis.integration.sdk.internal.operation.DefaultGetOperation.doTransfer(DefaultGetOperation.java:84) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	at org.hisp.dhis.integration.sdk.internal.operation.DefaultGetOperation.doTransfer(DefaultGetOperation.java:46) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	at org.hisp.dhis.integration.sdk.internal.operation.AbstractOperation.transfer(AbstractOperation.java:97) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	at org.hisp.dhis.integration.sdk.internal.operation.DefaultSimpleCollectOperation.transfer(DefaultSimpleCollectOperation.java:58) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	at org.apache.camel.component.dhis2.api.Dhis2Get.collection(Dhis2Get.java:86) ~[camel-dhis2-api-2.0.0-SNAPSHOT.jar:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]
	at org.apache.camel.support.component.ApiMethodHelper.invokeMethod(ApiMethodHelper.java:523) ~[camel-support-3.20.2.jar:3.20.2]
	... 8 common frames omitted
Caused by: org.hisp.dhis.integration.sdk.api.Dhis2ClientException: Response{protocol=http/1.1, code=409, message=, url=http://192.46.212.72:8080/sjmch/api/tracker/enrollments?paging=false}
	at org.hisp.dhis.integration.sdk.internal.operation.AbstractOperation.onHttpResponse(AbstractOperation.java:134) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	... 16 common frames omitted

2023-03-13 14:12:43.142  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) is shutting down (timeout:45s)
2023-03-13 14:12:43.148  INFO 38580 --- [Camel (camel-1) thread #8 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.reminders
2023-03-13 14:12:43.149  INFO 38580 --- [Camel (camel-1) thread #8 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.pull
2023-03-13 14:12:43.150  INFO 38580 --- [Camel (camel-1) thread #8 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.sync
2023-03-13 14:12:43.916  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.reminders
2023-03-13 14:12:43.919  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.pull
2023-03-13 14:12:43.921  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.sync
2023-03-13 14:12:43.923  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:30)
2023-03-13 14:12:43.923  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route13 (direct://completeDataSetRegistration)
2023-03-13 14:12:43.924  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Compute Period (direct://computePeriod)
2023-03-13 14:12:43.924  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Save Failed Report (direct://dlq)
2023-03-13 14:12:43.924  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Transmit Report (direct://transmitReport)
2023-03-13 14:12:43.924  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Transform Report (direct://transformReport)
2023-03-13 14:12:43.925  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Deliver Report (direct://deliverReport)
2023-03-13 14:12:43.925  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Consume Report (jms://queue:dhis2)
2023-03-13 14:12:43.925  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Retry Reports (timer://retry)
2023-03-13 14:12:43.925  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Enrollment Sync (direct://enrollmentSync)
2023-03-13 14:12:43.926  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route12 (direct://sendBroadcast)
2023-03-13 14:12:43.926  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route11 (direct://fetchReportRate)
2023-03-13 14:12:43.926  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route10 (direct://fetchContacts)
2023-03-13 14:12:43.926  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route9 (direct://fetchDataSet)
2023-03-13 14:12:43.926  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Broadcast Reminders (direct://reminders)
2023-03-13 14:12:43.926  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route8 (quartz://reminders)
2023-03-13 14:12:43.926  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route7 (servlet:/tasks/reminders)
2023-03-13 14:12:43.927  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Scan RapidPro Flows (direct://pull)
2023-03-13 14:12:43.927  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route6 (quartz://pull)
2023-03-13 14:12:43.927  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (servlet:/tasks/scan)
2023-03-13 14:12:43.927  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create RapidPro Group (direct://createGroupRoute)
2023-03-13 14:12:43.927  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create RapidPro Fields (direct://createFieldsRoute)
2023-03-13 14:12:43.927  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Set up RapidPro (direct://prepareRapidPro)
2023-03-13 14:12:43.927  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (direct://updateContact)
2023-03-13 14:12:43.928  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (direct://createContact)
2023-03-13 14:12:43.928  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Sync RapidPro Contacts (direct://sync)
2023-03-13 14:12:43.928  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (quartz://sync)
2023-03-13 14:12:43.928  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (servlet:/tasks/sync)
2023-03-13 14:12:43.928  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create Program RapidPro Group (direct://createProgramGroupRoute)
2023-03-13 14:12:43.928  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create Program RapidPro Fields (direct://createProgramFieldsRoute)
2023-03-13 14:12:43.928  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Set up Program Fields RapidPro (direct://prepareTrackerRapidPro)
2023-03-13 14:12:43.931  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzComponent   : Shutting down Quartz scheduler (will wait for all jobs to complete first)
2023-03-13 14:12:43.932  INFO 38580 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED shutting down.
2023-03-13 14:12:43.932  INFO 38580 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED paused.
2023-03-13 14:12:44.025  INFO 38580 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler unregistered from name 'quartz:type=QuartzScheduler,name=DefaultQuartzScheduler-camel-1,instance=NON_CLUSTERED' in the local MBeanServer.
2023-03-13 14:12:44.026  INFO 38580 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED shutdown complete.
2023-03-13 14:12:44.031  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) shutdown in 889ms (uptime:8m7s)
2023-03-13 14:12:44.041  INFO 38580 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-03-13 14:12:44.041  INFO 38580 --- [SpringApplicationShutdownHook] io.hawt.web.auth.AuthenticationFilter    : Destroying hawtio authentication filter
2023-03-13 14:12:44.042  INFO 38580 --- [SpringApplicationShutdownHook] io.hawt.HawtioContextListener            : Destroying hawtio services
2023-03-13 14:12:44.126  INFO 38580 --- [SpringApplicationShutdownHook] org.apache.activemq.artemis.core.server  : AMQ221002: Apache ActiveMQ Artemis Message Broker version 2.19.1 [f561d4b4-8b4f-11ed-b036-4c034f8a3e96] stopped, uptime 8 minutes
2023-03-13 14:12:46.035  INFO 34172 --- [main] o.h.d.integration.rapidpro.Application   : Starting Application using Java 19.0.1 on DESKTOP-BIR2HG9 with PID 34172 (C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp\target\classes started by JohanGangsåsHole in C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp)
2023-03-13 14:12:46.038 DEBUG 34172 --- [main] o.h.d.integration.rapidpro.Application   : Running with Spring Boot v2.7.4, Spring v5.3.23
2023-03-13 14:12:46.038  INFO 34172 --- [main] o.h.d.integration.rapidpro.Application   : No active profile set, falling back to 1 default profile: "default"
2023-03-13 14:12:47.380  INFO 34172 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)
2023-03-13 14:12:47.390  INFO 34172 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-13 14:12:47.391  INFO 34172 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2023-03-13 14:12:47.546  INFO 34172 --- [main] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring embedded WebApplicationContext
2023-03-13 14:12:47.547  INFO 34172 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1470 ms
2023-03-13 14:12:47.670 ERROR 34172 --- [main] javax.management.mbeanserver             : The LogManager accessed before the "java.util.logging.manager" system property was set to "org.jboss.logmanager.LogManager". Results may be unexpected.
2023-03-13 14:12:47.994  INFO 34172 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/management/h2-console'. Database available at 'jdbc:h2:./dhis2rapidpro'
2023-03-13 14:12:48.163  INFO 34172 --- [main] o.s.b.a.e.web.ServletEndpointRegistrar   : Registered '/management/jolokia' to jolokia-actuator-endpoint
2023-03-13 14:12:48.176  INFO 34172 --- [main] io.hawt.HawtioContextListener            : Initialising hawtio services
2023-03-13 14:12:48.181  INFO 34172 --- [main] io.hawt.system.ConfigManager             : Configuration will be discovered via system properties
2023-03-13 14:12:48.183  INFO 34172 --- [main] io.hawt.jmx.JmxTreeWatcher               : Welcome to Hawtio 2.16.2
2023-03-13 14:12:48.201  INFO 34172 --- [main] i.h.w.auth.AuthenticationConfiguration   : Starting hawtio authentication filter, JAAS authentication disabled
2023-03-13 14:12:48.205  INFO 34172 --- [main] io.hawt.web.auth.LoginRedirectFilter     : Hawtio loginRedirectFilter is using 1800 sec. HttpSession timeout
2023-03-13 14:12:49.697  INFO 34172 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to RapidPro
2023-03-13 14:12:49.704  INFO 34172 --- [main] o.h.d.i.r.security.KeyStoreGenerator     : Re-using existing key store at file:/C:/Users/JohanGangsåsHole/Documents/integration-dhis2-whatsapp/tls.jks
2023-03-13 14:12:49.837  INFO 34172 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Ant [pattern='/management/**'], Ant [pattern='/services/tasks/**'], Ant [pattern='/login'], Ant [pattern='/logout']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@5d98364c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@23d23d98, org.springframework.security.web.context.SecurityContextPersistenceFilter@603b9d4b, org.springframework.security.web.header.HeaderWriterFilter@50ecef36, org.springframework.security.web.csrf.CsrfFilter@1da32baf, org.springframework.security.web.authentication.logout.LogoutFilter@2e91cf69, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3151277f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@34647f58, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1fd35a92, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4fd63c43, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7b2f8152, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6371c5ec, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@40db6136, org.springframework.security.web.session.SessionManagementFilter@593f7d2e, org.springframework.security.web.access.ExceptionTranslationFilter@59d0fac9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1870b9b8]
2023-03-13 14:12:49.844  INFO 34172 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/services/webhook'] with [org.springframework.security.web.session.DisableEncodeUrlFilter@4dffa400, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5e34a84b, org.springframework.security.web.context.SecurityContextPersistenceFilter@762f8ff6, org.springframework.security.web.header.HeaderWriterFilter@30437e9c, org.springframework.security.web.authentication.logout.LogoutFilter@141a10bf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30ed2a26, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1bf10539, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@438c0aaf, org.springframework.security.web.session.SessionManagementFilter@2e057637, org.springframework.security.web.access.ExceptionTranslationFilter@297dff3a]
2023-03-13 14:12:50.378  INFO 34172 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to DHIS 2.38.1
2023-03-13 14:12:50.549  INFO 34172 --- [main] io.hawt.log.logback.LogbackLogQuery      : Connected to Logback appender to trap logs with Hawtio log plugin
2023-03-13 14:12:50.875  INFO 34172 --- [main] org.apache.activemq.artemis.core.server  : AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,jdbcDriverClassName=null,jdbcConnectionUrl=null,messageTableName=messages,bindingsTableName=bindings,largeMessageTableName=large_messages,pageStoreTableName=page_store,)
2023-03-13 14:12:50.883  INFO 34172 --- [main] org.apache.activemq.artemis.core.server  : AMQ221045: libaio is not available, switching the configuration into NIO
2023-03-13 14:12:50.939  INFO 34172 --- [main] org.apache.activemq.artemis.core.server  : AMQ221057: Global Max Size is being adjusted to 1/2 of the JVM max size (-Xmx). being defined as 4 250 927 104
2023-03-13 14:12:50.954  INFO 34172 --- [main] org.apache.activemq.artemis.core.server  : AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE
2023-03-13 14:12:51.028  INFO 34172 --- [main] org.apache.activemq.artemis.core.server  : AMQ221034: Waiting indefinitely to obtain live lock
2023-03-13 14:12:51.029  INFO 34172 --- [main] org.apache.activemq.artemis.core.server  : AMQ221035: Live Server Obtained live lock
2023-03-13 14:12:51.092  INFO 34172 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address DLQ supporting [ANYCAST]
2023-03-13 14:12:51.092  INFO 34172 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue DLQ on address DLQ
2023-03-13 14:12:51.096  INFO 34172 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address ExpiryQueue supporting [ANYCAST]
2023-03-13 14:12:51.096  INFO 34172 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue ExpiryQueue on address ExpiryQueue
2023-03-13 14:12:51.117  INFO 34172 --- [main] org.apache.activemq.artemis.core.server  : AMQ221007: Server is now live
2023-03-13 14:12:51.117  INFO 34172 --- [main] org.apache.activemq.artemis.core.server  : AMQ221001: Apache ActiveMQ Artemis Message Broker version 2.19.1 [localhost, nodeID=f561d4b4-8b4f-11ed-b036-4c034f8a3e96] 
2023-03-13 14:12:51.350  INFO 34172 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/management'
2023-03-13 14:12:51.463  INFO 34172 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=/dhis2rapidpro]
2023-03-13 14:12:51.465  INFO 34172 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8443 (https) with context path '/dhis2rapidpro'
2023-03-13 14:12:52.601  INFO 34172 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-03-13 14:12:52.603  INFO 34172 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-03-13 14:12:52.603  INFO 34172 --- [main] io.hawt.web.auth.AuthenticationFilter    : Destroying hawtio authentication filter
2023-03-13 14:12:52.604  INFO 34172 --- [main] io.hawt.HawtioContextListener            : Destroying hawtio services
2023-03-13 14:12:52.609  INFO 34172 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-03-13 14:12:52.622 ERROR 34172 --- [main] o.s.boot.SpringApplication               : Application run failed

org.apache.camel.FailedToCreateRouteException: Failed to create route Enrollment Sync at: >>> To[dhis2://get/collection?path=tracker/enrollments?program=JA1vLYT8htI&orgUnit=DFn0SHhghQp&paging=false&client=#dhis2Client] <<< in route: Route(Enrollment Sync)[From[direct:enrollmentSync] -> [OnExc... because of Failed to resolve endpoint: dhis2://get/collection?client=%23dhis2Client&orgUnit=DFn0SHhghQp&paging=false&path=tracker%2Fenrollments%3Fprogram%3DJA1vLYT8htI due to: Failed to resolve endpoint: dhis2://get/collection?client=%23dhis2Client&orgUnit=DFn0SHhghQp&paging=false&path=tracker%2Fenrollments%3Fprogram%3DJA1vLYT8htI due to: There are 1 parameters that couldn't be set on the endpoint. Check the uri if the parameters are spelt correctly and that they are properties of the endpoint. Unknown parameters=[{orgUnit=DFn0SHhghQp}]
	at org.apache.camel.reifier.RouteReifier.doCreateRoute(RouteReifier.java:215) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.RouteReifier.createRoute(RouteReifier.java:75) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultModelReifierFactory.createRoute(DefaultModelReifierFactory.java:49) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:937) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:800) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.doInit(AbstractCamelContext.java:3008) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.support.service.BaseService.init(BaseService.java:83) ~[camel-api-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.init(AbstractCamelContext.java:2679) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.support.service.BaseService.start(BaseService.java:111) ~[camel-api-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.start(AbstractCamelContext.java:2698) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:262) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:119) ~[camel-spring-3.20.2.jar:3.20.2]
	at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:151) ~[camel-spring-3.20.2.jar:3.20.2]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:938) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.hisp.dhis.integration.rapidpro.Application.main(Application.java:204) ~[classes/:na]
Caused by: org.apache.camel.ResolveEndpointFailedException: Failed to resolve endpoint: dhis2://get/collection?client=%23dhis2Client&orgUnit=DFn0SHhghQp&paging=false&path=tracker%2Fenrollments%3Fprogram%3DJA1vLYT8htI due to: Failed to resolve endpoint: dhis2://get/collection?client=%23dhis2Client&orgUnit=DFn0SHhghQp&paging=false&path=tracker%2Fenrollments%3Fprogram%3DJA1vLYT8htI due to: There are 1 parameters that couldn't be set on the endpoint. Check the uri if the parameters are spelt correctly and that they are properties of the endpoint. Unknown parameters=[{orgUnit=DFn0SHhghQp}]
	at org.apache.camel.impl.engine.AbstractCamelContext.doGetEndpoint(AbstractCamelContext.java:1008) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.getEndpoint(AbstractCamelContext.java:890) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.support.CamelContextHelper.resolveEndpoint(CamelContextHelper.java:127) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.SendReifier.resolveEndpoint(SendReifier.java:45) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.SendReifier.createProcessor(SendReifier.java:37) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.ProcessorReifier.makeProcessor(ProcessorReifier.java:857) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.ProcessorReifier.addRoutes(ProcessorReifier.java:598) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.RouteReifier.doCreateRoute(RouteReifier.java:211) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	... 24 common frames omitted
Caused by: org.apache.camel.ResolveEndpointFailedException: Failed to resolve endpoint: dhis2://get/collection?client=%23dhis2Client&orgUnit=DFn0SHhghQp&paging=false&path=tracker%2Fenrollments%3Fprogram%3DJA1vLYT8htI due to: There are 1 parameters that couldn't be set on the endpoint. Check the uri if the parameters are spelt correctly and that they are properties of the endpoint. Unknown parameters=[{orgUnit=DFn0SHhghQp}]
	at org.apache.camel.support.DefaultComponent.validateParameters(DefaultComponent.java:300) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.DefaultComponent.createEndpoint(DefaultComponent.java:192) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.doGetEndpoint(AbstractCamelContext.java:974) ~[camel-base-engine-3.20.2.jar:3.20.2]
	... 31 common frames omitted

2023-03-13 14:12:52.652  INFO 34172 --- [main] org.apache.activemq.artemis.core.server  : AMQ221002: Apache ActiveMQ Artemis Message Broker version 2.19.1 [f561d4b4-8b4f-11ed-b036-4c034f8a3e96] stopped, uptime 1.792 seconds
2023-03-13 14:13:58.301  INFO 43736 --- [main] o.h.d.integration.rapidpro.Application   : Starting Application using Java 19.0.1 on DESKTOP-BIR2HG9 with PID 43736 (C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp\target\classes started by JohanGangsåsHole in C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp)
2023-03-13 14:13:58.303 DEBUG 43736 --- [main] o.h.d.integration.rapidpro.Application   : Running with Spring Boot v2.7.4, Spring v5.3.23
2023-03-13 14:13:58.304  INFO 43736 --- [main] o.h.d.integration.rapidpro.Application   : No active profile set, falling back to 1 default profile: "default"
2023-03-13 14:13:59.598  INFO 43736 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)
2023-03-13 14:13:59.608  INFO 43736 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-13 14:13:59.608  INFO 43736 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2023-03-13 14:13:59.749  INFO 43736 --- [main] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring embedded WebApplicationContext
2023-03-13 14:13:59.749  INFO 43736 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1406 ms
2023-03-13 14:13:59.873 ERROR 43736 --- [main] javax.management.mbeanserver             : The LogManager accessed before the "java.util.logging.manager" system property was set to "org.jboss.logmanager.LogManager". Results may be unexpected.
2023-03-13 14:14:00.223  INFO 43736 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/management/h2-console'. Database available at 'jdbc:h2:./dhis2rapidpro'
2023-03-13 14:14:00.414  INFO 43736 --- [main] o.s.b.a.e.web.ServletEndpointRegistrar   : Registered '/management/jolokia' to jolokia-actuator-endpoint
2023-03-13 14:14:00.430  INFO 43736 --- [main] io.hawt.HawtioContextListener            : Initialising hawtio services
2023-03-13 14:14:00.434  INFO 43736 --- [main] io.hawt.system.ConfigManager             : Configuration will be discovered via system properties
2023-03-13 14:14:00.436  INFO 43736 --- [main] io.hawt.jmx.JmxTreeWatcher               : Welcome to Hawtio 2.16.2
2023-03-13 14:14:00.452  INFO 43736 --- [main] i.h.w.auth.AuthenticationConfiguration   : Starting hawtio authentication filter, JAAS authentication disabled
2023-03-13 14:14:00.454  INFO 43736 --- [main] io.hawt.web.auth.LoginRedirectFilter     : Hawtio loginRedirectFilter is using 1800 sec. HttpSession timeout
2023-03-13 14:14:01.955  INFO 43736 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to RapidPro
2023-03-13 14:14:01.960  INFO 43736 --- [main] o.h.d.i.r.security.KeyStoreGenerator     : Re-using existing key store at file:/C:/Users/JohanGangsåsHole/Documents/integration-dhis2-whatsapp/tls.jks
2023-03-13 14:14:02.101  INFO 43736 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Ant [pattern='/management/**'], Ant [pattern='/services/tasks/**'], Ant [pattern='/login'], Ant [pattern='/logout']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@21ba0d33, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@afb7b03, org.springframework.security.web.context.SecurityContextPersistenceFilter@50ecef36, org.springframework.security.web.header.HeaderWriterFilter@6b15e68c, org.springframework.security.web.csrf.CsrfFilter@6d4d0a14, org.springframework.security.web.authentication.logout.LogoutFilter@491cc0eb, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1870b9b8, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6371c5ec, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4fd63c43, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@78ea700f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@593f7d2e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6e8aea7e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d483ebe, org.springframework.security.web.session.SessionManagementFilter@8dbf0f2, org.springframework.security.web.access.ExceptionTranslationFilter@6ba355e4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@8c18bde]
2023-03-13 14:14:02.109  INFO 43736 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/services/webhook'] with [org.springframework.security.web.session.DisableEncodeUrlFilter@762f8ff6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@30ed2a26, org.springframework.security.web.context.SecurityContextPersistenceFilter@41abee65, org.springframework.security.web.header.HeaderWriterFilter@60b4d934, org.springframework.security.web.authentication.logout.LogoutFilter@2e057637, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6fc6f68f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@297dff3a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1bf10539, org.springframework.security.web.session.SessionManagementFilter@6a3e633a, org.springframework.security.web.access.ExceptionTranslationFilter@77db231c]
2023-03-13 14:14:02.614  INFO 43736 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to DHIS 2.38.1
2023-03-13 14:14:02.777  INFO 43736 --- [main] io.hawt.log.logback.LogbackLogQuery      : Connected to Logback appender to trap logs with Hawtio log plugin
2023-03-13 14:14:03.173  INFO 43736 --- [main] org.apache.activemq.artemis.core.server  : AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,jdbcDriverClassName=null,jdbcConnectionUrl=null,messageTableName=messages,bindingsTableName=bindings,largeMessageTableName=large_messages,pageStoreTableName=page_store,)
2023-03-13 14:14:03.180  INFO 43736 --- [main] org.apache.activemq.artemis.core.server  : AMQ221045: libaio is not available, switching the configuration into NIO
2023-03-13 14:14:03.238  INFO 43736 --- [main] org.apache.activemq.artemis.core.server  : AMQ221057: Global Max Size is being adjusted to 1/2 of the JVM max size (-Xmx). being defined as 4 250 927 104
2023-03-13 14:14:03.252  INFO 43736 --- [main] org.apache.activemq.artemis.core.server  : AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE
2023-03-13 14:14:03.337  INFO 43736 --- [main] org.apache.activemq.artemis.core.server  : AMQ221034: Waiting indefinitely to obtain live lock
2023-03-13 14:14:03.338  INFO 43736 --- [main] org.apache.activemq.artemis.core.server  : AMQ221035: Live Server Obtained live lock
2023-03-13 14:14:03.402  INFO 43736 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address DLQ supporting [ANYCAST]
2023-03-13 14:14:03.403  INFO 43736 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue DLQ on address DLQ
2023-03-13 14:14:03.407  INFO 43736 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address ExpiryQueue supporting [ANYCAST]
2023-03-13 14:14:03.407  INFO 43736 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue ExpiryQueue on address ExpiryQueue
2023-03-13 14:14:03.427  INFO 43736 --- [main] org.apache.activemq.artemis.core.server  : AMQ221007: Server is now live
2023-03-13 14:14:03.427  INFO 43736 --- [main] org.apache.activemq.artemis.core.server  : AMQ221001: Apache ActiveMQ Artemis Message Broker version 2.19.1 [localhost, nodeID=f561d4b4-8b4f-11ed-b036-4c034f8a3e96] 
2023-03-13 14:14:03.692  INFO 43736 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/management'
2023-03-13 14:14:03.801  INFO 43736 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=/dhis2rapidpro]
2023-03-13 14:14:03.802  INFO 43736 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8443 (https) with context path '/dhis2rapidpro'
2023-03-13 14:14:04.019  INFO 43736 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-03-13 14:14:04.021  INFO 43736 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-03-13 14:14:04.021  INFO 43736 --- [main] io.hawt.web.auth.AuthenticationFilter    : Destroying hawtio authentication filter
2023-03-13 14:14:04.022  INFO 43736 --- [main] io.hawt.HawtioContextListener            : Destroying hawtio services
2023-03-13 14:14:04.026  INFO 43736 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-03-13 14:14:04.044 ERROR 43736 --- [main] o.s.boot.SpringApplication               : Application run failed

org.apache.camel.FailedToCreateRouteException: Failed to create route Enrollment Sync at: >>> To[dhis2://get/collection?path=tracker/enrollments?program=JA1vLYT8htI&orgUnit=DFn0SHhghQp&client=#dhis2Client] <<< in route: Route(Enrollment Sync)[From[direct:enrollmentSync] -> [OnExc... because of Failed to resolve endpoint: dhis2://get/collection?client=%23dhis2Client&orgUnit=DFn0SHhghQp&path=tracker%2Fenrollments%3Fprogram%3DJA1vLYT8htI due to: Failed to resolve endpoint: dhis2://get/collection?client=%23dhis2Client&orgUnit=DFn0SHhghQp&path=tracker%2Fenrollments%3Fprogram%3DJA1vLYT8htI due to: There are 1 parameters that couldn't be set on the endpoint. Check the uri if the parameters are spelt correctly and that they are properties of the endpoint. Unknown parameters=[{orgUnit=DFn0SHhghQp}]
	at org.apache.camel.reifier.RouteReifier.doCreateRoute(RouteReifier.java:215) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.RouteReifier.createRoute(RouteReifier.java:75) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultModelReifierFactory.createRoute(DefaultModelReifierFactory.java:49) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:937) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:800) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.doInit(AbstractCamelContext.java:3008) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.support.service.BaseService.init(BaseService.java:83) ~[camel-api-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.init(AbstractCamelContext.java:2679) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.support.service.BaseService.start(BaseService.java:111) ~[camel-api-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.start(AbstractCamelContext.java:2698) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:262) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:119) ~[camel-spring-3.20.2.jar:3.20.2]
	at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:151) ~[camel-spring-3.20.2.jar:3.20.2]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:938) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.hisp.dhis.integration.rapidpro.Application.main(Application.java:204) ~[classes/:na]
Caused by: org.apache.camel.ResolveEndpointFailedException: Failed to resolve endpoint: dhis2://get/collection?client=%23dhis2Client&orgUnit=DFn0SHhghQp&path=tracker%2Fenrollments%3Fprogram%3DJA1vLYT8htI due to: Failed to resolve endpoint: dhis2://get/collection?client=%23dhis2Client&orgUnit=DFn0SHhghQp&path=tracker%2Fenrollments%3Fprogram%3DJA1vLYT8htI due to: There are 1 parameters that couldn't be set on the endpoint. Check the uri if the parameters are spelt correctly and that they are properties of the endpoint. Unknown parameters=[{orgUnit=DFn0SHhghQp}]
	at org.apache.camel.impl.engine.AbstractCamelContext.doGetEndpoint(AbstractCamelContext.java:1008) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.getEndpoint(AbstractCamelContext.java:890) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.support.CamelContextHelper.resolveEndpoint(CamelContextHelper.java:127) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.SendReifier.resolveEndpoint(SendReifier.java:45) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.SendReifier.createProcessor(SendReifier.java:37) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.ProcessorReifier.makeProcessor(ProcessorReifier.java:857) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.ProcessorReifier.addRoutes(ProcessorReifier.java:598) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.RouteReifier.doCreateRoute(RouteReifier.java:211) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	... 24 common frames omitted
Caused by: org.apache.camel.ResolveEndpointFailedException: Failed to resolve endpoint: dhis2://get/collection?client=%23dhis2Client&orgUnit=DFn0SHhghQp&path=tracker%2Fenrollments%3Fprogram%3DJA1vLYT8htI due to: There are 1 parameters that couldn't be set on the endpoint. Check the uri if the parameters are spelt correctly and that they are properties of the endpoint. Unknown parameters=[{orgUnit=DFn0SHhghQp}]
	at org.apache.camel.support.DefaultComponent.validateParameters(DefaultComponent.java:300) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.DefaultComponent.createEndpoint(DefaultComponent.java:192) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.doGetEndpoint(AbstractCamelContext.java:974) ~[camel-base-engine-3.20.2.jar:3.20.2]
	... 31 common frames omitted

2023-03-13 14:14:04.071  INFO 43736 --- [main] org.apache.activemq.artemis.core.server  : AMQ221002: Apache ActiveMQ Artemis Message Broker version 2.19.1 [f561d4b4-8b4f-11ed-b036-4c034f8a3e96] stopped, uptime 0.912 seconds
2023-03-13 14:15:07.749  INFO 42612 --- [main] o.h.d.integration.rapidpro.Application   : Starting Application using Java 19.0.1 on DESKTOP-BIR2HG9 with PID 42612 (C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp\target\classes started by JohanGangsåsHole in C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp)
2023-03-13 14:15:07.752 DEBUG 42612 --- [main] o.h.d.integration.rapidpro.Application   : Running with Spring Boot v2.7.4, Spring v5.3.23
2023-03-13 14:15:07.752  INFO 42612 --- [main] o.h.d.integration.rapidpro.Application   : No active profile set, falling back to 1 default profile: "default"
2023-03-13 14:15:09.076  INFO 42612 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)
2023-03-13 14:15:09.086  INFO 42612 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-13 14:15:09.087  INFO 42612 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2023-03-13 14:15:09.230  INFO 42612 --- [main] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring embedded WebApplicationContext
2023-03-13 14:15:09.231  INFO 42612 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1441 ms
2023-03-13 14:15:09.355 ERROR 42612 --- [main] javax.management.mbeanserver             : The LogManager accessed before the "java.util.logging.manager" system property was set to "org.jboss.logmanager.LogManager". Results may be unexpected.
2023-03-13 14:15:09.701  INFO 42612 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/management/h2-console'. Database available at 'jdbc:h2:./dhis2rapidpro'
2023-03-13 14:15:09.879  INFO 42612 --- [main] o.s.b.a.e.web.ServletEndpointRegistrar   : Registered '/management/jolokia' to jolokia-actuator-endpoint
2023-03-13 14:15:09.905  INFO 42612 --- [main] io.hawt.HawtioContextListener            : Initialising hawtio services
2023-03-13 14:15:09.910  INFO 42612 --- [main] io.hawt.system.ConfigManager             : Configuration will be discovered via system properties
2023-03-13 14:15:09.913  INFO 42612 --- [main] io.hawt.jmx.JmxTreeWatcher               : Welcome to Hawtio 2.16.2
2023-03-13 14:15:09.924  INFO 42612 --- [main] i.h.w.auth.AuthenticationConfiguration   : Starting hawtio authentication filter, JAAS authentication disabled
2023-03-13 14:15:09.927  INFO 42612 --- [main] io.hawt.web.auth.LoginRedirectFilter     : Hawtio loginRedirectFilter is using 1800 sec. HttpSession timeout
2023-03-13 14:15:11.392  INFO 42612 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to RapidPro
2023-03-13 14:15:11.398  INFO 42612 --- [main] o.h.d.i.r.security.KeyStoreGenerator     : Re-using existing key store at file:/C:/Users/JohanGangsåsHole/Documents/integration-dhis2-whatsapp/tls.jks
2023-03-13 14:15:11.555  INFO 42612 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Ant [pattern='/management/**'], Ant [pattern='/services/tasks/**'], Ant [pattern='/login'], Ant [pattern='/logout']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@2befb16f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3151277f, org.springframework.security.web.context.SecurityContextPersistenceFilter@3ad558bf, org.springframework.security.web.header.HeaderWriterFilter@13c81bc5, org.springframework.security.web.csrf.CsrfFilter@4c91a008, org.springframework.security.web.authentication.logout.LogoutFilter@714b6999, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@29dfc68f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1d3546f9, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2aeb7c4c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6d9ee75a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ba355e4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7b1559f1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@67f266bd, org.springframework.security.web.session.SessionManagementFilter@8167f57, org.springframework.security.web.access.ExceptionTranslationFilter@efa04b5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@50e24ea4]
2023-03-13 14:15:11.562  INFO 42612 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/services/webhook'] with [org.springframework.security.web.session.DisableEncodeUrlFilter@574f9e36, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77db231c, org.springframework.security.web.context.SecurityContextPersistenceFilter@6ee1ddcf, org.springframework.security.web.header.HeaderWriterFilter@40db6136, org.springframework.security.web.authentication.logout.LogoutFilter@2435c6ae, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b630d4b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@70aa03c0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@60b4d934, org.springframework.security.web.session.SessionManagementFilter@5ced0537, org.springframework.security.web.access.ExceptionTranslationFilter@1fd35a92]
2023-03-13 14:15:12.073  INFO 42612 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to DHIS 2.38.1
2023-03-13 14:15:12.248  INFO 42612 --- [main] io.hawt.log.logback.LogbackLogQuery      : Connected to Logback appender to trap logs with Hawtio log plugin
2023-03-13 14:15:12.613  INFO 42612 --- [main] org.apache.activemq.artemis.core.server  : AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,jdbcDriverClassName=null,jdbcConnectionUrl=null,messageTableName=messages,bindingsTableName=bindings,largeMessageTableName=large_messages,pageStoreTableName=page_store,)
2023-03-13 14:15:12.622  INFO 42612 --- [main] org.apache.activemq.artemis.core.server  : AMQ221045: libaio is not available, switching the configuration into NIO
2023-03-13 14:15:12.681  INFO 42612 --- [main] org.apache.activemq.artemis.core.server  : AMQ221057: Global Max Size is being adjusted to 1/2 of the JVM max size (-Xmx). being defined as 4 250 927 104
2023-03-13 14:15:12.697  INFO 42612 --- [main] org.apache.activemq.artemis.core.server  : AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE
2023-03-13 14:15:12.775  INFO 42612 --- [main] org.apache.activemq.artemis.core.server  : AMQ221034: Waiting indefinitely to obtain live lock
2023-03-13 14:15:12.776  INFO 42612 --- [main] org.apache.activemq.artemis.core.server  : AMQ221035: Live Server Obtained live lock
2023-03-13 14:15:12.839  INFO 42612 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address DLQ supporting [ANYCAST]
2023-03-13 14:15:12.840  INFO 42612 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue DLQ on address DLQ
2023-03-13 14:15:12.843  INFO 42612 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address ExpiryQueue supporting [ANYCAST]
2023-03-13 14:15:12.843  INFO 42612 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue ExpiryQueue on address ExpiryQueue
2023-03-13 14:15:12.862  INFO 42612 --- [main] org.apache.activemq.artemis.core.server  : AMQ221007: Server is now live
2023-03-13 14:15:12.863  INFO 42612 --- [main] org.apache.activemq.artemis.core.server  : AMQ221001: Apache ActiveMQ Artemis Message Broker version 2.19.1 [localhost, nodeID=f561d4b4-8b4f-11ed-b036-4c034f8a3e96] 
2023-03-13 14:15:13.117  INFO 42612 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/management'
2023-03-13 14:15:13.254  INFO 42612 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=/dhis2rapidpro]
2023-03-13 14:15:13.255  INFO 42612 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8443 (https) with context path '/dhis2rapidpro'
2023-03-13 14:15:14.462  INFO 42612 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) is starting
2023-03-13 14:15:14.530  INFO 42612 --- [main] o.a.c.component.quartz.QuartzComponent   : Setting org.quartz.scheduler.jmx.export=true to ensure QuartzScheduler(s) will be enlisted in JMX
2023-03-13 14:15:14.547  INFO 42612 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2023-03-13 14:15:14.549  INFO 42612 --- [main] org.quartz.simpl.SimpleThreadPool        : Job execution threads will use class loader of thread: main
2023-03-13 14:15:14.555  INFO 42612 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2023-03-13 14:15:14.555  INFO 42612 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.
2023-03-13 14:15:14.556  INFO 42612 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2023-03-13 14:15:14.559  INFO 42612 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) 'DefaultQuartzScheduler-camel-1' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2023-03-13 14:15:14.560  INFO 42612 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'DefaultQuartzScheduler-camel-1' initialized from an externally provided properties instance.
2023-03-13 14:15:14.560  INFO 42612 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.3.2
2023-03-13 14:15:14.648  INFO 42612 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.sync (cron=0 0/30 * * * ?, triggerType=CronTriggerImpl, jobClass=StatefulCamelJob) is scheduled. Next fire date is 2023-03-13T14:30:00.000+0100
2023-03-13 14:15:14.699  INFO 42612 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.pull (cron=0 0/30 * * * ?, triggerType=CronTriggerImpl, jobClass=StatefulCamelJob) is scheduled. Next fire date is 2023-03-13T14:30:00.000+0100
2023-03-13 14:15:14.723  INFO 42612 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.reminders (cron=0 0 9 ? * *, triggerType=CronTriggerImpl, jobClass=CamelJob) is scheduled. Next fire date is 2023-03-14T09:00:00.000+0100
2023-03-13 14:15:14.788  INFO 42612 --- [main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2023-03-13 14:15:14.789  INFO 42612 --- [CamelMainRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.20.2 is starting
2023-03-13 14:15:14.790  INFO 42612 --- [main] .a.c.s.FileWatcherResourceReloadStrategy : Live route reloading enabled (directory: routes)
2023-03-13 14:15:14.894  INFO 42612 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:30)
2023-03-13 14:15:14.894  INFO 42612 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Set up Program Fields RapidPro (direct://prepareTrackerRapidPro)
2023-03-13 14:15:14.895  INFO 42612 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create Program RapidPro Fields (direct://createProgramFieldsRoute)
2023-03-13 14:15:14.895  INFO 42612 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create Program RapidPro Group (direct://createProgramGroupRoute)
2023-03-13 14:15:14.895  INFO 42612 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (servlet:/tasks/sync)
2023-03-13 14:15:14.895  INFO 42612 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (quartz://sync)
2023-03-13 14:15:14.896  INFO 42612 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Sync RapidPro Contacts (direct://sync)
2023-03-13 14:15:14.896  INFO 42612 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (direct://createContact)
2023-03-13 14:15:14.896  INFO 42612 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (direct://updateContact)
2023-03-13 14:15:14.896  INFO 42612 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Set up RapidPro (direct://prepareRapidPro)
2023-03-13 14:15:14.896  INFO 42612 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create RapidPro Fields (direct://createFieldsRoute)
2023-03-13 14:15:14.897  INFO 42612 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create RapidPro Group (direct://createGroupRoute)
2023-03-13 14:15:14.897  INFO 42612 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (servlet:/tasks/scan)
2023-03-13 14:15:14.897  INFO 42612 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route6 (quartz://pull)
2023-03-13 14:15:14.897  INFO 42612 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Scan RapidPro Flows (direct://pull)
2023-03-13 14:15:14.897  INFO 42612 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route7 (servlet:/tasks/reminders)
2023-03-13 14:15:14.898  INFO 42612 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route8 (quartz://reminders)
2023-03-13 14:15:14.898  INFO 42612 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Broadcast Reminders (direct://reminders)
2023-03-13 14:15:14.898  INFO 42612 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route9 (direct://fetchDataSet)
2023-03-13 14:15:14.898  INFO 42612 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route10 (direct://fetchContacts)
2023-03-13 14:15:14.898  INFO 42612 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route11 (direct://fetchReportRate)
2023-03-13 14:15:14.899  INFO 42612 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route12 (direct://sendBroadcast)
2023-03-13 14:15:14.899  INFO 42612 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Enrollment Sync (direct://enrollmentSync)
2023-03-13 14:15:14.899  INFO 42612 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Retry Reports (timer://retry)
2023-03-13 14:15:14.899  INFO 42612 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Consume Report (jms://queue:dhis2)
2023-03-13 14:15:14.900  INFO 42612 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Deliver Report (direct://deliverReport)
2023-03-13 14:15:14.900  INFO 42612 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Transform Report (direct://transformReport)
2023-03-13 14:15:14.900  INFO 42612 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Transmit Report (direct://transmitReport)
2023-03-13 14:15:14.900  INFO 42612 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Save Failed Report (direct://dlq)
2023-03-13 14:15:14.901  INFO 42612 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Compute Period (direct://computePeriod)
2023-03-13 14:15:14.901  INFO 42612 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route13 (direct://completeDataSetRegistration)
2023-03-13 14:15:14.901  INFO 42612 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) started in 1s627ms (build:53ms init:1s136ms start:438ms)
2023-03-13 14:15:14.903  INFO 42612 --- [main] o.a.c.component.quartz.QuartzComponent   : Starting Quartz scheduler: org.quartz.impl.StdScheduler@232e4e1d
2023-03-13 14:15:14.903  INFO 42612 --- [main] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED started.
2023-03-13 14:15:14.907  INFO 42612 --- [main] o.h.d.integration.rapidpro.Application   : Started Application in 7.454 seconds (JVM running for 7.862)
2023-03-13 14:15:14.915  INFO 42612 --- [main] o.h.d.integration.rapidpro.Application   : 
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 ONLINE

 Hawtio console: https://192.168.1.122:8443/dhis2rapidpro/management/hawtio
 H2 console: https://192.168.1.122:8443/dhis2rapidpro/management/h2-console
 Poll flows task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/scan
 Sync contacts task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/sync
 Remind contacts task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/reminders

 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

2023-03-13 14:15:33.947  INFO 42612 --- [https-jsse-nio-8443-exec-9] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-13 14:15:33.948  INFO 42612 --- [https-jsse-nio-8443-exec-9] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-03-13 14:15:33.950  INFO 42612 --- [https-jsse-nio-8443-exec-9] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-03-13 14:15:39.472  INFO 42612 --- [https-jsse-nio-8443-exec-5] o.h.d.i.r.route.AbstractRouteBuilder     : Synchronising RapidPro contacts...
2023-03-13 14:15:41.628 DEBUG 42612 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user w5cOyMlXYNL
2023-03-13 14:15:42.057  WARN 42612 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user w5cOyMlXYNL => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:187654321"]}
2023-03-13 14:15:42.063 DEBUG 42612 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user kAoHFxJOTWl
2023-03-13 14:15:42.181  WARN 42612 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user kAoHFxJOTWl => HTTP 400. HTTP response body => {"urns":{"1":["Invalid URN: whatsapp:+4794277878. Ensure phone numbers contain country codes."]}}
2023-03-13 14:15:42.187 DEBUG 42612 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user pVS5mv9EsC2
2023-03-13 14:15:42.310  WARN 42612 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user pVS5mv9EsC2 => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:+919560163563"]}
2023-03-13 14:15:42.313 DEBUG 42612 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user e0kSQPZJe4s
2023-03-13 14:15:42.435  WARN 42612 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user e0kSQPZJe4s => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:+4712345678"]}
2023-03-13 14:15:42.438  INFO 42612 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Completed synchronisation of RapidPro contacts with DHIS2 users
2023-03-13 14:15:42.727 ERROR 42612 --- [Camel (camel-1) thread #4 - CamelDhis2] o.a.c.p.e.DefaultErrorHandler            : Failed delivery for (MessageId: 8720167E9836D9D-0000000000000005 on ExchangeId: 8720167E9836D9D-0000000000000005). Exhausted after delivery attempt: 1 caught: org.apache.camel.RuntimeCamelException: Error invoking collection with {path=tracker/enrollments?program=JA1vLYT8htI, methodName=collection, client=org.hisp.dhis.integration.sdk.DefaultDhis2Client@8e4cfb3, apiName=GET}: org.hisp.dhis.integration.sdk.api.Dhis2ClientException: Response{protocol=http/1.1, code=409, message=, url=http://192.46.212.72:8080/sjmch/api/tracker/enrollments?program=JA1vLYT8htI}

Message History (source location and message history is disabled)
---------------------------------------------------------------------------------------------------------------------------------------
Source                                   ID                             Processor                                          Elapsed (ms)
                                         route1/route1                  from[servlet:/tasks/sync?muteException=true]         1978494069
	...
                                         Enrollment Sync/to24           dhis2://get/collection?path=tracker/enrollments?pr            0

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------

org.apache.camel.RuntimeCamelException: Error invoking collection with {path=tracker/enrollments?program=JA1vLYT8htI, methodName=collection, client=org.hisp.dhis.integration.sdk.DefaultDhis2Client@8e4cfb3, apiName=GET}: org.hisp.dhis.integration.sdk.api.Dhis2ClientException: Response{protocol=http/1.1, code=409, message=, url=http://192.46.212.72:8080/sjmch/api/tracker/enrollments?program=JA1vLYT8htI}
	at org.apache.camel.support.component.ApiMethodHelper.invokeMethod(ApiMethodHelper.java:531) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.component.AbstractApiProducer.doInvokeMethod(AbstractApiProducer.java:122) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.component.AbstractApiProducer$1.run(AbstractApiProducer.java:89) ~[camel-support-3.20.2.jar:3.20.2]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]
Caused by: org.hisp.dhis.integration.sdk.api.Dhis2ClientException: org.hisp.dhis.integration.sdk.api.Dhis2ClientException: Response{protocol=http/1.1, code=409, message=, url=http://192.46.212.72:8080/sjmch/api/tracker/enrollments?program=JA1vLYT8htI}
	at org.hisp.dhis.integration.sdk.internal.operation.AbstractOperation.onHttpResponse(AbstractOperation.java:143) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	at org.hisp.dhis.integration.sdk.internal.operation.DefaultGetOperation.doTransfer(DefaultGetOperation.java:84) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	at org.hisp.dhis.integration.sdk.internal.operation.DefaultGetOperation.doTransfer(DefaultGetOperation.java:46) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	at org.hisp.dhis.integration.sdk.internal.operation.AbstractOperation.transfer(AbstractOperation.java:97) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	at org.hisp.dhis.integration.sdk.internal.operation.page.DefaultPagingCollectOperation.transfer(DefaultPagingCollectOperation.java:57) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	at org.apache.camel.component.dhis2.api.Dhis2Get.collection(Dhis2Get.java:84) ~[camel-dhis2-api-2.0.0-SNAPSHOT.jar:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]
	at org.apache.camel.support.component.ApiMethodHelper.invokeMethod(ApiMethodHelper.java:523) ~[camel-support-3.20.2.jar:3.20.2]
	... 8 common frames omitted
Caused by: org.hisp.dhis.integration.sdk.api.Dhis2ClientException: Response{protocol=http/1.1, code=409, message=, url=http://192.46.212.72:8080/sjmch/api/tracker/enrollments?program=JA1vLYT8htI}
	at org.hisp.dhis.integration.sdk.internal.operation.AbstractOperation.onHttpResponse(AbstractOperation.java:134) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	... 16 common frames omitted

2023-03-13 14:26:03.382  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) is shutting down (timeout:45s)
2023-03-13 14:26:03.386  INFO 42612 --- [Camel (camel-1) thread #6 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.reminders
2023-03-13 14:26:03.387  INFO 42612 --- [Camel (camel-1) thread #6 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.pull
2023-03-13 14:26:03.387  INFO 42612 --- [Camel (camel-1) thread #6 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.sync
2023-03-13 14:26:03.720  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.reminders
2023-03-13 14:26:03.723  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.pull
2023-03-13 14:26:03.726  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.sync
2023-03-13 14:26:03.728  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:30)
2023-03-13 14:26:03.728  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route13 (direct://completeDataSetRegistration)
2023-03-13 14:26:03.728  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Compute Period (direct://computePeriod)
2023-03-13 14:26:03.729  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Save Failed Report (direct://dlq)
2023-03-13 14:26:03.729  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Transmit Report (direct://transmitReport)
2023-03-13 14:26:03.729  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Transform Report (direct://transformReport)
2023-03-13 14:26:03.729  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Deliver Report (direct://deliverReport)
2023-03-13 14:26:03.729  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Consume Report (jms://queue:dhis2)
2023-03-13 14:26:03.730  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Retry Reports (timer://retry)
2023-03-13 14:26:03.730  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Enrollment Sync (direct://enrollmentSync)
2023-03-13 14:26:03.730  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route12 (direct://sendBroadcast)
2023-03-13 14:26:03.730  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route11 (direct://fetchReportRate)
2023-03-13 14:26:03.730  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route10 (direct://fetchContacts)
2023-03-13 14:26:03.730  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route9 (direct://fetchDataSet)
2023-03-13 14:26:03.731  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Broadcast Reminders (direct://reminders)
2023-03-13 14:26:03.731  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route8 (quartz://reminders)
2023-03-13 14:26:03.731  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route7 (servlet:/tasks/reminders)
2023-03-13 14:26:03.731  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Scan RapidPro Flows (direct://pull)
2023-03-13 14:26:03.731  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route6 (quartz://pull)
2023-03-13 14:26:03.732  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (servlet:/tasks/scan)
2023-03-13 14:26:03.732  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create RapidPro Group (direct://createGroupRoute)
2023-03-13 14:26:03.732  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create RapidPro Fields (direct://createFieldsRoute)
2023-03-13 14:26:03.732  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Set up RapidPro (direct://prepareRapidPro)
2023-03-13 14:26:03.732  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (direct://updateContact)
2023-03-13 14:26:03.733  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (direct://createContact)
2023-03-13 14:26:03.733  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Sync RapidPro Contacts (direct://sync)
2023-03-13 14:26:03.733  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (quartz://sync)
2023-03-13 14:26:03.733  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (servlet:/tasks/sync)
2023-03-13 14:26:03.733  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create Program RapidPro Group (direct://createProgramGroupRoute)
2023-03-13 14:26:03.733  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create Program RapidPro Fields (direct://createProgramFieldsRoute)
2023-03-13 14:26:03.734  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Set up Program Fields RapidPro (direct://prepareTrackerRapidPro)
2023-03-13 14:26:03.736  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzComponent   : Shutting down Quartz scheduler (will wait for all jobs to complete first)
2023-03-13 14:26:03.737  INFO 42612 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED shutting down.
2023-03-13 14:26:03.737  INFO 42612 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED paused.
2023-03-13 14:26:04.175  INFO 42612 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler unregistered from name 'quartz:type=QuartzScheduler,name=DefaultQuartzScheduler-camel-1,instance=NON_CLUSTERED' in the local MBeanServer.
2023-03-13 14:26:04.176  INFO 42612 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED shutdown complete.
2023-03-13 14:26:04.181  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) shutdown in 799ms (uptime:10m49s)
2023-03-13 14:26:04.192  INFO 42612 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-03-13 14:26:04.192  INFO 42612 --- [SpringApplicationShutdownHook] io.hawt.web.auth.AuthenticationFilter    : Destroying hawtio authentication filter
2023-03-13 14:26:04.193  INFO 42612 --- [SpringApplicationShutdownHook] io.hawt.HawtioContextListener            : Destroying hawtio services
2023-03-13 14:26:04.280  INFO 42612 --- [SpringApplicationShutdownHook] org.apache.activemq.artemis.core.server  : AMQ221002: Apache ActiveMQ Artemis Message Broker version 2.19.1 [f561d4b4-8b4f-11ed-b036-4c034f8a3e96] stopped, uptime 10 minutes
2023-03-13 14:26:06.150  INFO 22904 --- [main] o.h.d.integration.rapidpro.Application   : Starting Application using Java 19.0.1 on DESKTOP-BIR2HG9 with PID 22904 (C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp\target\classes started by JohanGangsåsHole in C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp)
2023-03-13 14:26:06.152 DEBUG 22904 --- [main] o.h.d.integration.rapidpro.Application   : Running with Spring Boot v2.7.4, Spring v5.3.23
2023-03-13 14:26:06.153  INFO 22904 --- [main] o.h.d.integration.rapidpro.Application   : No active profile set, falling back to 1 default profile: "default"
2023-03-13 14:26:07.496  INFO 22904 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)
2023-03-13 14:26:07.506  INFO 22904 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-13 14:26:07.506  INFO 22904 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2023-03-13 14:26:07.656  INFO 22904 --- [main] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring embedded WebApplicationContext
2023-03-13 14:26:07.657  INFO 22904 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1464 ms
2023-03-13 14:26:07.768 ERROR 22904 --- [main] javax.management.mbeanserver             : The LogManager accessed before the "java.util.logging.manager" system property was set to "org.jboss.logmanager.LogManager". Results may be unexpected.
2023-03-13 14:26:08.099  INFO 22904 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/management/h2-console'. Database available at 'jdbc:h2:./dhis2rapidpro'
2023-03-13 14:26:08.287  INFO 22904 --- [main] o.s.b.a.e.web.ServletEndpointRegistrar   : Registered '/management/jolokia' to jolokia-actuator-endpoint
2023-03-13 14:26:08.301  INFO 22904 --- [main] io.hawt.HawtioContextListener            : Initialising hawtio services
2023-03-13 14:26:08.306  INFO 22904 --- [main] io.hawt.system.ConfigManager             : Configuration will be discovered via system properties
2023-03-13 14:26:08.309  INFO 22904 --- [main] io.hawt.jmx.JmxTreeWatcher               : Welcome to Hawtio 2.16.2
2023-03-13 14:26:08.319  INFO 22904 --- [main] i.h.w.auth.AuthenticationConfiguration   : Starting hawtio authentication filter, JAAS authentication disabled
2023-03-13 14:26:08.320  INFO 22904 --- [main] io.hawt.web.auth.LoginRedirectFilter     : Hawtio loginRedirectFilter is using 1800 sec. HttpSession timeout
2023-03-13 14:26:09.727  INFO 22904 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to RapidPro
2023-03-13 14:26:09.732  INFO 22904 --- [main] o.h.d.i.r.security.KeyStoreGenerator     : Re-using existing key store at file:/C:/Users/JohanGangsåsHole/Documents/integration-dhis2-whatsapp/tls.jks
2023-03-13 14:26:09.886  INFO 22904 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Ant [pattern='/management/**'], Ant [pattern='/services/tasks/**'], Ant [pattern='/login'], Ant [pattern='/logout']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@40db6136, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5ced0537, org.springframework.security.web.context.SecurityContextPersistenceFilter@6371c5ec, org.springframework.security.web.header.HeaderWriterFilter@6e8aea7e, org.springframework.security.web.csrf.CsrfFilter@efa04b5, org.springframework.security.web.authentication.logout.LogoutFilter@c683cf5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@31c0c7e5, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@664254b6, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6ee1ddcf, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5d98364c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6738e8b2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@609ad016, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6b630d4b, org.springframework.security.web.session.SessionManagementFilter@603b9d4b, org.springframework.security.web.access.ExceptionTranslationFilter@767d9b9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@36cf6377]
2023-03-13 14:26:09.894  INFO 22904 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/services/webhook'] with [org.springframework.security.web.session.DisableEncodeUrlFilter@7577589, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37b80ec7, org.springframework.security.web.context.SecurityContextPersistenceFilter@1e406cbe, org.springframework.security.web.header.HeaderWriterFilter@30ed2a26, org.springframework.security.web.authentication.logout.LogoutFilter@438c0aaf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@141a10bf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4dffa400, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4cb58e8b, org.springframework.security.web.session.SessionManagementFilter@1bf10539, org.springframework.security.web.access.ExceptionTranslationFilter@762f8ff6]
2023-03-13 14:26:10.428  INFO 22904 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to DHIS 2.38.1
2023-03-13 14:26:10.589  INFO 22904 --- [main] io.hawt.log.logback.LogbackLogQuery      : Connected to Logback appender to trap logs with Hawtio log plugin
2023-03-13 14:26:10.964  INFO 22904 --- [main] org.apache.activemq.artemis.core.server  : AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,jdbcDriverClassName=null,jdbcConnectionUrl=null,messageTableName=messages,bindingsTableName=bindings,largeMessageTableName=large_messages,pageStoreTableName=page_store,)
2023-03-13 14:26:10.972  INFO 22904 --- [main] org.apache.activemq.artemis.core.server  : AMQ221045: libaio is not available, switching the configuration into NIO
2023-03-13 14:26:11.032  INFO 22904 --- [main] org.apache.activemq.artemis.core.server  : AMQ221057: Global Max Size is being adjusted to 1/2 of the JVM max size (-Xmx). being defined as 4 250 927 104
2023-03-13 14:26:11.047  INFO 22904 --- [main] org.apache.activemq.artemis.core.server  : AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE
2023-03-13 14:26:11.123  INFO 22904 --- [main] org.apache.activemq.artemis.core.server  : AMQ221034: Waiting indefinitely to obtain live lock
2023-03-13 14:26:11.123  INFO 22904 --- [main] org.apache.activemq.artemis.core.server  : AMQ221035: Live Server Obtained live lock
2023-03-13 14:26:11.186  INFO 22904 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address DLQ supporting [ANYCAST]
2023-03-13 14:26:11.187  INFO 22904 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue DLQ on address DLQ
2023-03-13 14:26:11.190  INFO 22904 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address ExpiryQueue supporting [ANYCAST]
2023-03-13 14:26:11.190  INFO 22904 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue ExpiryQueue on address ExpiryQueue
2023-03-13 14:26:11.210  INFO 22904 --- [main] org.apache.activemq.artemis.core.server  : AMQ221007: Server is now live
2023-03-13 14:26:11.210  INFO 22904 --- [main] org.apache.activemq.artemis.core.server  : AMQ221001: Apache ActiveMQ Artemis Message Broker version 2.19.1 [localhost, nodeID=f561d4b4-8b4f-11ed-b036-4c034f8a3e96] 
2023-03-13 14:26:11.405  INFO 22904 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/management'
2023-03-13 14:26:11.529  INFO 22904 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=/dhis2rapidpro]
2023-03-13 14:26:11.530  INFO 22904 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8443 (https) with context path '/dhis2rapidpro'
2023-03-13 14:26:12.647  INFO 22904 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) is starting
2023-03-13 14:26:12.714  INFO 22904 --- [main] o.a.c.component.quartz.QuartzComponent   : Setting org.quartz.scheduler.jmx.export=true to ensure QuartzScheduler(s) will be enlisted in JMX
2023-03-13 14:26:12.734  INFO 22904 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2023-03-13 14:26:12.736  INFO 22904 --- [main] org.quartz.simpl.SimpleThreadPool        : Job execution threads will use class loader of thread: main
2023-03-13 14:26:12.743  INFO 22904 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2023-03-13 14:26:12.743  INFO 22904 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.
2023-03-13 14:26:12.744  INFO 22904 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2023-03-13 14:26:12.747  INFO 22904 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) 'DefaultQuartzScheduler-camel-1' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2023-03-13 14:26:12.748  INFO 22904 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'DefaultQuartzScheduler-camel-1' initialized from an externally provided properties instance.
2023-03-13 14:26:12.748  INFO 22904 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.3.2
2023-03-13 14:26:12.847  INFO 22904 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.sync (cron=0 0/30 * * * ?, triggerType=CronTriggerImpl, jobClass=StatefulCamelJob) is scheduled. Next fire date is 2023-03-13T14:30:00.000+0100
2023-03-13 14:26:12.942  INFO 22904 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.pull (cron=0 0/30 * * * ?, triggerType=CronTriggerImpl, jobClass=StatefulCamelJob) is scheduled. Next fire date is 2023-03-13T14:30:00.000+0100
2023-03-13 14:26:12.963  INFO 22904 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.reminders (cron=0 0 9 ? * *, triggerType=CronTriggerImpl, jobClass=CamelJob) is scheduled. Next fire date is 2023-03-14T09:00:00.000+0100
2023-03-13 14:26:12.981  INFO 22904 --- [main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2023-03-13 14:26:12.982  INFO 22904 --- [CamelMainRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.20.2 is starting
2023-03-13 14:26:12.983  INFO 22904 --- [main] .a.c.s.FileWatcherResourceReloadStrategy : Live route reloading enabled (directory: routes)
2023-03-13 14:26:13.083  INFO 22904 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:30)
2023-03-13 14:26:13.083  INFO 22904 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Enrollment Sync (direct://enrollmentSync)
2023-03-13 14:26:13.084  INFO 22904 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Set up Program Fields RapidPro (direct://prepareTrackerRapidPro)
2023-03-13 14:26:13.084  INFO 22904 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create Program RapidPro Fields (direct://createProgramFieldsRoute)
2023-03-13 14:26:13.085  INFO 22904 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create Program RapidPro Group (direct://createProgramGroupRoute)
2023-03-13 14:26:13.085  INFO 22904 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (servlet:/tasks/sync)
2023-03-13 14:26:13.085  INFO 22904 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (quartz://sync)
2023-03-13 14:26:13.085  INFO 22904 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Sync RapidPro Contacts (direct://sync)
2023-03-13 14:26:13.085  INFO 22904 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (direct://createContact)
2023-03-13 14:26:13.086  INFO 22904 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (direct://updateContact)
2023-03-13 14:26:13.086  INFO 22904 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Retry Reports (timer://retry)
2023-03-13 14:26:13.087  INFO 22904 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Consume Report (jms://queue:dhis2)
2023-03-13 14:26:13.087  INFO 22904 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Deliver Report (direct://deliverReport)
2023-03-13 14:26:13.087  INFO 22904 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Transform Report (direct://transformReport)
2023-03-13 14:26:13.087  INFO 22904 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Transmit Report (direct://transmitReport)
2023-03-13 14:26:13.087  INFO 22904 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Save Failed Report (direct://dlq)
2023-03-13 14:26:13.088  INFO 22904 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Compute Period (direct://computePeriod)
2023-03-13 14:26:13.088  INFO 22904 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (direct://completeDataSetRegistration)
2023-03-13 14:26:13.088  INFO 22904 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Set up RapidPro (direct://prepareRapidPro)
2023-03-13 14:26:13.088  INFO 22904 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create RapidPro Fields (direct://createFieldsRoute)
2023-03-13 14:26:13.089  INFO 22904 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create RapidPro Group (direct://createGroupRoute)
2023-03-13 14:26:13.089  INFO 22904 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route6 (servlet:/tasks/scan)
2023-03-13 14:26:13.089  INFO 22904 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route7 (quartz://pull)
2023-03-13 14:26:13.089  INFO 22904 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Scan RapidPro Flows (direct://pull)
2023-03-13 14:26:13.090  INFO 22904 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route8 (servlet:/tasks/reminders)
2023-03-13 14:26:13.090  INFO 22904 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route9 (quartz://reminders)
2023-03-13 14:26:13.090  INFO 22904 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Broadcast Reminders (direct://reminders)
2023-03-13 14:26:13.090  INFO 22904 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route10 (direct://fetchDataSet)
2023-03-13 14:26:13.091  INFO 22904 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route11 (direct://fetchContacts)
2023-03-13 14:26:13.091  INFO 22904 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route12 (direct://fetchReportRate)
2023-03-13 14:26:13.091  INFO 22904 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route13 (direct://sendBroadcast)
2023-03-13 14:26:13.091  INFO 22904 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) started in 1s548ms (build:54ms init:1s51ms start:443ms)
2023-03-13 14:26:13.094  INFO 22904 --- [main] o.a.c.component.quartz.QuartzComponent   : Starting Quartz scheduler: org.quartz.impl.StdScheduler@219a9b16
2023-03-13 14:26:13.095  INFO 22904 --- [main] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED started.
2023-03-13 14:26:13.103  INFO 22904 --- [main] o.h.d.integration.rapidpro.Application   : Started Application in 7.239 seconds (JVM running for 7.619)
2023-03-13 14:26:13.110  INFO 22904 --- [main] o.h.d.integration.rapidpro.Application   : 
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 ONLINE

 Hawtio console: https://192.168.1.122:8443/dhis2rapidpro/management/hawtio
 H2 console: https://192.168.1.122:8443/dhis2rapidpro/management/h2-console
 Poll flows task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/scan
 Sync contacts task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/sync
 Remind contacts task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/reminders

 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

2023-03-13 14:26:20.099  INFO 22904 --- [https-jsse-nio-8443-exec-10] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-13 14:26:20.100  INFO 22904 --- [https-jsse-nio-8443-exec-10] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-03-13 14:26:20.103  INFO 22904 --- [https-jsse-nio-8443-exec-10] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-03-13 14:26:26.828  INFO 22904 --- [https-jsse-nio-8443-exec-9] o.h.d.i.r.route.AbstractRouteBuilder     : Synchronising RapidPro contacts...
2023-03-13 14:26:28.787 DEBUG 22904 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user pVS5mv9EsC2
2023-03-13 14:26:29.214  WARN 22904 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user pVS5mv9EsC2 => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:+919560163563"]}
2023-03-13 14:26:29.222 DEBUG 22904 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user kAoHFxJOTWl
2023-03-13 14:26:29.342  WARN 22904 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user kAoHFxJOTWl => HTTP 400. HTTP response body => {"urns":{"1":["Invalid URN: whatsapp:+4794277878. Ensure phone numbers contain country codes."]}}
2023-03-13 14:26:29.347 DEBUG 22904 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user e0kSQPZJe4s
2023-03-13 14:26:29.468  WARN 22904 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user e0kSQPZJe4s => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:+4712345678"]}
2023-03-13 14:26:29.474 DEBUG 22904 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user w5cOyMlXYNL
2023-03-13 14:26:29.595  WARN 22904 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user w5cOyMlXYNL => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:187654321"]}
2023-03-13 14:26:29.597  INFO 22904 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Completed synchronisation of RapidPro contacts with DHIS2 users
2023-03-13 14:26:29.815 ERROR 22904 --- [Camel (camel-1) thread #4 - CamelDhis2] o.a.c.p.e.DefaultErrorHandler            : Failed delivery for (MessageId: 43193638EFEE929-0000000000000003 on ExchangeId: 43193638EFEE929-0000000000000003). Exhausted after delivery attempt: 1 caught: org.apache.camel.RuntimeCamelException: Error invoking collection with {path=tracker/enrollments?queryParams=${queryParams}, methodName=collection, client=org.hisp.dhis.integration.sdk.DefaultDhis2Client@6b7d11c8, apiName=GET}: org.hisp.dhis.integration.sdk.api.Dhis2ClientException: Response{protocol=http/1.1, code=400, message=, url=http://192.46.212.72:8080/sjmch/api/tracker/enrollments?queryParams=${queryParams}}

Message History (source location and message history is disabled)
---------------------------------------------------------------------------------------------------------------------------------------
Source                                   ID                             Processor                                          Elapsed (ms)
                                         route1/route1                  from[servlet:/tasks/sync?muteException=true]         1979141157
	...
                                         Enrollment Sync/to1            dhis2://get/collection?path=tracker/enrollments?qu            0

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------

org.apache.camel.RuntimeCamelException: Error invoking collection with {path=tracker/enrollments?queryParams=${queryParams}, methodName=collection, client=org.hisp.dhis.integration.sdk.DefaultDhis2Client@6b7d11c8, apiName=GET}: org.hisp.dhis.integration.sdk.api.Dhis2ClientException: Response{protocol=http/1.1, code=400, message=, url=http://192.46.212.72:8080/sjmch/api/tracker/enrollments?queryParams=${queryParams}}
	at org.apache.camel.support.component.ApiMethodHelper.invokeMethod(ApiMethodHelper.java:531) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.component.AbstractApiProducer.doInvokeMethod(AbstractApiProducer.java:122) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.component.AbstractApiProducer$1.run(AbstractApiProducer.java:89) ~[camel-support-3.20.2.jar:3.20.2]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]
Caused by: org.hisp.dhis.integration.sdk.api.Dhis2ClientException: org.hisp.dhis.integration.sdk.api.Dhis2ClientException: Response{protocol=http/1.1, code=400, message=, url=http://192.46.212.72:8080/sjmch/api/tracker/enrollments?queryParams=${queryParams}}
	at org.hisp.dhis.integration.sdk.internal.operation.AbstractOperation.onHttpResponse(AbstractOperation.java:143) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	at org.hisp.dhis.integration.sdk.internal.operation.DefaultGetOperation.doTransfer(DefaultGetOperation.java:84) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	at org.hisp.dhis.integration.sdk.internal.operation.DefaultGetOperation.doTransfer(DefaultGetOperation.java:46) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	at org.hisp.dhis.integration.sdk.internal.operation.AbstractOperation.transfer(AbstractOperation.java:97) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	at org.hisp.dhis.integration.sdk.internal.operation.page.DefaultPagingCollectOperation.transfer(DefaultPagingCollectOperation.java:57) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	at org.apache.camel.component.dhis2.api.Dhis2Get.collection(Dhis2Get.java:84) ~[camel-dhis2-api-2.0.0-SNAPSHOT.jar:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]
	at org.apache.camel.support.component.ApiMethodHelper.invokeMethod(ApiMethodHelper.java:523) ~[camel-support-3.20.2.jar:3.20.2]
	... 8 common frames omitted
Caused by: org.hisp.dhis.integration.sdk.api.Dhis2ClientException: Response{protocol=http/1.1, code=400, message=, url=http://192.46.212.72:8080/sjmch/api/tracker/enrollments?queryParams=${queryParams}}
	at org.hisp.dhis.integration.sdk.internal.operation.AbstractOperation.onHttpResponse(AbstractOperation.java:134) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	... 16 common frames omitted

2023-03-13 14:27:16.301  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) is shutting down (timeout:45s)
2023-03-13 14:27:16.304  INFO 22904 --- [Camel (camel-1) thread #6 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.reminders
2023-03-13 14:27:16.305  INFO 22904 --- [Camel (camel-1) thread #6 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.pull
2023-03-13 14:27:16.310  INFO 22904 --- [Camel (camel-1) thread #6 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.sync
2023-03-13 14:27:17.200  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.reminders
2023-03-13 14:27:17.202  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.pull
2023-03-13 14:27:17.208  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.sync
2023-03-13 14:27:17.210  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:30)
2023-03-13 14:27:17.210  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route13 (direct://sendBroadcast)
2023-03-13 14:27:17.210  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route12 (direct://fetchReportRate)
2023-03-13 14:27:17.211  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route11 (direct://fetchContacts)
2023-03-13 14:27:17.211  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route10 (direct://fetchDataSet)
2023-03-13 14:27:17.212  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Broadcast Reminders (direct://reminders)
2023-03-13 14:27:17.212  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route9 (quartz://reminders)
2023-03-13 14:27:17.212  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route8 (servlet:/tasks/reminders)
2023-03-13 14:27:17.212  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Scan RapidPro Flows (direct://pull)
2023-03-13 14:27:17.213  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route7 (quartz://pull)
2023-03-13 14:27:17.213  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route6 (servlet:/tasks/scan)
2023-03-13 14:27:17.213  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create RapidPro Group (direct://createGroupRoute)
2023-03-13 14:27:17.213  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create RapidPro Fields (direct://createFieldsRoute)
2023-03-13 14:27:17.213  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Set up RapidPro (direct://prepareRapidPro)
2023-03-13 14:27:17.214  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (direct://completeDataSetRegistration)
2023-03-13 14:27:17.214  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Compute Period (direct://computePeriod)
2023-03-13 14:27:17.214  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Save Failed Report (direct://dlq)
2023-03-13 14:27:17.214  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Transmit Report (direct://transmitReport)
2023-03-13 14:27:17.214  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Transform Report (direct://transformReport)
2023-03-13 14:27:17.215  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Deliver Report (direct://deliverReport)
2023-03-13 14:27:17.215  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Consume Report (jms://queue:dhis2)
2023-03-13 14:27:17.215  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Retry Reports (timer://retry)
2023-03-13 14:27:17.215  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (direct://updateContact)
2023-03-13 14:27:17.215  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (direct://createContact)
2023-03-13 14:27:17.216  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Sync RapidPro Contacts (direct://sync)
2023-03-13 14:27:17.216  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (quartz://sync)
2023-03-13 14:27:17.216  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (servlet:/tasks/sync)
2023-03-13 14:27:17.217  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create Program RapidPro Group (direct://createProgramGroupRoute)
2023-03-13 14:27:17.217  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create Program RapidPro Fields (direct://createProgramFieldsRoute)
2023-03-13 14:27:17.217  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Set up Program Fields RapidPro (direct://prepareTrackerRapidPro)
2023-03-13 14:27:17.217  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Enrollment Sync (direct://enrollmentSync)
2023-03-13 14:27:17.219  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzComponent   : Shutting down Quartz scheduler (will wait for all jobs to complete first)
2023-03-13 14:27:17.219  INFO 22904 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED shutting down.
2023-03-13 14:27:17.220  INFO 22904 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED paused.
2023-03-13 14:27:17.301  INFO 22904 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler unregistered from name 'quartz:type=QuartzScheduler,name=DefaultQuartzScheduler-camel-1,instance=NON_CLUSTERED' in the local MBeanServer.
2023-03-13 14:27:17.302  INFO 22904 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED shutdown complete.
2023-03-13 14:27:17.307  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) shutdown in 1s4ms (uptime:1m4s)
2023-03-13 14:27:17.317  INFO 22904 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-03-13 14:27:17.318  INFO 22904 --- [SpringApplicationShutdownHook] io.hawt.web.auth.AuthenticationFilter    : Destroying hawtio authentication filter
2023-03-13 14:27:17.318  INFO 22904 --- [SpringApplicationShutdownHook] io.hawt.HawtioContextListener            : Destroying hawtio services
2023-03-13 14:27:17.397  INFO 22904 --- [SpringApplicationShutdownHook] org.apache.activemq.artemis.core.server  : AMQ221002: Apache ActiveMQ Artemis Message Broker version 2.19.1 [f561d4b4-8b4f-11ed-b036-4c034f8a3e96] stopped, uptime 1 minute
2023-03-13 14:27:19.010  INFO 13200 --- [main] o.h.d.integration.rapidpro.Application   : Starting Application using Java 19.0.1 on DESKTOP-BIR2HG9 with PID 13200 (C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp\target\classes started by JohanGangsåsHole in C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp)
2023-03-13 14:27:19.013 DEBUG 13200 --- [main] o.h.d.integration.rapidpro.Application   : Running with Spring Boot v2.7.4, Spring v5.3.23
2023-03-13 14:27:19.014  INFO 13200 --- [main] o.h.d.integration.rapidpro.Application   : No active profile set, falling back to 1 default profile: "default"
2023-03-13 14:27:20.392  INFO 13200 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)
2023-03-13 14:27:20.402  INFO 13200 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-13 14:27:20.403  INFO 13200 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2023-03-13 14:27:20.551  INFO 13200 --- [main] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring embedded WebApplicationContext
2023-03-13 14:27:20.551  INFO 13200 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1496 ms
2023-03-13 14:27:20.663 ERROR 13200 --- [main] javax.management.mbeanserver             : The LogManager accessed before the "java.util.logging.manager" system property was set to "org.jboss.logmanager.LogManager". Results may be unexpected.
2023-03-13 14:27:21.003  INFO 13200 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/management/h2-console'. Database available at 'jdbc:h2:./dhis2rapidpro'
2023-03-13 14:27:21.171  INFO 13200 --- [main] o.s.b.a.e.web.ServletEndpointRegistrar   : Registered '/management/jolokia' to jolokia-actuator-endpoint
2023-03-13 14:27:21.185  INFO 13200 --- [main] io.hawt.HawtioContextListener            : Initialising hawtio services
2023-03-13 14:27:21.189  INFO 13200 --- [main] io.hawt.system.ConfigManager             : Configuration will be discovered via system properties
2023-03-13 14:27:21.191  INFO 13200 --- [main] io.hawt.jmx.JmxTreeWatcher               : Welcome to Hawtio 2.16.2
2023-03-13 14:27:21.201  INFO 13200 --- [main] i.h.w.auth.AuthenticationConfiguration   : Starting hawtio authentication filter, JAAS authentication disabled
2023-03-13 14:27:21.203  INFO 13200 --- [main] io.hawt.web.auth.LoginRedirectFilter     : Hawtio loginRedirectFilter is using 1800 sec. HttpSession timeout
2023-03-13 14:27:22.609  INFO 13200 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to RapidPro
2023-03-13 14:27:22.613  INFO 13200 --- [main] o.h.d.i.r.security.KeyStoreGenerator     : Re-using existing key store at file:/C:/Users/JohanGangsåsHole/Documents/integration-dhis2-whatsapp/tls.jks
2023-03-13 14:27:22.768  INFO 13200 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Ant [pattern='/management/**'], Ant [pattern='/services/tasks/**'], Ant [pattern='/login'], Ant [pattern='/logout']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@5ae16aa, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@344a065a, org.springframework.security.web.context.SecurityContextPersistenceFilter@efa04b5, org.springframework.security.web.header.HeaderWriterFilter@55c8fc60, org.springframework.security.web.csrf.CsrfFilter@2954c429, org.springframework.security.web.authentication.logout.LogoutFilter@6738e8b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@30cb223b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1826475, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3051e476, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5ffdd510, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@13c81bc5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5617168c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1870b9b8, org.springframework.security.web.session.SessionManagementFilter@1da32baf, org.springframework.security.web.access.ExceptionTranslationFilter@1cca3e8c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@42805abe]
2023-03-13 14:27:22.776  INFO 13200 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/services/webhook'] with [org.springframework.security.web.session.DisableEncodeUrlFilter@40db6136, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5ced0537, org.springframework.security.web.context.SecurityContextPersistenceFilter@7d483ebe, org.springframework.security.web.header.HeaderWriterFilter@afb7b03, org.springframework.security.web.authentication.logout.LogoutFilter@1fd35a92, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@cea67b1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d98364c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6ee1ddcf, org.springframework.security.web.session.SessionManagementFilter@4fd63c43, org.springframework.security.web.access.ExceptionTranslationFilter@21ba0d33]
2023-03-13 14:27:23.284  INFO 13200 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to DHIS 2.38.1
2023-03-13 14:27:23.471  INFO 13200 --- [main] io.hawt.log.logback.LogbackLogQuery      : Connected to Logback appender to trap logs with Hawtio log plugin
2023-03-13 14:27:23.837  INFO 13200 --- [main] org.apache.activemq.artemis.core.server  : AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,jdbcDriverClassName=null,jdbcConnectionUrl=null,messageTableName=messages,bindingsTableName=bindings,largeMessageTableName=large_messages,pageStoreTableName=page_store,)
2023-03-13 14:27:23.845  INFO 13200 --- [main] org.apache.activemq.artemis.core.server  : AMQ221045: libaio is not available, switching the configuration into NIO
2023-03-13 14:27:23.902  INFO 13200 --- [main] org.apache.activemq.artemis.core.server  : AMQ221057: Global Max Size is being adjusted to 1/2 of the JVM max size (-Xmx). being defined as 4 250 927 104
2023-03-13 14:27:23.917  INFO 13200 --- [main] org.apache.activemq.artemis.core.server  : AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE
2023-03-13 14:27:23.994  INFO 13200 --- [main] org.apache.activemq.artemis.core.server  : AMQ221034: Waiting indefinitely to obtain live lock
2023-03-13 14:27:23.995  INFO 13200 --- [main] org.apache.activemq.artemis.core.server  : AMQ221035: Live Server Obtained live lock
2023-03-13 14:27:24.057  INFO 13200 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address DLQ supporting [ANYCAST]
2023-03-13 14:27:24.058  INFO 13200 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue DLQ on address DLQ
2023-03-13 14:27:24.061  INFO 13200 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address ExpiryQueue supporting [ANYCAST]
2023-03-13 14:27:24.061  INFO 13200 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue ExpiryQueue on address ExpiryQueue
2023-03-13 14:27:24.082  INFO 13200 --- [main] org.apache.activemq.artemis.core.server  : AMQ221007: Server is now live
2023-03-13 14:27:24.082  INFO 13200 --- [main] org.apache.activemq.artemis.core.server  : AMQ221001: Apache ActiveMQ Artemis Message Broker version 2.19.1 [localhost, nodeID=f561d4b4-8b4f-11ed-b036-4c034f8a3e96] 
2023-03-13 14:27:24.287  INFO 13200 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/management'
2023-03-13 14:27:24.389  INFO 13200 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=/dhis2rapidpro]
2023-03-13 14:27:24.390  INFO 13200 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8443 (https) with context path '/dhis2rapidpro'
2023-03-13 14:27:25.396  INFO 13200 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-03-13 14:27:25.398  INFO 13200 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-03-13 14:27:25.398  INFO 13200 --- [main] io.hawt.web.auth.AuthenticationFilter    : Destroying hawtio authentication filter
2023-03-13 14:27:25.399  INFO 13200 --- [main] io.hawt.HawtioContextListener            : Destroying hawtio services
2023-03-13 14:27:25.404  INFO 13200 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-03-13 14:27:25.418 ERROR 13200 --- [main] o.s.boot.SpringApplication               : Application run failed

org.apache.camel.FailedToCreateRouteException: Failed to create route Enrollment Sync at: >>> To[dhis2://get/collection?path=tracker/enrollments&queryParams=${queryParams}&client=#dhis2Client] <<< in route: Route(Enrollment Sync)[From[direct:enrollmentSync] -> [OnExc... because of Failed to resolve endpoint: dhis2://get/collection?client=%23dhis2Client&path=tracker%2Fenrollments&queryParams=%24%7BqueryParams%7D due to: Error binding property (queryParams=${queryParams}) with name: queryParams on bean: org.apache.camel.component.dhis2.Dhis2GetEndpointConfiguration@2aa176de with value: ${queryParams}
	at org.apache.camel.reifier.RouteReifier.doCreateRoute(RouteReifier.java:215) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.RouteReifier.createRoute(RouteReifier.java:75) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultModelReifierFactory.createRoute(DefaultModelReifierFactory.java:49) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:937) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:800) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.doInit(AbstractCamelContext.java:3008) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.support.service.BaseService.init(BaseService.java:83) ~[camel-api-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.init(AbstractCamelContext.java:2679) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.support.service.BaseService.start(BaseService.java:111) ~[camel-api-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.start(AbstractCamelContext.java:2698) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:262) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:119) ~[camel-spring-3.20.2.jar:3.20.2]
	at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:151) ~[camel-spring-3.20.2.jar:3.20.2]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:938) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.hisp.dhis.integration.rapidpro.Application.main(Application.java:204) ~[classes/:na]
Caused by: org.apache.camel.ResolveEndpointFailedException: Failed to resolve endpoint: dhis2://get/collection?client=%23dhis2Client&path=tracker%2Fenrollments&queryParams=%24%7BqueryParams%7D due to: Error binding property (queryParams=${queryParams}) with name: queryParams on bean: org.apache.camel.component.dhis2.Dhis2GetEndpointConfiguration@2aa176de with value: ${queryParams}
	at org.apache.camel.impl.engine.AbstractCamelContext.doGetEndpoint(AbstractCamelContext.java:1008) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.getEndpoint(AbstractCamelContext.java:890) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.support.CamelContextHelper.resolveEndpoint(CamelContextHelper.java:127) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.SendReifier.resolveEndpoint(SendReifier.java:45) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.SendReifier.createProcessor(SendReifier.java:37) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.ProcessorReifier.makeProcessor(ProcessorReifier.java:857) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.ProcessorReifier.addRoutes(ProcessorReifier.java:598) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.RouteReifier.doCreateRoute(RouteReifier.java:211) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	... 24 common frames omitted
Caused by: org.apache.camel.PropertyBindingException: Error binding property (queryParams=${queryParams}) with name: queryParams on bean: org.apache.camel.component.dhis2.Dhis2GetEndpointConfiguration@2aa176de with value: ${queryParams}
	at org.apache.camel.support.PropertyBindingSupport.setSimplePropertyViaReflection(PropertyBindingSupport.java:768) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.PropertyBindingSupport.doSetPropertyValue(PropertyBindingSupport.java:498) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.PropertyBindingSupport.doBuildPropertyOgnlPath(PropertyBindingSupport.java:356) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.PropertyBindingSupport.doBindProperties(PropertyBindingSupport.java:233) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.PropertyBindingSupport$Builder.bind(PropertyBindingSupport.java:1864) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.component.AbstractApiEndpoint.configureProperties(AbstractApiEndpoint.java:131) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.DefaultComponent.setProperties(DefaultComponent.java:429) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.component.AbstractApiComponent.createEndpoint(AbstractApiComponent.java:90) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.DefaultComponent.createEndpoint(DefaultComponent.java:171) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.doGetEndpoint(AbstractCamelContext.java:974) ~[camel-base-engine-3.20.2.jar:3.20.2]
	... 31 common frames omitted
Caused by: java.lang.IllegalArgumentException: Could not find a suitable setter for property: queryParams as there isn't a setter method with same type: java.lang.String nor type conversion possible: No type converter available to convert from type: java.lang.String to the required type: java.util.Map
	at org.apache.camel.support.IntrospectionSupport.setProperty(IntrospectionSupport.java:845) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.DefaultBeanIntrospection.setProperty(DefaultBeanIntrospection.java:199) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.support.PropertyBindingSupport.doSetSimplePropertyViaReflection(PropertyBindingSupport.java:877) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.PropertyBindingSupport.setSimplePropertyViaReflection(PropertyBindingSupport.java:764) ~[camel-support-3.20.2.jar:3.20.2]
	... 40 common frames omitted

2023-03-13 14:27:25.466  INFO 13200 --- [main] org.apache.activemq.artemis.core.server  : AMQ221002: Apache ActiveMQ Artemis Message Broker version 2.19.1 [f561d4b4-8b4f-11ed-b036-4c034f8a3e96] stopped, uptime 1.645 seconds
2023-03-13 14:30:54.127  INFO 23308 --- [main] o.h.d.integration.rapidpro.Application   : Starting Application using Java 19.0.1 on DESKTOP-BIR2HG9 with PID 23308 (C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp\target\classes started by JohanGangsåsHole in C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp)
2023-03-13 14:30:54.130 DEBUG 23308 --- [main] o.h.d.integration.rapidpro.Application   : Running with Spring Boot v2.7.4, Spring v5.3.23
2023-03-13 14:30:54.131  INFO 23308 --- [main] o.h.d.integration.rapidpro.Application   : No active profile set, falling back to 1 default profile: "default"
2023-03-13 14:30:55.458  INFO 23308 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)
2023-03-13 14:30:55.469  INFO 23308 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-13 14:30:55.470  INFO 23308 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2023-03-13 14:30:55.616  INFO 23308 --- [main] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring embedded WebApplicationContext
2023-03-13 14:30:55.617  INFO 23308 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1448 ms
2023-03-13 14:30:55.731 ERROR 23308 --- [main] javax.management.mbeanserver             : The LogManager accessed before the "java.util.logging.manager" system property was set to "org.jboss.logmanager.LogManager". Results may be unexpected.
2023-03-13 14:30:56.090  INFO 23308 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/management/h2-console'. Database available at 'jdbc:h2:./dhis2rapidpro'
2023-03-13 14:30:56.262  INFO 23308 --- [main] o.s.b.a.e.web.ServletEndpointRegistrar   : Registered '/management/jolokia' to jolokia-actuator-endpoint
2023-03-13 14:30:56.275  INFO 23308 --- [main] io.hawt.HawtioContextListener            : Initialising hawtio services
2023-03-13 14:30:56.279  INFO 23308 --- [main] io.hawt.system.ConfigManager             : Configuration will be discovered via system properties
2023-03-13 14:30:56.281  INFO 23308 --- [main] io.hawt.jmx.JmxTreeWatcher               : Welcome to Hawtio 2.16.2
2023-03-13 14:30:56.294  INFO 23308 --- [main] i.h.w.auth.AuthenticationConfiguration   : Starting hawtio authentication filter, JAAS authentication disabled
2023-03-13 14:30:56.296  INFO 23308 --- [main] io.hawt.web.auth.LoginRedirectFilter     : Hawtio loginRedirectFilter is using 1800 sec. HttpSession timeout
2023-03-13 14:30:57.680  INFO 23308 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to RapidPro
2023-03-13 14:30:57.684  INFO 23308 --- [main] o.h.d.i.r.security.KeyStoreGenerator     : Re-using existing key store at file:/C:/Users/JohanGangsåsHole/Documents/integration-dhis2-whatsapp/tls.jks
2023-03-13 14:30:57.840  INFO 23308 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Ant [pattern='/management/**'], Ant [pattern='/services/tasks/**'], Ant [pattern='/login'], Ant [pattern='/logout']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@3151277f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2aeb7c4c, org.springframework.security.web.context.SecurityContextPersistenceFilter@1826475, org.springframework.security.web.header.HeaderWriterFilter@5617168c, org.springframework.security.web.csrf.CsrfFilter@6ef61cd0, org.springframework.security.web.authentication.logout.LogoutFilter@2e4d2232, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@320ba79f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@50ecef36, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@67f266bd, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@9825465, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7b1559f1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6b15e68c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@31c0c7e5, org.springframework.security.web.session.SessionManagementFilter@75da2db, org.springframework.security.web.access.ExceptionTranslationFilter@a80a896, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4ba402b5]
2023-03-13 14:30:57.846  INFO 23308 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/services/webhook'] with [org.springframework.security.web.session.DisableEncodeUrlFilter@77db231c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@60b4d934, org.springframework.security.web.context.SecurityContextPersistenceFilter@6b630d4b, org.springframework.security.web.header.HeaderWriterFilter@5ced0537, org.springframework.security.web.authentication.logout.LogoutFilter@574f9e36, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@70aa03c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44da745f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6a3e633a, org.springframework.security.web.session.SessionManagementFilter@6ee1ddcf, org.springframework.security.web.access.ExceptionTranslationFilter@40db6136]
2023-03-13 14:30:58.357  INFO 23308 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to DHIS 2.38.1
2023-03-13 14:30:58.524  INFO 23308 --- [main] io.hawt.log.logback.LogbackLogQuery      : Connected to Logback appender to trap logs with Hawtio log plugin
2023-03-13 14:30:58.914  INFO 23308 --- [main] org.apache.activemq.artemis.core.server  : AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,jdbcDriverClassName=null,jdbcConnectionUrl=null,messageTableName=messages,bindingsTableName=bindings,largeMessageTableName=large_messages,pageStoreTableName=page_store,)
2023-03-13 14:30:58.922  INFO 23308 --- [main] org.apache.activemq.artemis.core.server  : AMQ221045: libaio is not available, switching the configuration into NIO
2023-03-13 14:30:58.980  INFO 23308 --- [main] org.apache.activemq.artemis.core.server  : AMQ221057: Global Max Size is being adjusted to 1/2 of the JVM max size (-Xmx). being defined as 4 250 927 104
2023-03-13 14:30:58.995  INFO 23308 --- [main] org.apache.activemq.artemis.core.server  : AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE
2023-03-13 14:30:59.072  INFO 23308 --- [main] org.apache.activemq.artemis.core.server  : AMQ221034: Waiting indefinitely to obtain live lock
2023-03-13 14:30:59.072  INFO 23308 --- [main] org.apache.activemq.artemis.core.server  : AMQ221035: Live Server Obtained live lock
2023-03-13 14:30:59.135  INFO 23308 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address DLQ supporting [ANYCAST]
2023-03-13 14:30:59.136  INFO 23308 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue DLQ on address DLQ
2023-03-13 14:30:59.139  INFO 23308 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address ExpiryQueue supporting [ANYCAST]
2023-03-13 14:30:59.140  INFO 23308 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue ExpiryQueue on address ExpiryQueue
2023-03-13 14:30:59.158  INFO 23308 --- [main] org.apache.activemq.artemis.core.server  : AMQ221007: Server is now live
2023-03-13 14:30:59.159  INFO 23308 --- [main] org.apache.activemq.artemis.core.server  : AMQ221001: Apache ActiveMQ Artemis Message Broker version 2.19.1 [localhost, nodeID=f561d4b4-8b4f-11ed-b036-4c034f8a3e96] 
2023-03-13 14:30:59.381  INFO 23308 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/management'
2023-03-13 14:30:59.495  INFO 23308 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=/dhis2rapidpro]
2023-03-13 14:30:59.496  INFO 23308 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8443 (https) with context path '/dhis2rapidpro'
2023-03-13 14:31:00.587  INFO 23308 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-03-13 14:31:00.588  INFO 23308 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-03-13 14:31:00.589  INFO 23308 --- [main] io.hawt.web.auth.AuthenticationFilter    : Destroying hawtio authentication filter
2023-03-13 14:31:00.590  INFO 23308 --- [main] io.hawt.HawtioContextListener            : Destroying hawtio services
2023-03-13 14:31:00.595  INFO 23308 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-03-13 14:31:00.608 ERROR 23308 --- [main] o.s.boot.SpringApplication               : Application run failed

org.apache.camel.FailedToCreateRouteException: Failed to create route Enrollment Sync at: >>> To[dhis2://get/collection?path=tracker/enrollments&queryParams=${simple:${queryParams}}&client=#dhis2Client] <<< in route: Route(Enrollment Sync)[From[direct:enrollmentSync] -> [OnExc... because of Failed to resolve endpoint: dhis2://get/collection?client=%23dhis2Client&path=tracker%2Fenrollments&queryParams=%24%7Bsimple%3A%24%7BqueryParams%7D%7D due to: Error binding property (queryParams=${simple:${queryParams}}) with name: queryParams on bean: org.apache.camel.component.dhis2.Dhis2GetEndpointConfiguration@33ccc8cd with value: ${simple:${queryParams}}
	at org.apache.camel.reifier.RouteReifier.doCreateRoute(RouteReifier.java:215) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.RouteReifier.createRoute(RouteReifier.java:75) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultModelReifierFactory.createRoute(DefaultModelReifierFactory.java:49) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:937) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:800) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.doInit(AbstractCamelContext.java:3008) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.support.service.BaseService.init(BaseService.java:83) ~[camel-api-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.init(AbstractCamelContext.java:2679) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.support.service.BaseService.start(BaseService.java:111) ~[camel-api-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.start(AbstractCamelContext.java:2698) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:262) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:119) ~[camel-spring-3.20.2.jar:3.20.2]
	at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:151) ~[camel-spring-3.20.2.jar:3.20.2]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:938) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.hisp.dhis.integration.rapidpro.Application.main(Application.java:204) ~[classes/:na]
Caused by: org.apache.camel.ResolveEndpointFailedException: Failed to resolve endpoint: dhis2://get/collection?client=%23dhis2Client&path=tracker%2Fenrollments&queryParams=%24%7Bsimple%3A%24%7BqueryParams%7D%7D due to: Error binding property (queryParams=${simple:${queryParams}}) with name: queryParams on bean: org.apache.camel.component.dhis2.Dhis2GetEndpointConfiguration@33ccc8cd with value: ${simple:${queryParams}}
	at org.apache.camel.impl.engine.AbstractCamelContext.doGetEndpoint(AbstractCamelContext.java:1008) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.getEndpoint(AbstractCamelContext.java:890) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.support.CamelContextHelper.resolveEndpoint(CamelContextHelper.java:127) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.SendReifier.resolveEndpoint(SendReifier.java:45) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.SendReifier.createProcessor(SendReifier.java:37) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.ProcessorReifier.makeProcessor(ProcessorReifier.java:857) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.ProcessorReifier.addRoutes(ProcessorReifier.java:598) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.RouteReifier.doCreateRoute(RouteReifier.java:211) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	... 24 common frames omitted
Caused by: org.apache.camel.PropertyBindingException: Error binding property (queryParams=${simple:${queryParams}}) with name: queryParams on bean: org.apache.camel.component.dhis2.Dhis2GetEndpointConfiguration@33ccc8cd with value: ${simple:${queryParams}}
	at org.apache.camel.support.PropertyBindingSupport.setSimplePropertyViaReflection(PropertyBindingSupport.java:768) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.PropertyBindingSupport.doSetPropertyValue(PropertyBindingSupport.java:498) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.PropertyBindingSupport.doBuildPropertyOgnlPath(PropertyBindingSupport.java:356) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.PropertyBindingSupport.doBindProperties(PropertyBindingSupport.java:233) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.PropertyBindingSupport$Builder.bind(PropertyBindingSupport.java:1864) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.component.AbstractApiEndpoint.configureProperties(AbstractApiEndpoint.java:131) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.DefaultComponent.setProperties(DefaultComponent.java:429) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.component.AbstractApiComponent.createEndpoint(AbstractApiComponent.java:90) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.DefaultComponent.createEndpoint(DefaultComponent.java:171) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.doGetEndpoint(AbstractCamelContext.java:974) ~[camel-base-engine-3.20.2.jar:3.20.2]
	... 31 common frames omitted
Caused by: java.lang.IllegalArgumentException: Could not find a suitable setter for property: queryParams as there isn't a setter method with same type: java.lang.String nor type conversion possible: No type converter available to convert from type: java.lang.String to the required type: java.util.Map
	at org.apache.camel.support.IntrospectionSupport.setProperty(IntrospectionSupport.java:845) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.DefaultBeanIntrospection.setProperty(DefaultBeanIntrospection.java:199) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.support.PropertyBindingSupport.doSetSimplePropertyViaReflection(PropertyBindingSupport.java:877) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.PropertyBindingSupport.setSimplePropertyViaReflection(PropertyBindingSupport.java:764) ~[camel-support-3.20.2.jar:3.20.2]
	... 40 common frames omitted

2023-03-13 14:31:00.641  INFO 23308 --- [main] org.apache.activemq.artemis.core.server  : AMQ221002: Apache ActiveMQ Artemis Message Broker version 2.19.1 [f561d4b4-8b4f-11ed-b036-4c034f8a3e96] stopped, uptime 1.740 seconds
2023-03-13 14:34:16.996  INFO 31160 --- [main] o.h.d.integration.rapidpro.Application   : Starting Application using Java 19.0.1 on DESKTOP-BIR2HG9 with PID 31160 (C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp\target\classes started by JohanGangsåsHole in C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp)
2023-03-13 14:34:16.999 DEBUG 31160 --- [main] o.h.d.integration.rapidpro.Application   : Running with Spring Boot v2.7.4, Spring v5.3.23
2023-03-13 14:34:16.999  INFO 31160 --- [main] o.h.d.integration.rapidpro.Application   : No active profile set, falling back to 1 default profile: "default"
2023-03-13 14:34:18.342  INFO 31160 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)
2023-03-13 14:34:18.352  INFO 31160 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-13 14:34:18.353  INFO 31160 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2023-03-13 14:34:18.497  INFO 31160 --- [main] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring embedded WebApplicationContext
2023-03-13 14:34:18.497  INFO 31160 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1457 ms
2023-03-13 14:34:18.610 ERROR 31160 --- [main] javax.management.mbeanserver             : The LogManager accessed before the "java.util.logging.manager" system property was set to "org.jboss.logmanager.LogManager". Results may be unexpected.
2023-03-13 14:34:18.923  INFO 31160 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/management/h2-console'. Database available at 'jdbc:h2:./dhis2rapidpro'
2023-03-13 14:34:19.090  INFO 31160 --- [main] o.s.b.a.e.web.ServletEndpointRegistrar   : Registered '/management/jolokia' to jolokia-actuator-endpoint
2023-03-13 14:34:19.105  INFO 31160 --- [main] io.hawt.HawtioContextListener            : Initialising hawtio services
2023-03-13 14:34:19.109  INFO 31160 --- [main] io.hawt.system.ConfigManager             : Configuration will be discovered via system properties
2023-03-13 14:34:19.111  INFO 31160 --- [main] io.hawt.jmx.JmxTreeWatcher               : Welcome to Hawtio 2.16.2
2023-03-13 14:34:19.119  INFO 31160 --- [main] i.h.w.auth.AuthenticationConfiguration   : Starting hawtio authentication filter, JAAS authentication disabled
2023-03-13 14:34:19.121  INFO 31160 --- [main] io.hawt.web.auth.LoginRedirectFilter     : Hawtio loginRedirectFilter is using 1800 sec. HttpSession timeout
2023-03-13 14:34:20.597  INFO 31160 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to RapidPro
2023-03-13 14:34:20.602  INFO 31160 --- [main] o.h.d.i.r.security.KeyStoreGenerator     : Re-using existing key store at file:/C:/Users/JohanGangsåsHole/Documents/integration-dhis2-whatsapp/tls.jks
2023-03-13 14:34:20.744  INFO 31160 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Ant [pattern='/management/**'], Ant [pattern='/services/tasks/**'], Ant [pattern='/login'], Ant [pattern='/logout']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@5ae16aa, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@344a065a, org.springframework.security.web.context.SecurityContextPersistenceFilter@efa04b5, org.springframework.security.web.header.HeaderWriterFilter@55c8fc60, org.springframework.security.web.csrf.CsrfFilter@2954c429, org.springframework.security.web.authentication.logout.LogoutFilter@6738e8b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@30cb223b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1826475, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3051e476, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5ffdd510, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@13c81bc5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5617168c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1870b9b8, org.springframework.security.web.session.SessionManagementFilter@1da32baf, org.springframework.security.web.access.ExceptionTranslationFilter@1cca3e8c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@42805abe]
2023-03-13 14:34:20.751  INFO 31160 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/services/webhook'] with [org.springframework.security.web.session.DisableEncodeUrlFilter@40db6136, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5ced0537, org.springframework.security.web.context.SecurityContextPersistenceFilter@7d483ebe, org.springframework.security.web.header.HeaderWriterFilter@afb7b03, org.springframework.security.web.authentication.logout.LogoutFilter@1fd35a92, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@cea67b1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d98364c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6ee1ddcf, org.springframework.security.web.session.SessionManagementFilter@4fd63c43, org.springframework.security.web.access.ExceptionTranslationFilter@21ba0d33]
2023-03-13 14:34:21.260  INFO 31160 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to DHIS 2.38.1
2023-03-13 14:34:21.415  INFO 31160 --- [main] io.hawt.log.logback.LogbackLogQuery      : Connected to Logback appender to trap logs with Hawtio log plugin
2023-03-13 14:34:21.799  INFO 31160 --- [main] org.apache.activemq.artemis.core.server  : AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,jdbcDriverClassName=null,jdbcConnectionUrl=null,messageTableName=messages,bindingsTableName=bindings,largeMessageTableName=large_messages,pageStoreTableName=page_store,)
2023-03-13 14:34:21.807  INFO 31160 --- [main] org.apache.activemq.artemis.core.server  : AMQ221045: libaio is not available, switching the configuration into NIO
2023-03-13 14:34:21.866  INFO 31160 --- [main] org.apache.activemq.artemis.core.server  : AMQ221057: Global Max Size is being adjusted to 1/2 of the JVM max size (-Xmx). being defined as 4 250 927 104
2023-03-13 14:34:21.883  INFO 31160 --- [main] org.apache.activemq.artemis.core.server  : AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE
2023-03-13 14:34:21.961  INFO 31160 --- [main] org.apache.activemq.artemis.core.server  : AMQ221034: Waiting indefinitely to obtain live lock
2023-03-13 14:34:21.962  INFO 31160 --- [main] org.apache.activemq.artemis.core.server  : AMQ221035: Live Server Obtained live lock
2023-03-13 14:34:22.024  INFO 31160 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address DLQ supporting [ANYCAST]
2023-03-13 14:34:22.025  INFO 31160 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue DLQ on address DLQ
2023-03-13 14:34:22.028  INFO 31160 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address ExpiryQueue supporting [ANYCAST]
2023-03-13 14:34:22.029  INFO 31160 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue ExpiryQueue on address ExpiryQueue
2023-03-13 14:34:22.048  INFO 31160 --- [main] org.apache.activemq.artemis.core.server  : AMQ221007: Server is now live
2023-03-13 14:34:22.048  INFO 31160 --- [main] org.apache.activemq.artemis.core.server  : AMQ221001: Apache ActiveMQ Artemis Message Broker version 2.19.1 [localhost, nodeID=f561d4b4-8b4f-11ed-b036-4c034f8a3e96] 
2023-03-13 14:34:22.258  INFO 31160 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/management'
2023-03-13 14:34:22.376  INFO 31160 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=/dhis2rapidpro]
2023-03-13 14:34:22.377  INFO 31160 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8443 (https) with context path '/dhis2rapidpro'
2023-03-13 14:34:22.608  INFO 31160 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-03-13 14:34:22.609  INFO 31160 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-03-13 14:34:22.610  INFO 31160 --- [main] io.hawt.web.auth.AuthenticationFilter    : Destroying hawtio authentication filter
2023-03-13 14:34:22.610  INFO 31160 --- [main] io.hawt.HawtioContextListener            : Destroying hawtio services
2023-03-13 14:34:22.615  INFO 31160 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-03-13 14:34:22.628 ERROR 31160 --- [main] o.s.boot.SpringApplication               : Application run failed

org.apache.camel.FailedToCreateRouteException: Failed to create route Enrollment Sync at: >>> To[dhis2://get/collection?path=tracker/enrollments??program=JA1vLYT8htI&orgUnit=DFn0SHhghQp?client=#dhis2Client] <<< in route: Route(Enrollment Sync)[From[direct:enrollmentSync] -> [OnExc... because of Failed to resolve endpoint: dhis2://get/collection?orgUnit=DFn0SHhghQp%3Fclient%3D%23dhis2Client&path=tracker%2Fenrollments%3F%3Fprogram%3DJA1vLYT8htI due to: Cannot invoke "String.trim()" because "baseApiUrl" is null
	at org.apache.camel.reifier.RouteReifier.doCreateRoute(RouteReifier.java:215) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.RouteReifier.createRoute(RouteReifier.java:75) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultModelReifierFactory.createRoute(DefaultModelReifierFactory.java:49) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:937) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:800) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.doInit(AbstractCamelContext.java:3008) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.support.service.BaseService.init(BaseService.java:83) ~[camel-api-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.init(AbstractCamelContext.java:2679) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.support.service.BaseService.start(BaseService.java:111) ~[camel-api-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.start(AbstractCamelContext.java:2698) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:262) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:119) ~[camel-spring-3.20.2.jar:3.20.2]
	at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:151) ~[camel-spring-3.20.2.jar:3.20.2]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:938) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.hisp.dhis.integration.rapidpro.Application.main(Application.java:204) ~[classes/:na]
Caused by: org.apache.camel.ResolveEndpointFailedException: Failed to resolve endpoint: dhis2://get/collection?orgUnit=DFn0SHhghQp%3Fclient%3D%23dhis2Client&path=tracker%2Fenrollments%3F%3Fprogram%3DJA1vLYT8htI due to: Cannot invoke "String.trim()" because "baseApiUrl" is null
	at org.apache.camel.impl.engine.AbstractCamelContext.doGetEndpoint(AbstractCamelContext.java:1008) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.getEndpoint(AbstractCamelContext.java:890) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.support.CamelContextHelper.resolveEndpoint(CamelContextHelper.java:127) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.SendReifier.resolveEndpoint(SendReifier.java:45) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.SendReifier.createProcessor(SendReifier.java:37) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.ProcessorReifier.makeProcessor(ProcessorReifier.java:857) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.ProcessorReifier.addRoutes(ProcessorReifier.java:598) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.RouteReifier.doCreateRoute(RouteReifier.java:211) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	... 24 common frames omitted
Caused by: java.lang.NullPointerException: Cannot invoke "String.trim()" because "baseApiUrl" is null
	at org.hisp.dhis.integration.sdk.Dhis2ClientBuilder.<init>(Dhis2ClientBuilder.java:92) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	at org.hisp.dhis.integration.sdk.Dhis2ClientBuilder.newClient(Dhis2ClientBuilder.java:70) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	at org.hisp.dhis.integration.sdk.Dhis2ClientBuilder.newClient(Dhis2ClientBuilder.java:59) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	at org.apache.camel.component.dhis2.Dhis2Component.getClient(Dhis2Component.java:80) ~[camel-dhis2-2.0.0-SNAPSHOT.jar:na]
	at org.apache.camel.component.dhis2.Dhis2Endpoint.getClient(Dhis2Endpoint.java:111) ~[camel-dhis2-2.0.0-SNAPSHOT.jar:na]
	at org.apache.camel.component.dhis2.Dhis2Endpoint.afterConfigureProperties(Dhis2Endpoint.java:89) ~[camel-dhis2-2.0.0-SNAPSHOT.jar:na]
	at org.apache.camel.support.component.AbstractApiEndpoint.configureProperties(AbstractApiEndpoint.java:138) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.DefaultComponent.setProperties(DefaultComponent.java:429) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.component.AbstractApiComponent.createEndpoint(AbstractApiComponent.java:90) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.DefaultComponent.createEndpoint(DefaultComponent.java:171) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.doGetEndpoint(AbstractCamelContext.java:974) ~[camel-base-engine-3.20.2.jar:3.20.2]
	... 31 common frames omitted

2023-03-13 14:34:22.657  INFO 31160 --- [main] org.apache.activemq.artemis.core.server  : AMQ221002: Apache ActiveMQ Artemis Message Broker version 2.19.1 [f561d4b4-8b4f-11ed-b036-4c034f8a3e96] stopped, uptime 0.870 seconds
2023-03-13 14:34:44.153  INFO 22512 --- [main] o.h.d.integration.rapidpro.Application   : Starting Application using Java 19.0.1 on DESKTOP-BIR2HG9 with PID 22512 (C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp\target\classes started by JohanGangsåsHole in C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp)
2023-03-13 14:34:44.156 DEBUG 22512 --- [main] o.h.d.integration.rapidpro.Application   : Running with Spring Boot v2.7.4, Spring v5.3.23
2023-03-13 14:34:44.157  INFO 22512 --- [main] o.h.d.integration.rapidpro.Application   : No active profile set, falling back to 1 default profile: "default"
2023-03-13 14:34:45.487  INFO 22512 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)
2023-03-13 14:34:45.498  INFO 22512 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-13 14:34:45.499  INFO 22512 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2023-03-13 14:34:45.648  INFO 22512 --- [main] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring embedded WebApplicationContext
2023-03-13 14:34:45.648  INFO 22512 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1451 ms
2023-03-13 14:34:45.760 ERROR 22512 --- [main] javax.management.mbeanserver             : The LogManager accessed before the "java.util.logging.manager" system property was set to "org.jboss.logmanager.LogManager". Results may be unexpected.
2023-03-13 14:34:46.082  INFO 22512 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/management/h2-console'. Database available at 'jdbc:h2:./dhis2rapidpro'
2023-03-13 14:34:46.249  INFO 22512 --- [main] o.s.b.a.e.web.ServletEndpointRegistrar   : Registered '/management/jolokia' to jolokia-actuator-endpoint
2023-03-13 14:34:46.262  INFO 22512 --- [main] io.hawt.HawtioContextListener            : Initialising hawtio services
2023-03-13 14:34:46.266  INFO 22512 --- [main] io.hawt.system.ConfigManager             : Configuration will be discovered via system properties
2023-03-13 14:34:46.268  INFO 22512 --- [main] io.hawt.jmx.JmxTreeWatcher               : Welcome to Hawtio 2.16.2
2023-03-13 14:34:46.278  INFO 22512 --- [main] i.h.w.auth.AuthenticationConfiguration   : Starting hawtio authentication filter, JAAS authentication disabled
2023-03-13 14:34:46.282  INFO 22512 --- [main] io.hawt.web.auth.LoginRedirectFilter     : Hawtio loginRedirectFilter is using 1800 sec. HttpSession timeout
2023-03-13 14:34:47.753  INFO 22512 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to RapidPro
2023-03-13 14:34:47.757  INFO 22512 --- [main] o.h.d.i.r.security.KeyStoreGenerator     : Re-using existing key store at file:/C:/Users/JohanGangsåsHole/Documents/integration-dhis2-whatsapp/tls.jks
2023-03-13 14:34:47.892  INFO 22512 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Ant [pattern='/management/**'], Ant [pattern='/services/tasks/**'], Ant [pattern='/login'], Ant [pattern='/logout']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@912747d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@78ea700f, org.springframework.security.web.context.SecurityContextPersistenceFilter@79a68657, org.springframework.security.web.header.HeaderWriterFilter@3ad558bf, org.springframework.security.web.csrf.CsrfFilter@66226ab, org.springframework.security.web.authentication.logout.LogoutFilter@3d50a3d9, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6719f206, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@59282dc6, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@cd93621, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2aeb7c4c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@59d0fac9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1d3546f9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3b1137b0, org.springframework.security.web.session.SessionManagementFilter@6ba355e4, org.springframework.security.web.access.ExceptionTranslationFilter@75da2db, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@29dfc68f]
2023-03-13 14:34:47.899  INFO 22512 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/services/webhook'] with [org.springframework.security.web.session.DisableEncodeUrlFilter@6fc6f68f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@297dff3a, org.springframework.security.web.context.SecurityContextPersistenceFilter@574f9e36, org.springframework.security.web.header.HeaderWriterFilter@44da745f, org.springframework.security.web.authentication.logout.LogoutFilter@41abee65, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@77db231c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60b4d934, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@30437e9c, org.springframework.security.web.session.SessionManagementFilter@2435c6ae, org.springframework.security.web.access.ExceptionTranslationFilter@70aa03c0]
2023-03-13 14:34:48.374  INFO 22512 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to DHIS 2.38.1
2023-03-13 14:34:48.533  INFO 22512 --- [main] io.hawt.log.logback.LogbackLogQuery      : Connected to Logback appender to trap logs with Hawtio log plugin
2023-03-13 14:34:48.897  INFO 22512 --- [main] org.apache.activemq.artemis.core.server  : AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,jdbcDriverClassName=null,jdbcConnectionUrl=null,messageTableName=messages,bindingsTableName=bindings,largeMessageTableName=large_messages,pageStoreTableName=page_store,)
2023-03-13 14:34:48.905  INFO 22512 --- [main] org.apache.activemq.artemis.core.server  : AMQ221045: libaio is not available, switching the configuration into NIO
2023-03-13 14:34:48.960  INFO 22512 --- [main] org.apache.activemq.artemis.core.server  : AMQ221057: Global Max Size is being adjusted to 1/2 of the JVM max size (-Xmx). being defined as 4 250 927 104
2023-03-13 14:34:48.974  INFO 22512 --- [main] org.apache.activemq.artemis.core.server  : AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE
2023-03-13 14:34:49.053  INFO 22512 --- [main] org.apache.activemq.artemis.core.server  : AMQ221034: Waiting indefinitely to obtain live lock
2023-03-13 14:34:49.054  INFO 22512 --- [main] org.apache.activemq.artemis.core.server  : AMQ221035: Live Server Obtained live lock
2023-03-13 14:34:49.115  INFO 22512 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address DLQ supporting [ANYCAST]
2023-03-13 14:34:49.116  INFO 22512 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue DLQ on address DLQ
2023-03-13 14:34:49.119  INFO 22512 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address ExpiryQueue supporting [ANYCAST]
2023-03-13 14:34:49.119  INFO 22512 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue ExpiryQueue on address ExpiryQueue
2023-03-13 14:34:49.138  INFO 22512 --- [main] org.apache.activemq.artemis.core.server  : AMQ221007: Server is now live
2023-03-13 14:34:49.138  INFO 22512 --- [main] org.apache.activemq.artemis.core.server  : AMQ221001: Apache ActiveMQ Artemis Message Broker version 2.19.1 [localhost, nodeID=f561d4b4-8b4f-11ed-b036-4c034f8a3e96] 
2023-03-13 14:34:49.342  INFO 22512 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/management'
2023-03-13 14:34:49.459  INFO 22512 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=/dhis2rapidpro]
2023-03-13 14:34:49.461  INFO 22512 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8443 (https) with context path '/dhis2rapidpro'
2023-03-13 14:34:50.637  INFO 22512 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-03-13 14:34:50.639  INFO 22512 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-03-13 14:34:50.639  INFO 22512 --- [main] io.hawt.web.auth.AuthenticationFilter    : Destroying hawtio authentication filter
2023-03-13 14:34:50.640  INFO 22512 --- [main] io.hawt.HawtioContextListener            : Destroying hawtio services
2023-03-13 14:34:50.645  INFO 22512 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-03-13 14:34:50.661 ERROR 22512 --- [main] o.s.boot.SpringApplication               : Application run failed

org.apache.camel.FailedToCreateRouteException: Failed to create route Enrollment Sync at: >>> To[dhis2://get/collection?path=tracker/enrollments?program=JA1vLYT8htI&orgUnit=DFn0SHhghQp?client=#dhis2Client] <<< in route: Route(Enrollment Sync)[From[direct:enrollmentSync] -> [OnExc... because of Failed to resolve endpoint: dhis2://get/collection?orgUnit=DFn0SHhghQp%3Fclient%3D%23dhis2Client&path=tracker%2Fenrollments%3Fprogram%3DJA1vLYT8htI due to: Cannot invoke "String.trim()" because "baseApiUrl" is null
	at org.apache.camel.reifier.RouteReifier.doCreateRoute(RouteReifier.java:215) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.RouteReifier.createRoute(RouteReifier.java:75) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultModelReifierFactory.createRoute(DefaultModelReifierFactory.java:49) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:937) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:800) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.doInit(AbstractCamelContext.java:3008) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.support.service.BaseService.init(BaseService.java:83) ~[camel-api-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.init(AbstractCamelContext.java:2679) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.support.service.BaseService.start(BaseService.java:111) ~[camel-api-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.start(AbstractCamelContext.java:2698) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:262) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:119) ~[camel-spring-3.20.2.jar:3.20.2]
	at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:151) ~[camel-spring-3.20.2.jar:3.20.2]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:938) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.hisp.dhis.integration.rapidpro.Application.main(Application.java:204) ~[classes/:na]
Caused by: org.apache.camel.ResolveEndpointFailedException: Failed to resolve endpoint: dhis2://get/collection?orgUnit=DFn0SHhghQp%3Fclient%3D%23dhis2Client&path=tracker%2Fenrollments%3Fprogram%3DJA1vLYT8htI due to: Cannot invoke "String.trim()" because "baseApiUrl" is null
	at org.apache.camel.impl.engine.AbstractCamelContext.doGetEndpoint(AbstractCamelContext.java:1008) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.getEndpoint(AbstractCamelContext.java:890) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.support.CamelContextHelper.resolveEndpoint(CamelContextHelper.java:127) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.SendReifier.resolveEndpoint(SendReifier.java:45) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.SendReifier.createProcessor(SendReifier.java:37) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.ProcessorReifier.makeProcessor(ProcessorReifier.java:857) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.ProcessorReifier.addRoutes(ProcessorReifier.java:598) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.RouteReifier.doCreateRoute(RouteReifier.java:211) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	... 24 common frames omitted
Caused by: java.lang.NullPointerException: Cannot invoke "String.trim()" because "baseApiUrl" is null
	at org.hisp.dhis.integration.sdk.Dhis2ClientBuilder.<init>(Dhis2ClientBuilder.java:92) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	at org.hisp.dhis.integration.sdk.Dhis2ClientBuilder.newClient(Dhis2ClientBuilder.java:70) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	at org.hisp.dhis.integration.sdk.Dhis2ClientBuilder.newClient(Dhis2ClientBuilder.java:59) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	at org.apache.camel.component.dhis2.Dhis2Component.getClient(Dhis2Component.java:80) ~[camel-dhis2-2.0.0-SNAPSHOT.jar:na]
	at org.apache.camel.component.dhis2.Dhis2Endpoint.getClient(Dhis2Endpoint.java:111) ~[camel-dhis2-2.0.0-SNAPSHOT.jar:na]
	at org.apache.camel.component.dhis2.Dhis2Endpoint.afterConfigureProperties(Dhis2Endpoint.java:89) ~[camel-dhis2-2.0.0-SNAPSHOT.jar:na]
	at org.apache.camel.support.component.AbstractApiEndpoint.configureProperties(AbstractApiEndpoint.java:138) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.DefaultComponent.setProperties(DefaultComponent.java:429) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.component.AbstractApiComponent.createEndpoint(AbstractApiComponent.java:90) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.DefaultComponent.createEndpoint(DefaultComponent.java:171) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.doGetEndpoint(AbstractCamelContext.java:974) ~[camel-base-engine-3.20.2.jar:3.20.2]
	... 31 common frames omitted

2023-03-13 14:34:50.691  INFO 22512 --- [main] org.apache.activemq.artemis.core.server  : AMQ221002: Apache ActiveMQ Artemis Message Broker version 2.19.1 [f561d4b4-8b4f-11ed-b036-4c034f8a3e96] stopped, uptime 1.811 seconds
2023-03-13 14:41:01.383  INFO 29484 --- [main] o.h.d.integration.rapidpro.Application   : Starting Application using Java 19.0.1 on DESKTOP-BIR2HG9 with PID 29484 (C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp\target\classes started by JohanGangsåsHole in C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp)
2023-03-13 14:41:01.386 DEBUG 29484 --- [main] o.h.d.integration.rapidpro.Application   : Running with Spring Boot v2.7.4, Spring v5.3.23
2023-03-13 14:41:01.386  INFO 29484 --- [main] o.h.d.integration.rapidpro.Application   : No active profile set, falling back to 1 default profile: "default"
2023-03-13 14:41:02.724  INFO 29484 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)
2023-03-13 14:41:02.736  INFO 29484 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-13 14:41:02.736  INFO 29484 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2023-03-13 14:41:02.882  INFO 29484 --- [main] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring embedded WebApplicationContext
2023-03-13 14:41:02.883  INFO 29484 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1456 ms
2023-03-13 14:41:02.996 ERROR 29484 --- [main] javax.management.mbeanserver             : The LogManager accessed before the "java.util.logging.manager" system property was set to "org.jboss.logmanager.LogManager". Results may be unexpected.
2023-03-13 14:41:03.334  INFO 29484 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/management/h2-console'. Database available at 'jdbc:h2:./dhis2rapidpro'
2023-03-13 14:41:03.499  INFO 29484 --- [main] o.s.b.a.e.web.ServletEndpointRegistrar   : Registered '/management/jolokia' to jolokia-actuator-endpoint
2023-03-13 14:41:03.513  INFO 29484 --- [main] io.hawt.HawtioContextListener            : Initialising hawtio services
2023-03-13 14:41:03.517  INFO 29484 --- [main] io.hawt.system.ConfigManager             : Configuration will be discovered via system properties
2023-03-13 14:41:03.519  INFO 29484 --- [main] io.hawt.jmx.JmxTreeWatcher               : Welcome to Hawtio 2.16.2
2023-03-13 14:41:03.527  INFO 29484 --- [main] i.h.w.auth.AuthenticationConfiguration   : Starting hawtio authentication filter, JAAS authentication disabled
2023-03-13 14:41:03.529  INFO 29484 --- [main] io.hawt.web.auth.LoginRedirectFilter     : Hawtio loginRedirectFilter is using 1800 sec. HttpSession timeout
2023-03-13 14:41:05.006  INFO 29484 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to RapidPro
2023-03-13 14:41:05.012  INFO 29484 --- [main] o.h.d.i.r.security.KeyStoreGenerator     : Re-using existing key store at file:/C:/Users/JohanGangsåsHole/Documents/integration-dhis2-whatsapp/tls.jks
2023-03-13 14:41:05.160  INFO 29484 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Ant [pattern='/management/**'], Ant [pattern='/services/tasks/**'], Ant [pattern='/login'], Ant [pattern='/logout']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@60b4d934, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a3e633a, org.springframework.security.web.context.SecurityContextPersistenceFilter@714b6999, org.springframework.security.web.header.HeaderWriterFilter@da9374c, org.springframework.security.web.csrf.CsrfFilter@6ba355e4, org.springframework.security.web.authentication.logout.LogoutFilter@4bceac99, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@cea67b1, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@71eafb64, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@41abee65, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2435c6ae, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@24f5e9e8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@50e6ee24, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6fc6f68f, org.springframework.security.web.session.SessionManagementFilter@14b96c1e, org.springframework.security.web.access.ExceptionTranslationFilter@6738e8b2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3b1137b0]
2023-03-13 14:41:05.169  INFO 29484 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/services/webhook'] with [org.springframework.security.web.session.DisableEncodeUrlFilter@6a3a56de, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ed84be9, org.springframework.security.web.context.SecurityContextPersistenceFilter@5308e79d, org.springframework.security.web.header.HeaderWriterFilter@4cb58e8b, org.springframework.security.web.authentication.logout.LogoutFilter@468f2a6f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2431050d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@441016d6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@400e741, org.springframework.security.web.session.SessionManagementFilter@6f4f2cc0, org.springframework.security.web.access.ExceptionTranslationFilter@37b80ec7]
2023-03-13 14:41:05.669  INFO 29484 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to DHIS 2.38.1
2023-03-13 14:41:05.831  INFO 29484 --- [main] io.hawt.log.logback.LogbackLogQuery      : Connected to Logback appender to trap logs with Hawtio log plugin
2023-03-13 14:41:06.169  INFO 29484 --- [main] org.apache.activemq.artemis.core.server  : AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,jdbcDriverClassName=null,jdbcConnectionUrl=null,messageTableName=messages,bindingsTableName=bindings,largeMessageTableName=large_messages,pageStoreTableName=page_store,)
2023-03-13 14:41:06.177  INFO 29484 --- [main] org.apache.activemq.artemis.core.server  : AMQ221045: libaio is not available, switching the configuration into NIO
2023-03-13 14:41:06.231  INFO 29484 --- [main] org.apache.activemq.artemis.core.server  : AMQ221057: Global Max Size is being adjusted to 1/2 of the JVM max size (-Xmx). being defined as 4 250 927 104
2023-03-13 14:41:06.250  INFO 29484 --- [main] org.apache.activemq.artemis.core.server  : AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE
2023-03-13 14:41:06.323  INFO 29484 --- [main] org.apache.activemq.artemis.core.server  : AMQ221034: Waiting indefinitely to obtain live lock
2023-03-13 14:41:06.323  INFO 29484 --- [main] org.apache.activemq.artemis.core.server  : AMQ221035: Live Server Obtained live lock
2023-03-13 14:41:06.386  INFO 29484 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address DLQ supporting [ANYCAST]
2023-03-13 14:41:06.387  INFO 29484 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue DLQ on address DLQ
2023-03-13 14:41:06.389  INFO 29484 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address ExpiryQueue supporting [ANYCAST]
2023-03-13 14:41:06.390  INFO 29484 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue ExpiryQueue on address ExpiryQueue
2023-03-13 14:41:06.409  INFO 29484 --- [main] org.apache.activemq.artemis.core.server  : AMQ221007: Server is now live
2023-03-13 14:41:06.409  INFO 29484 --- [main] org.apache.activemq.artemis.core.server  : AMQ221001: Apache ActiveMQ Artemis Message Broker version 2.19.1 [localhost, nodeID=f561d4b4-8b4f-11ed-b036-4c034f8a3e96] 
2023-03-13 14:41:06.618  INFO 29484 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/management'
2023-03-13 14:41:06.732  INFO 29484 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=/dhis2rapidpro]
2023-03-13 14:41:06.733  INFO 29484 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8443 (https) with context path '/dhis2rapidpro'
2023-03-13 14:41:07.018  INFO 29484 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-03-13 14:41:07.020  INFO 29484 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-03-13 14:41:07.020  INFO 29484 --- [main] io.hawt.web.auth.AuthenticationFilter    : Destroying hawtio authentication filter
2023-03-13 14:41:07.021  INFO 29484 --- [main] io.hawt.HawtioContextListener            : Destroying hawtio services
2023-03-13 14:41:07.026  INFO 29484 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-03-13 14:41:07.039 ERROR 29484 --- [main] o.s.boot.SpringApplication               : Application run failed

org.apache.camel.FailedToCreateRouteException: Failed to create route Enrollment Sync at: >>> To[dhis2://get/collection?path=tracker/enrollments?program=JA1vLYT8htI&orgUnit=DFn0SHhghQp&client=#dhis2Client] <<< in route: Route(Enrollment Sync)[From[direct:enrollmentSync] -> [OnExc... because of Failed to resolve endpoint: dhis2://get/collection?client=%23dhis2Client&orgUnit=DFn0SHhghQp&path=tracker%2Fenrollments%3Fprogram%3DJA1vLYT8htI due to: Failed to resolve endpoint: dhis2://get/collection?client=%23dhis2Client&orgUnit=DFn0SHhghQp&path=tracker%2Fenrollments%3Fprogram%3DJA1vLYT8htI due to: There are 1 parameters that couldn't be set on the endpoint. Check the uri if the parameters are spelt correctly and that they are properties of the endpoint. Unknown parameters=[{orgUnit=DFn0SHhghQp}]
	at org.apache.camel.reifier.RouteReifier.doCreateRoute(RouteReifier.java:215) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.RouteReifier.createRoute(RouteReifier.java:75) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultModelReifierFactory.createRoute(DefaultModelReifierFactory.java:49) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:937) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:800) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.doInit(AbstractCamelContext.java:3008) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.support.service.BaseService.init(BaseService.java:83) ~[camel-api-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.init(AbstractCamelContext.java:2679) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.support.service.BaseService.start(BaseService.java:111) ~[camel-api-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.start(AbstractCamelContext.java:2698) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:262) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:119) ~[camel-spring-3.20.2.jar:3.20.2]
	at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:151) ~[camel-spring-3.20.2.jar:3.20.2]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:938) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.hisp.dhis.integration.rapidpro.Application.main(Application.java:204) ~[classes/:na]
Caused by: org.apache.camel.ResolveEndpointFailedException: Failed to resolve endpoint: dhis2://get/collection?client=%23dhis2Client&orgUnit=DFn0SHhghQp&path=tracker%2Fenrollments%3Fprogram%3DJA1vLYT8htI due to: Failed to resolve endpoint: dhis2://get/collection?client=%23dhis2Client&orgUnit=DFn0SHhghQp&path=tracker%2Fenrollments%3Fprogram%3DJA1vLYT8htI due to: There are 1 parameters that couldn't be set on the endpoint. Check the uri if the parameters are spelt correctly and that they are properties of the endpoint. Unknown parameters=[{orgUnit=DFn0SHhghQp}]
	at org.apache.camel.impl.engine.AbstractCamelContext.doGetEndpoint(AbstractCamelContext.java:1008) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.getEndpoint(AbstractCamelContext.java:890) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.support.CamelContextHelper.resolveEndpoint(CamelContextHelper.java:127) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.SendReifier.resolveEndpoint(SendReifier.java:45) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.SendReifier.createProcessor(SendReifier.java:37) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.ProcessorReifier.makeProcessor(ProcessorReifier.java:857) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.ProcessorReifier.addRoutes(ProcessorReifier.java:598) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.RouteReifier.doCreateRoute(RouteReifier.java:211) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	... 24 common frames omitted
Caused by: org.apache.camel.ResolveEndpointFailedException: Failed to resolve endpoint: dhis2://get/collection?client=%23dhis2Client&orgUnit=DFn0SHhghQp&path=tracker%2Fenrollments%3Fprogram%3DJA1vLYT8htI due to: There are 1 parameters that couldn't be set on the endpoint. Check the uri if the parameters are spelt correctly and that they are properties of the endpoint. Unknown parameters=[{orgUnit=DFn0SHhghQp}]
	at org.apache.camel.support.DefaultComponent.validateParameters(DefaultComponent.java:300) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.DefaultComponent.createEndpoint(DefaultComponent.java:192) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.doGetEndpoint(AbstractCamelContext.java:974) ~[camel-base-engine-3.20.2.jar:3.20.2]
	... 31 common frames omitted

2023-03-13 14:41:07.066  INFO 29484 --- [main] org.apache.activemq.artemis.core.server  : AMQ221002: Apache ActiveMQ Artemis Message Broker version 2.19.1 [f561d4b4-8b4f-11ed-b036-4c034f8a3e96] stopped, uptime 0.910 seconds
2023-03-13 14:43:49.701  INFO 22856 --- [main] o.h.d.integration.rapidpro.Application   : Starting Application using Java 19.0.1 on DESKTOP-BIR2HG9 with PID 22856 (C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp\target\classes started by JohanGangsåsHole in C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp)
2023-03-13 14:43:49.704 DEBUG 22856 --- [main] o.h.d.integration.rapidpro.Application   : Running with Spring Boot v2.7.4, Spring v5.3.23
2023-03-13 14:43:49.704  INFO 22856 --- [main] o.h.d.integration.rapidpro.Application   : No active profile set, falling back to 1 default profile: "default"
2023-03-13 14:43:51.042  INFO 22856 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)
2023-03-13 14:43:51.053  INFO 22856 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-13 14:43:51.054  INFO 22856 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2023-03-13 14:43:51.200  INFO 22856 --- [main] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring embedded WebApplicationContext
2023-03-13 14:43:51.201  INFO 22856 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1457 ms
2023-03-13 14:43:51.319 ERROR 22856 --- [main] javax.management.mbeanserver             : The LogManager accessed before the "java.util.logging.manager" system property was set to "org.jboss.logmanager.LogManager". Results may be unexpected.
2023-03-13 14:43:51.670  INFO 22856 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/management/h2-console'. Database available at 'jdbc:h2:./dhis2rapidpro'
2023-03-13 14:43:51.835  INFO 22856 --- [main] o.s.b.a.e.web.ServletEndpointRegistrar   : Registered '/management/jolokia' to jolokia-actuator-endpoint
2023-03-13 14:43:51.848  INFO 22856 --- [main] io.hawt.HawtioContextListener            : Initialising hawtio services
2023-03-13 14:43:51.852  INFO 22856 --- [main] io.hawt.system.ConfigManager             : Configuration will be discovered via system properties
2023-03-13 14:43:51.854  INFO 22856 --- [main] io.hawt.jmx.JmxTreeWatcher               : Welcome to Hawtio 2.16.2
2023-03-13 14:43:51.862  INFO 22856 --- [main] i.h.w.auth.AuthenticationConfiguration   : Starting hawtio authentication filter, JAAS authentication disabled
2023-03-13 14:43:51.864  INFO 22856 --- [main] io.hawt.web.auth.LoginRedirectFilter     : Hawtio loginRedirectFilter is using 1800 sec. HttpSession timeout
2023-03-13 14:43:53.254  INFO 22856 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to RapidPro
2023-03-13 14:43:53.257  INFO 22856 --- [main] o.h.d.i.r.security.KeyStoreGenerator     : Re-using existing key store at file:/C:/Users/JohanGangsåsHole/Documents/integration-dhis2-whatsapp/tls.jks
2023-03-13 14:43:53.425  INFO 22856 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Ant [pattern='/management/**'], Ant [pattern='/services/tasks/**'], Ant [pattern='/login'], Ant [pattern='/logout']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@1bf10539, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1e406cbe, org.springframework.security.web.context.SecurityContextPersistenceFilter@491cc0eb, org.springframework.security.web.header.HeaderWriterFilter@7acb5200, org.springframework.security.web.csrf.CsrfFilter@593f7d2e, org.springframework.security.web.authentication.logout.LogoutFilter@2f58f492, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@44da745f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@c683cf5, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@141a10bf, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2e057637, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c70a1de, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ae74eef, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4dffa400, org.springframework.security.web.session.SessionManagementFilter@3661b732, org.springframework.security.web.access.ExceptionTranslationFilter@24f5e9e8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@40db6136]
2023-03-13 14:43:53.435  INFO 22856 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/services/webhook'] with [org.springframework.security.web.session.DisableEncodeUrlFilter@7cf66cf9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@38f63756, org.springframework.security.web.context.SecurityContextPersistenceFilter@35744f8, org.springframework.security.web.header.HeaderWriterFilter@400e741, org.springframework.security.web.authentication.logout.LogoutFilter@75c0cd39, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6fbcc078, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c851821, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3d7caf9c, org.springframework.security.web.session.SessionManagementFilter@3be369fc, org.springframework.security.web.access.ExceptionTranslationFilter@2ed84be9]
2023-03-13 14:43:53.994  INFO 22856 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to DHIS 2.38.1
2023-03-13 14:43:54.160  INFO 22856 --- [main] io.hawt.log.logback.LogbackLogQuery      : Connected to Logback appender to trap logs with Hawtio log plugin
2023-03-13 14:43:54.497  INFO 22856 --- [main] org.apache.activemq.artemis.core.server  : AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,jdbcDriverClassName=null,jdbcConnectionUrl=null,messageTableName=messages,bindingsTableName=bindings,largeMessageTableName=large_messages,pageStoreTableName=page_store,)
2023-03-13 14:43:54.506  INFO 22856 --- [main] org.apache.activemq.artemis.core.server  : AMQ221045: libaio is not available, switching the configuration into NIO
2023-03-13 14:43:54.570  INFO 22856 --- [main] org.apache.activemq.artemis.core.server  : AMQ221057: Global Max Size is being adjusted to 1/2 of the JVM max size (-Xmx). being defined as 4 250 927 104
2023-03-13 14:43:54.588  INFO 22856 --- [main] org.apache.activemq.artemis.core.server  : AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE
2023-03-13 14:43:54.666  INFO 22856 --- [main] org.apache.activemq.artemis.core.server  : AMQ221034: Waiting indefinitely to obtain live lock
2023-03-13 14:43:54.667  INFO 22856 --- [main] org.apache.activemq.artemis.core.server  : AMQ221035: Live Server Obtained live lock
2023-03-13 14:43:54.729  INFO 22856 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address DLQ supporting [ANYCAST]
2023-03-13 14:43:54.730  INFO 22856 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue DLQ on address DLQ
2023-03-13 14:43:54.733  INFO 22856 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address ExpiryQueue supporting [ANYCAST]
2023-03-13 14:43:54.734  INFO 22856 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue ExpiryQueue on address ExpiryQueue
2023-03-13 14:43:54.754  INFO 22856 --- [main] org.apache.activemq.artemis.core.server  : AMQ221007: Server is now live
2023-03-13 14:43:54.754  INFO 22856 --- [main] org.apache.activemq.artemis.core.server  : AMQ221001: Apache ActiveMQ Artemis Message Broker version 2.19.1 [localhost, nodeID=f561d4b4-8b4f-11ed-b036-4c034f8a3e96] 
2023-03-13 14:43:54.950  INFO 22856 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/management'
2023-03-13 14:43:55.059  INFO 22856 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=/dhis2rapidpro]
2023-03-13 14:43:55.061  INFO 22856 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8443 (https) with context path '/dhis2rapidpro'
2023-03-13 14:43:56.096  INFO 22856 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-03-13 14:43:56.098  INFO 22856 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-03-13 14:43:56.098  INFO 22856 --- [main] io.hawt.web.auth.AuthenticationFilter    : Destroying hawtio authentication filter
2023-03-13 14:43:56.099  INFO 22856 --- [main] io.hawt.HawtioContextListener            : Destroying hawtio services
2023-03-13 14:43:56.104  INFO 22856 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-03-13 14:43:56.118 ERROR 22856 --- [main] o.s.boot.SpringApplication               : Application run failed

org.apache.camel.FailedToCreateRouteException: Failed to create route Enrollment Sync at: >>> To[dhis2://get/collection?path=tracker/enrollments&queryParams=${simple:${mapAsQueryString:queryParams}}&client=#dhis2Client] <<< in route: Route(Enrollment Sync)[From[direct:enrollmentSync] -> [OnExc... because of Failed to resolve endpoint: dhis2://get/collection?client=%23dhis2Client&path=tracker%2Fenrollments&queryParams=%24%7Bsimple%3A%24%7BmapAsQueryString%3AqueryParams%7D%7D due to: Error binding property (queryParams=${simple:${mapAsQueryString:queryParams}}) with name: queryParams on bean: org.apache.camel.component.dhis2.Dhis2GetEndpointConfiguration@16c559c7 with value: ${simple:${mapAsQueryString:queryParams}}
	at org.apache.camel.reifier.RouteReifier.doCreateRoute(RouteReifier.java:215) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.RouteReifier.createRoute(RouteReifier.java:75) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultModelReifierFactory.createRoute(DefaultModelReifierFactory.java:49) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:937) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:800) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.doInit(AbstractCamelContext.java:3008) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.support.service.BaseService.init(BaseService.java:83) ~[camel-api-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.init(AbstractCamelContext.java:2679) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.support.service.BaseService.start(BaseService.java:111) ~[camel-api-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.start(AbstractCamelContext.java:2698) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:262) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:119) ~[camel-spring-3.20.2.jar:3.20.2]
	at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:151) ~[camel-spring-3.20.2.jar:3.20.2]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:938) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.hisp.dhis.integration.rapidpro.Application.main(Application.java:204) ~[classes/:na]
Caused by: org.apache.camel.ResolveEndpointFailedException: Failed to resolve endpoint: dhis2://get/collection?client=%23dhis2Client&path=tracker%2Fenrollments&queryParams=%24%7Bsimple%3A%24%7BmapAsQueryString%3AqueryParams%7D%7D due to: Error binding property (queryParams=${simple:${mapAsQueryString:queryParams}}) with name: queryParams on bean: org.apache.camel.component.dhis2.Dhis2GetEndpointConfiguration@16c559c7 with value: ${simple:${mapAsQueryString:queryParams}}
	at org.apache.camel.impl.engine.AbstractCamelContext.doGetEndpoint(AbstractCamelContext.java:1008) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.getEndpoint(AbstractCamelContext.java:890) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.support.CamelContextHelper.resolveEndpoint(CamelContextHelper.java:127) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.SendReifier.resolveEndpoint(SendReifier.java:45) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.SendReifier.createProcessor(SendReifier.java:37) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.ProcessorReifier.makeProcessor(ProcessorReifier.java:857) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.ProcessorReifier.addRoutes(ProcessorReifier.java:598) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.RouteReifier.doCreateRoute(RouteReifier.java:211) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	... 24 common frames omitted
Caused by: org.apache.camel.PropertyBindingException: Error binding property (queryParams=${simple:${mapAsQueryString:queryParams}}) with name: queryParams on bean: org.apache.camel.component.dhis2.Dhis2GetEndpointConfiguration@16c559c7 with value: ${simple:${mapAsQueryString:queryParams}}
	at org.apache.camel.support.PropertyBindingSupport.setSimplePropertyViaReflection(PropertyBindingSupport.java:768) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.PropertyBindingSupport.doSetPropertyValue(PropertyBindingSupport.java:498) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.PropertyBindingSupport.doBuildPropertyOgnlPath(PropertyBindingSupport.java:356) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.PropertyBindingSupport.doBindProperties(PropertyBindingSupport.java:233) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.PropertyBindingSupport$Builder.bind(PropertyBindingSupport.java:1864) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.component.AbstractApiEndpoint.configureProperties(AbstractApiEndpoint.java:131) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.DefaultComponent.setProperties(DefaultComponent.java:429) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.component.AbstractApiComponent.createEndpoint(AbstractApiComponent.java:90) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.DefaultComponent.createEndpoint(DefaultComponent.java:171) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.doGetEndpoint(AbstractCamelContext.java:974) ~[camel-base-engine-3.20.2.jar:3.20.2]
	... 31 common frames omitted
Caused by: java.lang.IllegalArgumentException: Could not find a suitable setter for property: queryParams as there isn't a setter method with same type: java.lang.String nor type conversion possible: No type converter available to convert from type: java.lang.String to the required type: java.util.Map
	at org.apache.camel.support.IntrospectionSupport.setProperty(IntrospectionSupport.java:845) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.DefaultBeanIntrospection.setProperty(DefaultBeanIntrospection.java:199) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.support.PropertyBindingSupport.doSetSimplePropertyViaReflection(PropertyBindingSupport.java:877) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.PropertyBindingSupport.setSimplePropertyViaReflection(PropertyBindingSupport.java:764) ~[camel-support-3.20.2.jar:3.20.2]
	... 40 common frames omitted

2023-03-13 14:43:56.159  INFO 22856 --- [main] org.apache.activemq.artemis.core.server  : AMQ221002: Apache ActiveMQ Artemis Message Broker version 2.19.1 [f561d4b4-8b4f-11ed-b036-4c034f8a3e96] stopped, uptime 1.674 seconds
2023-03-13 14:44:44.902  INFO 40120 --- [main] o.h.d.integration.rapidpro.Application   : Starting Application using Java 19.0.1 on DESKTOP-BIR2HG9 with PID 40120 (C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp\target\classes started by JohanGangsåsHole in C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp)
2023-03-13 14:44:44.905 DEBUG 40120 --- [main] o.h.d.integration.rapidpro.Application   : Running with Spring Boot v2.7.4, Spring v5.3.23
2023-03-13 14:44:44.906  INFO 40120 --- [main] o.h.d.integration.rapidpro.Application   : No active profile set, falling back to 1 default profile: "default"
2023-03-13 14:44:46.279  INFO 40120 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)
2023-03-13 14:44:46.290  INFO 40120 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-13 14:44:46.290  INFO 40120 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2023-03-13 14:44:46.436  INFO 40120 --- [main] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring embedded WebApplicationContext
2023-03-13 14:44:46.436  INFO 40120 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1491 ms
2023-03-13 14:44:46.552 ERROR 40120 --- [main] javax.management.mbeanserver             : The LogManager accessed before the "java.util.logging.manager" system property was set to "org.jboss.logmanager.LogManager". Results may be unexpected.
2023-03-13 14:44:46.899  INFO 40120 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/management/h2-console'. Database available at 'jdbc:h2:./dhis2rapidpro'
2023-03-13 14:44:47.071  INFO 40120 --- [main] o.s.b.a.e.web.ServletEndpointRegistrar   : Registered '/management/jolokia' to jolokia-actuator-endpoint
2023-03-13 14:44:47.086  INFO 40120 --- [main] io.hawt.HawtioContextListener            : Initialising hawtio services
2023-03-13 14:44:47.092  INFO 40120 --- [main] io.hawt.system.ConfigManager             : Configuration will be discovered via system properties
2023-03-13 14:44:47.094  INFO 40120 --- [main] io.hawt.jmx.JmxTreeWatcher               : Welcome to Hawtio 2.16.2
2023-03-13 14:44:47.105  INFO 40120 --- [main] i.h.w.auth.AuthenticationConfiguration   : Starting hawtio authentication filter, JAAS authentication disabled
2023-03-13 14:44:47.107  INFO 40120 --- [main] io.hawt.web.auth.LoginRedirectFilter     : Hawtio loginRedirectFilter is using 1800 sec. HttpSession timeout
2023-03-13 14:44:48.640  INFO 40120 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to RapidPro
2023-03-13 14:44:48.644  INFO 40120 --- [main] o.h.d.i.r.security.KeyStoreGenerator     : Re-using existing key store at file:/C:/Users/JohanGangsåsHole/Documents/integration-dhis2-whatsapp/tls.jks
2023-03-13 14:44:48.795  INFO 40120 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Ant [pattern='/management/**'], Ant [pattern='/services/tasks/**'], Ant [pattern='/login'], Ant [pattern='/logout']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@cea67b1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5d98364c, org.springframework.security.web.context.SecurityContextPersistenceFilter@59282dc6, org.springframework.security.web.header.HeaderWriterFilter@1d3546f9, org.springframework.security.web.csrf.CsrfFilter@50d05167, org.springframework.security.web.authentication.logout.LogoutFilter@2553dcc0, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2befb16f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@da9374c, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@23d23d98, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@afb7b03, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@42cf5a6f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7b2f8152, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1fd35a92, org.springframework.security.web.session.SessionManagementFilter@767d9b9, org.springframework.security.web.access.ExceptionTranslationFilter@8dbf0f2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3051e476]
2023-03-13 14:44:48.803  INFO 40120 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/services/webhook'] with [org.springframework.security.web.session.DisableEncodeUrlFilter@141a10bf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4dffa400, org.springframework.security.web.context.SecurityContextPersistenceFilter@2e057637, org.springframework.security.web.header.HeaderWriterFilter@297dff3a, org.springframework.security.web.authentication.logout.LogoutFilter@1e406cbe, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@762f8ff6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@30ed2a26, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5e34a84b, org.springframework.security.web.session.SessionManagementFilter@30437e9c, org.springframework.security.web.access.ExceptionTranslationFilter@6fc6f68f]
2023-03-13 14:44:49.336  INFO 40120 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to DHIS 2.38.1
2023-03-13 14:44:49.511  INFO 40120 --- [main] io.hawt.log.logback.LogbackLogQuery      : Connected to Logback appender to trap logs with Hawtio log plugin
2023-03-13 14:44:49.859  INFO 40120 --- [main] org.apache.activemq.artemis.core.server  : AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,jdbcDriverClassName=null,jdbcConnectionUrl=null,messageTableName=messages,bindingsTableName=bindings,largeMessageTableName=large_messages,pageStoreTableName=page_store,)
2023-03-13 14:44:49.868  INFO 40120 --- [main] org.apache.activemq.artemis.core.server  : AMQ221045: libaio is not available, switching the configuration into NIO
2023-03-13 14:44:49.931  INFO 40120 --- [main] org.apache.activemq.artemis.core.server  : AMQ221057: Global Max Size is being adjusted to 1/2 of the JVM max size (-Xmx). being defined as 4 250 927 104
2023-03-13 14:44:49.947  INFO 40120 --- [main] org.apache.activemq.artemis.core.server  : AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE
2023-03-13 14:44:50.021  INFO 40120 --- [main] org.apache.activemq.artemis.core.server  : AMQ221034: Waiting indefinitely to obtain live lock
2023-03-13 14:44:50.022  INFO 40120 --- [main] org.apache.activemq.artemis.core.server  : AMQ221035: Live Server Obtained live lock
2023-03-13 14:44:50.086  INFO 40120 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address DLQ supporting [ANYCAST]
2023-03-13 14:44:50.087  INFO 40120 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue DLQ on address DLQ
2023-03-13 14:44:50.090  INFO 40120 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address ExpiryQueue supporting [ANYCAST]
2023-03-13 14:44:50.091  INFO 40120 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue ExpiryQueue on address ExpiryQueue
2023-03-13 14:44:50.109  INFO 40120 --- [main] org.apache.activemq.artemis.core.server  : AMQ221007: Server is now live
2023-03-13 14:44:50.110  INFO 40120 --- [main] org.apache.activemq.artemis.core.server  : AMQ221001: Apache ActiveMQ Artemis Message Broker version 2.19.1 [localhost, nodeID=f561d4b4-8b4f-11ed-b036-4c034f8a3e96] 
2023-03-13 14:44:50.317  INFO 40120 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/management'
2023-03-13 14:44:50.419  INFO 40120 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=/dhis2rapidpro]
2023-03-13 14:44:50.420  INFO 40120 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8443 (https) with context path '/dhis2rapidpro'
2023-03-13 14:44:51.561  INFO 40120 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) is starting
2023-03-13 14:44:51.621  INFO 40120 --- [main] o.a.c.component.quartz.QuartzComponent   : Setting org.quartz.scheduler.jmx.export=true to ensure QuartzScheduler(s) will be enlisted in JMX
2023-03-13 14:44:51.636  INFO 40120 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2023-03-13 14:44:51.638  INFO 40120 --- [main] org.quartz.simpl.SimpleThreadPool        : Job execution threads will use class loader of thread: main
2023-03-13 14:44:51.645  INFO 40120 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2023-03-13 14:44:51.646  INFO 40120 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.
2023-03-13 14:44:51.646  INFO 40120 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2023-03-13 14:44:51.649  INFO 40120 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) 'DefaultQuartzScheduler-camel-1' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2023-03-13 14:44:51.650  INFO 40120 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'DefaultQuartzScheduler-camel-1' initialized from an externally provided properties instance.
2023-03-13 14:44:51.650  INFO 40120 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.3.2
2023-03-13 14:44:51.692  INFO 40120 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.pull (cron=0 0/30 * * * ?, triggerType=CronTriggerImpl, jobClass=StatefulCamelJob) is scheduled. Next fire date is 2023-03-13T15:00:00.000+0100
2023-03-13 14:44:51.721  INFO 40120 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.reminders (cron=0 0 9 ? * *, triggerType=CronTriggerImpl, jobClass=CamelJob) is scheduled. Next fire date is 2023-03-14T09:00:00.000+0100
2023-03-13 14:44:51.783  INFO 40120 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.sync (cron=0 0/30 * * * ?, triggerType=CronTriggerImpl, jobClass=StatefulCamelJob) is scheduled. Next fire date is 2023-03-13T15:00:00.000+0100
2023-03-13 14:44:51.857  INFO 40120 --- [main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2023-03-13 14:44:51.858  INFO 40120 --- [CamelMainRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.20.2 is starting
2023-03-13 14:44:51.859  INFO 40120 --- [main] .a.c.s.FileWatcherResourceReloadStrategy : Live route reloading enabled (directory: routes)
2023-03-13 14:44:51.958  INFO 40120 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:30)
2023-03-13 14:44:51.958  INFO 40120 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Enrollment Sync (direct://enrollmentSync)
2023-03-13 14:44:51.959  INFO 40120 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (servlet:/tasks/scan)
2023-03-13 14:44:51.959  INFO 40120 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (quartz://pull)
2023-03-13 14:44:51.960  INFO 40120 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Scan RapidPro Flows (direct://pull)
2023-03-13 14:44:51.960  INFO 40120 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (servlet:/tasks/reminders)
2023-03-13 14:44:51.960  INFO 40120 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (quartz://reminders)
2023-03-13 14:44:51.960  INFO 40120 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Broadcast Reminders (direct://reminders)
2023-03-13 14:44:51.960  INFO 40120 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (direct://fetchDataSet)
2023-03-13 14:44:51.961  INFO 40120 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route6 (direct://fetchContacts)
2023-03-13 14:44:51.961  INFO 40120 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route7 (direct://fetchReportRate)
2023-03-13 14:44:51.961  INFO 40120 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route8 (direct://sendBroadcast)
2023-03-13 14:44:51.961  INFO 40120 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Set up Program Fields RapidPro (direct://prepareTrackerRapidPro)
2023-03-13 14:44:51.962  INFO 40120 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create Program RapidPro Fields (direct://createProgramFieldsRoute)
2023-03-13 14:44:51.962  INFO 40120 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create Program RapidPro Group (direct://createProgramGroupRoute)
2023-03-13 14:44:51.962  INFO 40120 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route9 (servlet:/tasks/sync)
2023-03-13 14:44:51.962  INFO 40120 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route10 (quartz://sync)
2023-03-13 14:44:51.963  INFO 40120 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Sync RapidPro Contacts (direct://sync)
2023-03-13 14:44:51.963  INFO 40120 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route11 (direct://createContact)
2023-03-13 14:44:51.963  INFO 40120 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route12 (direct://updateContact)
2023-03-13 14:44:51.963  INFO 40120 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Set up RapidPro (direct://prepareRapidPro)
2023-03-13 14:44:51.963  INFO 40120 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create RapidPro Fields (direct://createFieldsRoute)
2023-03-13 14:44:51.964  INFO 40120 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create RapidPro Group (direct://createGroupRoute)
2023-03-13 14:44:51.964  INFO 40120 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Retry Reports (timer://retry)
2023-03-13 14:44:51.964  INFO 40120 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Consume Report (jms://queue:dhis2)
2023-03-13 14:44:51.964  INFO 40120 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Deliver Report (direct://deliverReport)
2023-03-13 14:44:51.964  INFO 40120 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Transform Report (direct://transformReport)
2023-03-13 14:44:51.965  INFO 40120 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Transmit Report (direct://transmitReport)
2023-03-13 14:44:51.965  INFO 40120 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Save Failed Report (direct://dlq)
2023-03-13 14:44:51.965  INFO 40120 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Compute Period (direct://computePeriod)
2023-03-13 14:44:51.965  INFO 40120 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route13 (direct://completeDataSetRegistration)
2023-03-13 14:44:51.965  INFO 40120 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) started in 1s545ms (build:68ms init:1s73ms start:404ms)
2023-03-13 14:44:51.968  INFO 40120 --- [main] o.a.c.component.quartz.QuartzComponent   : Starting Quartz scheduler: org.quartz.impl.StdScheduler@ab40f46
2023-03-13 14:44:51.968  INFO 40120 --- [main] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED started.
2023-03-13 14:44:51.973  INFO 40120 --- [main] o.h.d.integration.rapidpro.Application   : Started Application in 7.366 seconds (JVM running for 7.755)
2023-03-13 14:44:51.981  INFO 40120 --- [main] o.h.d.integration.rapidpro.Application   : 
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 ONLINE

 Hawtio console: https://192.168.1.122:8443/dhis2rapidpro/management/hawtio
 H2 console: https://192.168.1.122:8443/dhis2rapidpro/management/h2-console
 Poll flows task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/scan
 Sync contacts task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/sync
 Remind contacts task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/reminders

 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

2023-03-13 14:44:58.802  INFO 40120 --- [https-jsse-nio-8443-exec-10] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-13 14:44:58.802  INFO 40120 --- [https-jsse-nio-8443-exec-10] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-03-13 14:44:58.805  INFO 40120 --- [https-jsse-nio-8443-exec-10] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2023-03-13 14:45:03.495  INFO 40120 --- [https-jsse-nio-8443-exec-8] o.h.d.i.r.route.AbstractRouteBuilder     : Synchronising RapidPro contacts...
2023-03-13 14:45:05.506 DEBUG 40120 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user w5cOyMlXYNL
2023-03-13 14:45:05.941  WARN 40120 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user w5cOyMlXYNL => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:187654321"]}
2023-03-13 14:45:05.953 DEBUG 40120 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user pVS5mv9EsC2
2023-03-13 14:45:06.078  WARN 40120 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user pVS5mv9EsC2 => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:+919560163563"]}
2023-03-13 14:45:06.088 DEBUG 40120 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user e0kSQPZJe4s
2023-03-13 14:45:06.212  WARN 40120 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user e0kSQPZJe4s => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:+4712345678"]}
2023-03-13 14:45:06.218 DEBUG 40120 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user kAoHFxJOTWl
2023-03-13 14:45:06.337  WARN 40120 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user kAoHFxJOTWl => HTTP 400. HTTP response body => {"urns":{"1":["Invalid URN: whatsapp:+4794277878. Ensure phone numbers contain country codes."]}}
2023-03-13 14:45:06.339  INFO 40120 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Completed synchronisation of RapidPro contacts with DHIS2 users
2023-03-13 14:45:06.347 ERROR 40120 --- [Camel (camel-1) thread #4 - CamelDhis2] o.a.c.p.e.DefaultErrorHandler            : Failed delivery for (MessageId: 5F52AF56488AE0C-0000000000000003 on ExchangeId: 5F52AF56488AE0C-0000000000000003). Exhausted after delivery attempt: 1 caught: org.apache.camel.language.simple.types.SimpleIllegalSyntaxException: Unknown function: simple:${mapAsQueryString:queryParams} at location 60
dhis2://get/collection?path=tracker/enrollments&queryParams=${simple:${mapAsQueryString:queryParams}}&client=#dhis2Client
                                                            *


Message History (source location and message history is disabled)
---------------------------------------------------------------------------------------------------------------------------------------
Source                                   ID                             Processor                                          Elapsed (ms)
                                         route9/route9                  from[servlet:/tasks/sync?muteException=true]         1980257687
	...
                                         Enrollment Sync/toD1           dhis2://get/collection?path=tracker/enrollments&qu            0

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------

org.apache.camel.language.simple.types.SimpleIllegalSyntaxException: Unknown function: simple:${mapAsQueryString:queryParams} at location 60
dhis2://get/collection?path=tracker/enrollments&queryParams=${simple:${mapAsQueryString:queryParams}}&client=#dhis2Client
                                                            *

	at org.apache.camel.language.simple.ast.SimpleFunctionStart$1.evaluate(SimpleFunctionStart.java:128) ~[camel-core-languages-3.20.2.jar:3.20.2]
	at org.apache.camel.support.builder.ExpressionBuilder$52.evaluate(ExpressionBuilder.java:1608) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.ExpressionAdapter.evaluate(ExpressionAdapter.java:45) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.processor.SendDynamicProcessor.process(SendDynamicProcessor.java:124) ~[camel-core-processor-3.20.2.jar:3.20.2]
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryTask.doRun(RedeliveryErrorHandler.java:818) ~[camel-core-processor-3.20.2.jar:3.20.2]
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryTask.run(RedeliveryErrorHandler.java:726) ~[camel-core-processor-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:181) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.schedule(DefaultReactiveExecutor.java:54) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryTask.lambda$doRun$1(RedeliveryErrorHandler.java:823) ~[camel-core-processor-3.20.2.jar:3.20.2]
	at org.apache.camel.support.cache.DefaultProducerCache.lambda$doInAsyncProducer$4(DefaultProducerCache.java:338) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.processor.SendDynamicProcessor$1.done(SendDynamicProcessor.java:213) ~[camel-core-processor-3.20.2.jar:3.20.2]
	at org.apache.camel.support.component.AbstractApiProducer$1.run(AbstractApiProducer.java:99) ~[camel-support-3.20.2.jar:3.20.2]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]
Caused by: org.apache.camel.language.simple.types.SimpleParserException: Unknown function: simple:${mapAsQueryString:queryParams}
	at org.apache.camel.language.simple.ast.SimpleFunctionExpression.createSimpleExpression(SimpleFunctionExpression.java:299) ~[camel-core-languages-3.20.2.jar:3.20.2]
	at org.apache.camel.language.simple.ast.SimpleFunctionExpression.createExpression(SimpleFunctionExpression.java:61) ~[camel-core-languages-3.20.2.jar:3.20.2]
	at org.apache.camel.language.simple.ast.SimpleFunctionStart$1.evaluate(SimpleFunctionStart.java:125) ~[camel-core-languages-3.20.2.jar:3.20.2]
	... 17 common frames omitted

2023-03-13 14:45:48.539  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) is shutting down (timeout:45s)
2023-03-13 14:45:48.542  INFO 40120 --- [Camel (camel-1) thread #5 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.sync
2023-03-13 14:45:48.543  INFO 40120 --- [Camel (camel-1) thread #5 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.reminders
2023-03-13 14:45:48.544  INFO 40120 --- [Camel (camel-1) thread #5 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.pull
2023-03-13 14:45:49.059  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.sync
2023-03-13 14:45:49.062  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.reminders
2023-03-13 14:45:49.063  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.pull
2023-03-13 14:45:49.064  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:30)
2023-03-13 14:45:49.065  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route13 (direct://completeDataSetRegistration)
2023-03-13 14:45:49.065  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Compute Period (direct://computePeriod)
2023-03-13 14:45:49.065  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Save Failed Report (direct://dlq)
2023-03-13 14:45:49.066  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Transmit Report (direct://transmitReport)
2023-03-13 14:45:49.066  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Transform Report (direct://transformReport)
2023-03-13 14:45:49.066  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Deliver Report (direct://deliverReport)
2023-03-13 14:45:49.066  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Consume Report (jms://queue:dhis2)
2023-03-13 14:45:49.066  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Retry Reports (timer://retry)
2023-03-13 14:45:49.066  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create RapidPro Group (direct://createGroupRoute)
2023-03-13 14:45:49.067  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create RapidPro Fields (direct://createFieldsRoute)
2023-03-13 14:45:49.067  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Set up RapidPro (direct://prepareRapidPro)
2023-03-13 14:45:49.067  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route12 (direct://updateContact)
2023-03-13 14:45:49.067  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route11 (direct://createContact)
2023-03-13 14:45:49.067  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Sync RapidPro Contacts (direct://sync)
2023-03-13 14:45:49.067  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route10 (quartz://sync)
2023-03-13 14:45:49.068  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route9 (servlet:/tasks/sync)
2023-03-13 14:45:49.068  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create Program RapidPro Group (direct://createProgramGroupRoute)
2023-03-13 14:45:49.068  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create Program RapidPro Fields (direct://createProgramFieldsRoute)
2023-03-13 14:45:49.068  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Set up Program Fields RapidPro (direct://prepareTrackerRapidPro)
2023-03-13 14:45:49.069  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route8 (direct://sendBroadcast)
2023-03-13 14:45:49.069  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route7 (direct://fetchReportRate)
2023-03-13 14:45:49.069  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route6 (direct://fetchContacts)
2023-03-13 14:45:49.069  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (direct://fetchDataSet)
2023-03-13 14:45:49.069  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Broadcast Reminders (direct://reminders)
2023-03-13 14:45:49.070  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (quartz://reminders)
2023-03-13 14:45:49.070  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (servlet:/tasks/reminders)
2023-03-13 14:45:49.070  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Scan RapidPro Flows (direct://pull)
2023-03-13 14:45:49.070  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (quartz://pull)
2023-03-13 14:45:49.070  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (servlet:/tasks/scan)
2023-03-13 14:45:49.070  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Enrollment Sync (direct://enrollmentSync)
2023-03-13 14:45:49.073  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzComponent   : Shutting down Quartz scheduler (will wait for all jobs to complete first)
2023-03-13 14:45:49.073  INFO 40120 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED shutting down.
2023-03-13 14:45:49.073  INFO 40120 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED paused.
2023-03-13 14:45:49.196  INFO 40120 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler unregistered from name 'quartz:type=QuartzScheduler,name=DefaultQuartzScheduler-camel-1,instance=NON_CLUSTERED' in the local MBeanServer.
2023-03-13 14:45:49.197  INFO 40120 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED shutdown complete.
2023-03-13 14:45:49.201  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) shutdown in 662ms (uptime:57s)
2023-03-13 14:45:49.213  INFO 40120 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-03-13 14:45:49.213  INFO 40120 --- [SpringApplicationShutdownHook] io.hawt.web.auth.AuthenticationFilter    : Destroying hawtio authentication filter
2023-03-13 14:45:49.214  INFO 40120 --- [SpringApplicationShutdownHook] io.hawt.HawtioContextListener            : Destroying hawtio services
2023-03-13 14:45:49.292  INFO 40120 --- [SpringApplicationShutdownHook] org.apache.activemq.artemis.core.server  : AMQ221002: Apache ActiveMQ Artemis Message Broker version 2.19.1 [f561d4b4-8b4f-11ed-b036-4c034f8a3e96] stopped, uptime 59.445 seconds
2023-03-13 14:45:51.452  INFO 31860 --- [main] o.h.d.integration.rapidpro.Application   : Starting Application using Java 19.0.1 on DESKTOP-BIR2HG9 with PID 31860 (C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp\target\classes started by JohanGangsåsHole in C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp)
2023-03-13 14:45:51.455 DEBUG 31860 --- [main] o.h.d.integration.rapidpro.Application   : Running with Spring Boot v2.7.4, Spring v5.3.23
2023-03-13 14:45:51.456  INFO 31860 --- [main] o.h.d.integration.rapidpro.Application   : No active profile set, falling back to 1 default profile: "default"
2023-03-13 14:45:52.843  INFO 31860 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)
2023-03-13 14:45:52.854  INFO 31860 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-13 14:45:52.855  INFO 31860 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2023-03-13 14:45:52.997  INFO 31860 --- [main] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring embedded WebApplicationContext
2023-03-13 14:45:52.997  INFO 31860 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1501 ms
2023-03-13 14:45:53.112 ERROR 31860 --- [main] javax.management.mbeanserver             : The LogManager accessed before the "java.util.logging.manager" system property was set to "org.jboss.logmanager.LogManager". Results may be unexpected.
2023-03-13 14:45:53.441  INFO 31860 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/management/h2-console'. Database available at 'jdbc:h2:./dhis2rapidpro'
2023-03-13 14:45:53.603  INFO 31860 --- [main] o.s.b.a.e.web.ServletEndpointRegistrar   : Registered '/management/jolokia' to jolokia-actuator-endpoint
2023-03-13 14:45:53.616  INFO 31860 --- [main] io.hawt.HawtioContextListener            : Initialising hawtio services
2023-03-13 14:45:53.620  INFO 31860 --- [main] io.hawt.system.ConfigManager             : Configuration will be discovered via system properties
2023-03-13 14:45:53.622  INFO 31860 --- [main] io.hawt.jmx.JmxTreeWatcher               : Welcome to Hawtio 2.16.2
2023-03-13 14:45:53.631  INFO 31860 --- [main] i.h.w.auth.AuthenticationConfiguration   : Starting hawtio authentication filter, JAAS authentication disabled
2023-03-13 14:45:53.633  INFO 31860 --- [main] io.hawt.web.auth.LoginRedirectFilter     : Hawtio loginRedirectFilter is using 1800 sec. HttpSession timeout
2023-03-13 14:45:55.150  INFO 31860 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to RapidPro
2023-03-13 14:45:55.156  INFO 31860 --- [main] o.h.d.i.r.security.KeyStoreGenerator     : Re-using existing key store at file:/C:/Users/JohanGangsåsHole/Documents/integration-dhis2-whatsapp/tls.jks
2023-03-13 14:45:55.310  INFO 31860 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Ant [pattern='/management/**'], Ant [pattern='/services/tasks/**'], Ant [pattern='/login'], Ant [pattern='/logout']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@5ced0537, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6ee1ddcf, org.springframework.security.web.context.SecurityContextPersistenceFilter@5f9ccd0c, org.springframework.security.web.header.HeaderWriterFilter@59282dc6, org.springframework.security.web.csrf.CsrfFilter@a80a896, org.springframework.security.web.authentication.logout.LogoutFilter@2c224096, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@912747d, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@714b6999, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6b630d4b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@23d23d98, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@609ad016, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@da9374c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@70aa03c0, org.springframework.security.web.session.SessionManagementFilter@42cf5a6f, org.springframework.security.web.access.ExceptionTranslationFilter@593f7d2e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2befb16f]
2023-03-13 14:45:55.318  INFO 31860 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/services/webhook'] with [org.springframework.security.web.session.DisableEncodeUrlFilter@37b80ec7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4cb58e8b, org.springframework.security.web.context.SecurityContextPersistenceFilter@141a10bf, org.springframework.security.web.header.HeaderWriterFilter@1bf10539, org.springframework.security.web.authentication.logout.LogoutFilter@7577589, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4dffa400, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5e34a84b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f4f2cc0, org.springframework.security.web.session.SessionManagementFilter@1e406cbe, org.springframework.security.web.access.ExceptionTranslationFilter@30ed2a26]
2023-03-13 14:45:55.844  INFO 31860 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to DHIS 2.38.1
2023-03-13 14:45:56.027  INFO 31860 --- [main] io.hawt.log.logback.LogbackLogQuery      : Connected to Logback appender to trap logs with Hawtio log plugin
2023-03-13 14:45:56.375  INFO 31860 --- [main] org.apache.activemq.artemis.core.server  : AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,jdbcDriverClassName=null,jdbcConnectionUrl=null,messageTableName=messages,bindingsTableName=bindings,largeMessageTableName=large_messages,pageStoreTableName=page_store,)
2023-03-13 14:45:56.384  INFO 31860 --- [main] org.apache.activemq.artemis.core.server  : AMQ221045: libaio is not available, switching the configuration into NIO
2023-03-13 14:45:56.446  INFO 31860 --- [main] org.apache.activemq.artemis.core.server  : AMQ221057: Global Max Size is being adjusted to 1/2 of the JVM max size (-Xmx). being defined as 4 250 927 104
2023-03-13 14:45:56.462  INFO 31860 --- [main] org.apache.activemq.artemis.core.server  : AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE
2023-03-13 14:45:56.538  INFO 31860 --- [main] org.apache.activemq.artemis.core.server  : AMQ221034: Waiting indefinitely to obtain live lock
2023-03-13 14:45:56.539  INFO 31860 --- [main] org.apache.activemq.artemis.core.server  : AMQ221035: Live Server Obtained live lock
2023-03-13 14:45:56.602  INFO 31860 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address DLQ supporting [ANYCAST]
2023-03-13 14:45:56.603  INFO 31860 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue DLQ on address DLQ
2023-03-13 14:45:56.606  INFO 31860 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address ExpiryQueue supporting [ANYCAST]
2023-03-13 14:45:56.607  INFO 31860 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue ExpiryQueue on address ExpiryQueue
2023-03-13 14:45:56.626  INFO 31860 --- [main] org.apache.activemq.artemis.core.server  : AMQ221007: Server is now live
2023-03-13 14:45:56.627  INFO 31860 --- [main] org.apache.activemq.artemis.core.server  : AMQ221001: Apache ActiveMQ Artemis Message Broker version 2.19.1 [localhost, nodeID=f561d4b4-8b4f-11ed-b036-4c034f8a3e96] 
2023-03-13 14:45:56.830  INFO 31860 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/management'
2023-03-13 14:45:56.930  INFO 31860 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=/dhis2rapidpro]
2023-03-13 14:45:56.931  INFO 31860 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8443 (https) with context path '/dhis2rapidpro'
2023-03-13 14:45:58.130  INFO 31860 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-03-13 14:45:58.132  INFO 31860 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-03-13 14:45:58.132  INFO 31860 --- [main] io.hawt.web.auth.AuthenticationFilter    : Destroying hawtio authentication filter
2023-03-13 14:45:58.133  INFO 31860 --- [main] io.hawt.HawtioContextListener            : Destroying hawtio services
2023-03-13 14:45:58.138  INFO 31860 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-03-13 14:45:58.155 ERROR 31860 --- [main] o.s.boot.SpringApplication               : Application run failed

org.apache.camel.FailedToCreateRouteException: Failed to create route Enrollment Sync at: >>> DynamicTo[dhis2://get/collection?path=tracker/enrollments&queryParams=${queryParams}&client=#dhis2Client] <<< in route: Route(Enrollment Sync)[From[direct:enrollmentSync] -> [OnExc... because of Unknown function: queryParams at location 60
dhis2://get/collection?path=tracker/enrollments&queryParams=${queryParams}&client=#dhis2Client
                                                            *

	at org.apache.camel.reifier.RouteReifier.doCreateRoute(RouteReifier.java:215) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.RouteReifier.createRoute(RouteReifier.java:75) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultModelReifierFactory.createRoute(DefaultModelReifierFactory.java:49) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:937) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:800) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.doInit(AbstractCamelContext.java:3008) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.support.service.BaseService.init(BaseService.java:83) ~[camel-api-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.init(AbstractCamelContext.java:2679) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.support.service.BaseService.start(BaseService.java:111) ~[camel-api-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.AbstractCamelContext.start(AbstractCamelContext.java:2698) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:262) ~[camel-core-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:119) ~[camel-spring-3.20.2.jar:3.20.2]
	at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:151) ~[camel-spring-3.20.2.jar:3.20.2]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:938) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.hisp.dhis.integration.rapidpro.Application.main(Application.java:204) ~[classes/:na]
Caused by: org.apache.camel.language.simple.types.SimpleIllegalSyntaxException: Unknown function: queryParams at location 60
dhis2://get/collection?path=tracker/enrollments&queryParams=${queryParams}&client=#dhis2Client
                                                            *

	at org.apache.camel.language.simple.SimpleExpressionParser.parseExpression(SimpleExpressionParser.java:59) ~[camel-core-languages-3.20.2.jar:3.20.2]
	at org.apache.camel.language.simple.SimpleLanguage.createExpression(SimpleLanguage.java:214) ~[camel-core-languages-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.ToDynamicReifier.createExpression(ToDynamicReifier.java:88) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.ToDynamicReifier.createProcessor(ToDynamicReifier.java:47) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.ProcessorReifier.makeProcessor(ProcessorReifier.java:857) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.ProcessorReifier.addRoutes(ProcessorReifier.java:598) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	at org.apache.camel.reifier.RouteReifier.doCreateRoute(RouteReifier.java:211) ~[camel-core-reifier-3.20.2.jar:3.20.2]
	... 24 common frames omitted
Caused by: org.apache.camel.language.simple.types.SimpleParserException: Unknown function: queryParams
	at org.apache.camel.language.simple.ast.SimpleFunctionExpression.createSimpleExpression(SimpleFunctionExpression.java:299) ~[camel-core-languages-3.20.2.jar:3.20.2]
	at org.apache.camel.language.simple.ast.SimpleFunctionExpression.createExpression(SimpleFunctionExpression.java:61) ~[camel-core-languages-3.20.2.jar:3.20.2]
	at org.apache.camel.language.simple.ast.SimpleFunctionStart.doCreateLiteralExpression(SimpleFunctionStart.java:74) ~[camel-core-languages-3.20.2.jar:3.20.2]
	at org.apache.camel.language.simple.ast.SimpleFunctionStart.createExpression(SimpleFunctionStart.java:64) ~[camel-core-languages-3.20.2.jar:3.20.2]
	at org.apache.camel.language.simple.SimpleExpressionParser.createExpressions(SimpleExpressionParser.java:193) ~[camel-core-languages-3.20.2.jar:3.20.2]
	at org.apache.camel.language.simple.SimpleExpressionParser.doParseExpression(SimpleExpressionParser.java:116) ~[camel-core-languages-3.20.2.jar:3.20.2]
	at org.apache.camel.language.simple.SimpleExpressionParser.parseExpression(SimpleExpressionParser.java:56) ~[camel-core-languages-3.20.2.jar:3.20.2]
	... 30 common frames omitted

2023-03-13 14:45:58.201  INFO 31860 --- [main] org.apache.activemq.artemis.core.server  : AMQ221002: Apache ActiveMQ Artemis Message Broker version 2.19.1 [f561d4b4-8b4f-11ed-b036-4c034f8a3e96] stopped, uptime 1.838 seconds
2023-03-13 14:52:36.626  INFO 30616 --- [main] o.h.d.integration.rapidpro.Application   : Starting Application using Java 19.0.1 on DESKTOP-BIR2HG9 with PID 30616 (C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp\target\classes started by JohanGangsåsHole in C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp)
2023-03-13 14:52:36.628 DEBUG 30616 --- [main] o.h.d.integration.rapidpro.Application   : Running with Spring Boot v2.7.4, Spring v5.3.23
2023-03-13 14:52:36.629  INFO 30616 --- [main] o.h.d.integration.rapidpro.Application   : No active profile set, falling back to 1 default profile: "default"
2023-03-13 14:52:38.018  INFO 30616 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)
2023-03-13 14:52:38.029  INFO 30616 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-13 14:52:38.030  INFO 30616 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2023-03-13 14:52:38.182  INFO 30616 --- [main] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring embedded WebApplicationContext
2023-03-13 14:52:38.183  INFO 30616 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1516 ms
2023-03-13 14:52:38.300 ERROR 30616 --- [main] javax.management.mbeanserver             : The LogManager accessed before the "java.util.logging.manager" system property was set to "org.jboss.logmanager.LogManager". Results may be unexpected.
2023-03-13 14:52:38.649  INFO 30616 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/management/h2-console'. Database available at 'jdbc:h2:./dhis2rapidpro'
2023-03-13 14:52:38.803  INFO 30616 --- [main] o.s.b.a.e.web.ServletEndpointRegistrar   : Registered '/management/jolokia' to jolokia-actuator-endpoint
2023-03-13 14:52:38.816  INFO 30616 --- [main] io.hawt.HawtioContextListener            : Initialising hawtio services
2023-03-13 14:52:38.820  INFO 30616 --- [main] io.hawt.system.ConfigManager             : Configuration will be discovered via system properties
2023-03-13 14:52:38.822  INFO 30616 --- [main] io.hawt.jmx.JmxTreeWatcher               : Welcome to Hawtio 2.16.2
2023-03-13 14:52:38.832  INFO 30616 --- [main] i.h.w.auth.AuthenticationConfiguration   : Starting hawtio authentication filter, JAAS authentication disabled
2023-03-13 14:52:38.834  INFO 30616 --- [main] io.hawt.web.auth.LoginRedirectFilter     : Hawtio loginRedirectFilter is using 1800 sec. HttpSession timeout
2023-03-13 14:52:40.318  INFO 30616 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to RapidPro
2023-03-13 14:52:40.322  INFO 30616 --- [main] o.h.d.i.r.security.KeyStoreGenerator     : Re-using existing key store at file:/C:/Users/JohanGangsåsHole/Documents/integration-dhis2-whatsapp/tls.jks
2023-03-13 14:52:40.465  INFO 30616 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Ant [pattern='/management/**'], Ant [pattern='/services/tasks/**'], Ant [pattern='/login'], Ant [pattern='/logout']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@2e057637, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@762f8ff6, org.springframework.security.web.context.SecurityContextPersistenceFilter@3661b732, org.springframework.security.web.header.HeaderWriterFilter@2e4d2232, org.springframework.security.web.csrf.CsrfFilter@1d3546f9, org.springframework.security.web.authentication.logout.LogoutFilter@6b52a40, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6ee1ddcf, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2e91cf69, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@30ed2a26, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6fc6f68f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71eafb64, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@491cc0eb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1bf10539, org.springframework.security.web.session.SessionManagementFilter@50e6ee24, org.springframework.security.web.access.ExceptionTranslationFilter@664254b6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5d98364c]
2023-03-13 14:52:40.473  INFO 30616 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/services/webhook'] with [org.springframework.security.web.session.DisableEncodeUrlFilter@6c851821, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4c0930c4, org.springframework.security.web.context.SecurityContextPersistenceFilter@2ed84be9, org.springframework.security.web.header.HeaderWriterFilter@468f2a6f, org.springframework.security.web.authentication.logout.LogoutFilter@6fbcc078, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@400e741, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3be369fc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@75c0cd39, org.springframework.security.web.session.SessionManagementFilter@6a3a56de, org.springframework.security.web.access.ExceptionTranslationFilter@522f0bb8]
2023-03-13 14:52:41.025  INFO 30616 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to DHIS 2.38.1
2023-03-13 14:52:41.196  INFO 30616 --- [main] io.hawt.log.logback.LogbackLogQuery      : Connected to Logback appender to trap logs with Hawtio log plugin
2023-03-13 14:52:41.551  INFO 30616 --- [main] org.apache.activemq.artemis.core.server  : AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,jdbcDriverClassName=null,jdbcConnectionUrl=null,messageTableName=messages,bindingsTableName=bindings,largeMessageTableName=large_messages,pageStoreTableName=page_store,)
2023-03-13 14:52:41.559  INFO 30616 --- [main] org.apache.activemq.artemis.core.server  : AMQ221045: libaio is not available, switching the configuration into NIO
2023-03-13 14:52:41.618  INFO 30616 --- [main] org.apache.activemq.artemis.core.server  : AMQ221057: Global Max Size is being adjusted to 1/2 of the JVM max size (-Xmx). being defined as 4 250 927 104
2023-03-13 14:52:41.632  INFO 30616 --- [main] org.apache.activemq.artemis.core.server  : AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE
2023-03-13 14:52:41.706  INFO 30616 --- [main] org.apache.activemq.artemis.core.server  : AMQ221034: Waiting indefinitely to obtain live lock
2023-03-13 14:52:41.707  INFO 30616 --- [main] org.apache.activemq.artemis.core.server  : AMQ221035: Live Server Obtained live lock
2023-03-13 14:52:41.771  INFO 30616 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address DLQ supporting [ANYCAST]
2023-03-13 14:52:41.772  INFO 30616 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue DLQ on address DLQ
2023-03-13 14:52:41.775  INFO 30616 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address ExpiryQueue supporting [ANYCAST]
2023-03-13 14:52:41.775  INFO 30616 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue ExpiryQueue on address ExpiryQueue
2023-03-13 14:52:41.795  INFO 30616 --- [main] org.apache.activemq.artemis.core.server  : AMQ221007: Server is now live
2023-03-13 14:52:41.795  INFO 30616 --- [main] org.apache.activemq.artemis.core.server  : AMQ221001: Apache ActiveMQ Artemis Message Broker version 2.19.1 [localhost, nodeID=f561d4b4-8b4f-11ed-b036-4c034f8a3e96] 
2023-03-13 14:52:42.033  INFO 30616 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/management'
2023-03-13 14:52:42.137  INFO 30616 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=/dhis2rapidpro]
2023-03-13 14:52:42.138  INFO 30616 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8443 (https) with context path '/dhis2rapidpro'
2023-03-13 14:52:43.304  INFO 30616 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) is starting
2023-03-13 14:52:43.369  INFO 30616 --- [main] o.a.c.component.quartz.QuartzComponent   : Setting org.quartz.scheduler.jmx.export=true to ensure QuartzScheduler(s) will be enlisted in JMX
2023-03-13 14:52:43.386  INFO 30616 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2023-03-13 14:52:43.389  INFO 30616 --- [main] org.quartz.simpl.SimpleThreadPool        : Job execution threads will use class loader of thread: main
2023-03-13 14:52:43.395  INFO 30616 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2023-03-13 14:52:43.396  INFO 30616 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.
2023-03-13 14:52:43.396  INFO 30616 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2023-03-13 14:52:43.399  INFO 30616 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) 'DefaultQuartzScheduler-camel-1' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2023-03-13 14:52:43.400  INFO 30616 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'DefaultQuartzScheduler-camel-1' initialized from an externally provided properties instance.
2023-03-13 14:52:43.400  INFO 30616 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.3.2
2023-03-13 14:52:43.494  INFO 30616 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.pull (cron=0 0/30 * * * ?, triggerType=CronTriggerImpl, jobClass=StatefulCamelJob) is scheduled. Next fire date is 2023-03-13T15:00:00.000+0100
2023-03-13 14:52:43.519  INFO 30616 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.reminders (cron=0 0 9 ? * *, triggerType=CronTriggerImpl, jobClass=CamelJob) is scheduled. Next fire date is 2023-03-14T09:00:00.000+0100
2023-03-13 14:52:43.573  INFO 30616 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.sync (cron=0 0/30 * * * ?, triggerType=CronTriggerImpl, jobClass=StatefulCamelJob) is scheduled. Next fire date is 2023-03-13T15:00:00.000+0100
2023-03-13 14:52:43.637  INFO 30616 --- [main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2023-03-13 14:52:43.638  INFO 30616 --- [CamelMainRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.20.2 is starting
2023-03-13 14:52:43.639  INFO 30616 --- [main] .a.c.s.FileWatcherResourceReloadStrategy : Live route reloading enabled (directory: routes)
2023-03-13 14:52:43.734  INFO 30616 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:30)
2023-03-13 14:52:43.734  INFO 30616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Set up Program Fields RapidPro (direct://prepareTrackerRapidPro)
2023-03-13 14:52:43.735  INFO 30616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create Program RapidPro Fields (direct://createProgramFieldsRoute)
2023-03-13 14:52:43.735  INFO 30616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create Program RapidPro Group (direct://createProgramGroupRoute)
2023-03-13 14:52:43.735  INFO 30616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Enrollment Sync (direct://enrollmentSync)
2023-03-13 14:52:43.735  INFO 30616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (servlet:/tasks/scan)
2023-03-13 14:52:43.736  INFO 30616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (quartz://pull)
2023-03-13 14:52:43.736  INFO 30616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Scan RapidPro Flows (direct://pull)
2023-03-13 14:52:43.736  INFO 30616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (servlet:/tasks/reminders)
2023-03-13 14:52:43.736  INFO 30616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (quartz://reminders)
2023-03-13 14:52:43.737  INFO 30616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Broadcast Reminders (direct://reminders)
2023-03-13 14:52:43.737  INFO 30616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (direct://fetchDataSet)
2023-03-13 14:52:43.737  INFO 30616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route6 (direct://fetchContacts)
2023-03-13 14:52:43.737  INFO 30616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route7 (direct://fetchReportRate)
2023-03-13 14:52:43.738  INFO 30616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route8 (direct://sendBroadcast)
2023-03-13 14:52:43.738  INFO 30616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Set up RapidPro (direct://prepareRapidPro)
2023-03-13 14:52:43.738  INFO 30616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create RapidPro Fields (direct://createFieldsRoute)
2023-03-13 14:52:43.738  INFO 30616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create RapidPro Group (direct://createGroupRoute)
2023-03-13 14:52:43.739  INFO 30616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route9 (servlet:/tasks/sync)
2023-03-13 14:52:43.739  INFO 30616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route10 (quartz://sync)
2023-03-13 14:52:43.739  INFO 30616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Sync RapidPro Contacts (direct://sync)
2023-03-13 14:52:43.739  INFO 30616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route11 (direct://createContact)
2023-03-13 14:52:43.740  INFO 30616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route12 (direct://updateContact)
2023-03-13 14:52:43.740  INFO 30616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Retry Reports (timer://retry)
2023-03-13 14:52:43.740  INFO 30616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Consume Report (jms://queue:dhis2)
2023-03-13 14:52:43.740  INFO 30616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Deliver Report (direct://deliverReport)
2023-03-13 14:52:43.740  INFO 30616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Transform Report (direct://transformReport)
2023-03-13 14:52:43.741  INFO 30616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Transmit Report (direct://transmitReport)
2023-03-13 14:52:43.741  INFO 30616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Save Failed Report (direct://dlq)
2023-03-13 14:52:43.741  INFO 30616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Compute Period (direct://computePeriod)
2023-03-13 14:52:43.741  INFO 30616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route13 (direct://completeDataSetRegistration)
2023-03-13 14:52:43.742  INFO 30616 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) started in 1s584ms (build:55ms init:1s93ms start:436ms)
2023-03-13 14:52:43.744  INFO 30616 --- [main] o.a.c.component.quartz.QuartzComponent   : Starting Quartz scheduler: org.quartz.impl.StdScheduler@46f43f50
2023-03-13 14:52:43.744  INFO 30616 --- [main] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED started.
2023-03-13 14:52:43.748  INFO 30616 --- [main] o.h.d.integration.rapidpro.Application   : Started Application in 7.406 seconds (JVM running for 7.774)
2023-03-13 14:52:43.761  INFO 30616 --- [main] o.h.d.integration.rapidpro.Application   : 
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 ONLINE

 Hawtio console: https://192.168.1.122:8443/dhis2rapidpro/management/hawtio
 H2 console: https://192.168.1.122:8443/dhis2rapidpro/management/h2-console
 Poll flows task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/scan
 Sync contacts task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/sync
 Remind contacts task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/reminders

 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

2023-03-13 14:52:50.166  INFO 30616 --- [https-jsse-nio-8443-exec-10] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-13 14:52:50.167  INFO 30616 --- [https-jsse-nio-8443-exec-10] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-03-13 14:52:50.169  INFO 30616 --- [https-jsse-nio-8443-exec-10] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2023-03-13 14:52:56.515  INFO 30616 --- [https-jsse-nio-8443-exec-3] o.h.d.i.r.route.AbstractRouteBuilder     : Synchronising RapidPro contacts...
2023-03-13 14:52:58.498 DEBUG 30616 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user w5cOyMlXYNL
2023-03-13 14:52:58.932  WARN 30616 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user w5cOyMlXYNL => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:187654321"]}
2023-03-13 14:52:58.937 DEBUG 30616 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user e0kSQPZJe4s
2023-03-13 14:52:59.060  WARN 30616 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user e0kSQPZJe4s => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:+4712345678"]}
2023-03-13 14:52:59.067 DEBUG 30616 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user kAoHFxJOTWl
2023-03-13 14:52:59.190  WARN 30616 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user kAoHFxJOTWl => HTTP 400. HTTP response body => {"urns":{"1":["Invalid URN: whatsapp:+4794277878. Ensure phone numbers contain country codes."]}}
2023-03-13 14:52:59.197 DEBUG 30616 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user pVS5mv9EsC2
2023-03-13 14:52:59.321  WARN 30616 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user pVS5mv9EsC2 => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:+919560163563"]}
2023-03-13 14:52:59.324  INFO 30616 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Completed synchronisation of RapidPro contacts with DHIS2 users
2023-03-13 14:52:59.648 ERROR 30616 --- [Camel (camel-1) thread #4 - CamelDhis2] o.a.c.p.e.DefaultErrorHandler            : Failed delivery for (MessageId: 1255910949F18AE-0000000000000003 on ExchangeId: 1255910949F18AE-0000000000000003). Exhausted after delivery attempt: 1 caught: org.apache.camel.RuntimeCamelException: Error invoking collection with {path=tracker/enrollments, methodName=collection, client=org.hisp.dhis.integration.sdk.DefaultDhis2Client@5ce1f623, apiName=GET}: org.hisp.dhis.integration.sdk.api.Dhis2ClientException: Response{protocol=http/1.1, code=409, message=, url=http://192.46.212.72:8080/sjmch/api/tracker/enrollments}

Message History (source location and message history is disabled)
---------------------------------------------------------------------------------------------------------------------------------------
Source                                   ID                             Processor                                          Elapsed (ms)
                                         route9/route9                  from[servlet:/tasks/sync?muteException=true]         1980730987
	...
                                         Enrollment Sync/toD9           dhis2://get/collection?path=tracker/enrollments&cl            0

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------

org.apache.camel.RuntimeCamelException: Error invoking collection with {path=tracker/enrollments, methodName=collection, client=org.hisp.dhis.integration.sdk.DefaultDhis2Client@5ce1f623, apiName=GET}: org.hisp.dhis.integration.sdk.api.Dhis2ClientException: Response{protocol=http/1.1, code=409, message=, url=http://192.46.212.72:8080/sjmch/api/tracker/enrollments}
	at org.apache.camel.support.component.ApiMethodHelper.invokeMethod(ApiMethodHelper.java:531) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.component.AbstractApiProducer.doInvokeMethod(AbstractApiProducer.java:122) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.component.AbstractApiProducer$1.run(AbstractApiProducer.java:89) ~[camel-support-3.20.2.jar:3.20.2]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]
Caused by: org.hisp.dhis.integration.sdk.api.Dhis2ClientException: org.hisp.dhis.integration.sdk.api.Dhis2ClientException: Response{protocol=http/1.1, code=409, message=, url=http://192.46.212.72:8080/sjmch/api/tracker/enrollments}
	at org.hisp.dhis.integration.sdk.internal.operation.AbstractOperation.onHttpResponse(AbstractOperation.java:143) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	at org.hisp.dhis.integration.sdk.internal.operation.DefaultGetOperation.doTransfer(DefaultGetOperation.java:84) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	at org.hisp.dhis.integration.sdk.internal.operation.DefaultGetOperation.doTransfer(DefaultGetOperation.java:46) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	at org.hisp.dhis.integration.sdk.internal.operation.AbstractOperation.transfer(AbstractOperation.java:97) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	at org.hisp.dhis.integration.sdk.internal.operation.page.DefaultPagingCollectOperation.transfer(DefaultPagingCollectOperation.java:57) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	at org.apache.camel.component.dhis2.api.Dhis2Get.collection(Dhis2Get.java:84) ~[camel-dhis2-api-2.0.0-SNAPSHOT.jar:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]
	at org.apache.camel.support.component.ApiMethodHelper.invokeMethod(ApiMethodHelper.java:523) ~[camel-support-3.20.2.jar:3.20.2]
	... 8 common frames omitted
Caused by: org.hisp.dhis.integration.sdk.api.Dhis2ClientException: Response{protocol=http/1.1, code=409, message=, url=http://192.46.212.72:8080/sjmch/api/tracker/enrollments}
	at org.hisp.dhis.integration.sdk.internal.operation.AbstractOperation.onHttpResponse(AbstractOperation.java:134) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	... 16 common frames omitted

2023-03-13 15:00:00.011  INFO 30616 --- [DefaultQuartzScheduler-camel-1_Worker-2] o.h.d.i.r.route.AbstractRouteBuilder     : Synchronising RapidPro contacts...
2023-03-13 15:00:00.461 DEBUG 30616 --- [DefaultQuartzScheduler-camel-1_Worker-1] o.h.d.i.r.route.AbstractRouteBuilder     : Fetched flow runs from https://textit.com/api/v2/runs.json?flow=77bdd647-56be-4ae2-9d9d-d4e4dbc71fca&after=2023-03-13T13:04:49.525&reverse=true => {"next":null,"previous":null,"results":[]}
2023-03-13 15:00:01.654 DEBUG 30616 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user kAoHFxJOTWl
2023-03-13 15:00:02.095  WARN 30616 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user kAoHFxJOTWl => HTTP 400. HTTP response body => {"urns":{"1":["Invalid URN: whatsapp:+4794277878. Ensure phone numbers contain country codes."]}}
2023-03-13 15:00:02.103 DEBUG 30616 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user e0kSQPZJe4s
2023-03-13 15:00:02.232  WARN 30616 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user e0kSQPZJe4s => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:+4712345678"]}
2023-03-13 15:00:02.236 DEBUG 30616 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user w5cOyMlXYNL
2023-03-13 15:00:02.362  WARN 30616 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user w5cOyMlXYNL => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:187654321"]}
2023-03-13 15:00:02.366 DEBUG 30616 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user pVS5mv9EsC2
2023-03-13 15:00:02.520  WARN 30616 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user pVS5mv9EsC2 => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:+919560163563"]}
2023-03-13 15:00:02.522  INFO 30616 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Completed synchronisation of RapidPro contacts with DHIS2 users
2023-03-13 15:05:53.386  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) is shutting down (timeout:45s)
2023-03-13 15:05:53.396  INFO 30616 --- [Camel (camel-1) thread #7 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.sync
2023-03-13 15:05:53.397  INFO 30616 --- [Camel (camel-1) thread #7 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.reminders
2023-03-13 15:05:53.397  INFO 30616 --- [Camel (camel-1) thread #7 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.pull
2023-03-13 15:05:53.412  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.sync
2023-03-13 15:05:53.415  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.reminders
2023-03-13 15:05:53.417  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.pull
2023-03-13 15:05:53.419  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:30)
2023-03-13 15:05:53.419  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route13 (direct://completeDataSetRegistration)
2023-03-13 15:05:53.419  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Compute Period (direct://computePeriod)
2023-03-13 15:05:53.420  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Save Failed Report (direct://dlq)
2023-03-13 15:05:53.420  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Transmit Report (direct://transmitReport)
2023-03-13 15:05:53.420  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Transform Report (direct://transformReport)
2023-03-13 15:05:53.420  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Deliver Report (direct://deliverReport)
2023-03-13 15:05:53.421  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Consume Report (jms://queue:dhis2)
2023-03-13 15:05:53.421  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Retry Reports (timer://retry)
2023-03-13 15:05:53.421  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route12 (direct://updateContact)
2023-03-13 15:05:53.421  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route11 (direct://createContact)
2023-03-13 15:05:53.422  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Sync RapidPro Contacts (direct://sync)
2023-03-13 15:05:53.422  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route10 (quartz://sync)
2023-03-13 15:05:53.422  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route9 (servlet:/tasks/sync)
2023-03-13 15:05:53.422  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create RapidPro Group (direct://createGroupRoute)
2023-03-13 15:05:53.422  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create RapidPro Fields (direct://createFieldsRoute)
2023-03-13 15:05:53.423  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Set up RapidPro (direct://prepareRapidPro)
2023-03-13 15:05:53.423  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route8 (direct://sendBroadcast)
2023-03-13 15:05:53.423  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route7 (direct://fetchReportRate)
2023-03-13 15:05:53.423  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route6 (direct://fetchContacts)
2023-03-13 15:05:53.423  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (direct://fetchDataSet)
2023-03-13 15:05:53.423  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Broadcast Reminders (direct://reminders)
2023-03-13 15:05:53.424  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (quartz://reminders)
2023-03-13 15:05:53.424  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (servlet:/tasks/reminders)
2023-03-13 15:05:53.424  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Scan RapidPro Flows (direct://pull)
2023-03-13 15:05:53.424  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (quartz://pull)
2023-03-13 15:05:53.425  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (servlet:/tasks/scan)
2023-03-13 15:05:53.425  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Enrollment Sync (direct://enrollmentSync)
2023-03-13 15:05:53.425  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create Program RapidPro Group (direct://createProgramGroupRoute)
2023-03-13 15:05:53.425  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create Program RapidPro Fields (direct://createProgramFieldsRoute)
2023-03-13 15:05:53.425  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Set up Program Fields RapidPro (direct://prepareTrackerRapidPro)
2023-03-13 15:05:53.428  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzComponent   : Shutting down Quartz scheduler (will wait for all jobs to complete first)
2023-03-13 15:05:53.428  INFO 30616 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED shutting down.
2023-03-13 15:05:53.429  INFO 30616 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED paused.
2023-03-13 15:05:53.828  INFO 30616 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler unregistered from name 'quartz:type=QuartzScheduler,name=DefaultQuartzScheduler-camel-1,instance=NON_CLUSTERED' in the local MBeanServer.
2023-03-13 15:05:53.829  INFO 30616 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED shutdown complete.
2023-03-13 15:05:53.834  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) shutdown in 448ms (uptime:13m10s)
2023-03-13 15:05:53.844  INFO 30616 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-03-13 15:05:53.845  INFO 30616 --- [SpringApplicationShutdownHook] io.hawt.web.auth.AuthenticationFilter    : Destroying hawtio authentication filter
2023-03-13 15:05:53.846  INFO 30616 --- [SpringApplicationShutdownHook] io.hawt.HawtioContextListener            : Destroying hawtio services
2023-03-13 15:05:53.929  INFO 30616 --- [SpringApplicationShutdownHook] org.apache.activemq.artemis.core.server  : AMQ221002: Apache ActiveMQ Artemis Message Broker version 2.19.1 [f561d4b4-8b4f-11ed-b036-4c034f8a3e96] stopped, uptime 13 minutes
2023-03-13 15:05:56.003  INFO 42616 --- [main] o.h.d.integration.rapidpro.Application   : Starting Application using Java 19.0.1 on DESKTOP-BIR2HG9 with PID 42616 (C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp\target\classes started by JohanGangsåsHole in C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp)
2023-03-13 15:05:56.006 DEBUG 42616 --- [main] o.h.d.integration.rapidpro.Application   : Running with Spring Boot v2.7.4, Spring v5.3.23
2023-03-13 15:05:56.007  INFO 42616 --- [main] o.h.d.integration.rapidpro.Application   : No active profile set, falling back to 1 default profile: "default"
2023-03-13 15:05:57.315  INFO 42616 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)
2023-03-13 15:05:57.325  INFO 42616 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-13 15:05:57.326  INFO 42616 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2023-03-13 15:05:57.473  INFO 42616 --- [main] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring embedded WebApplicationContext
2023-03-13 15:05:57.474  INFO 42616 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1428 ms
2023-03-13 15:05:57.585 ERROR 42616 --- [main] javax.management.mbeanserver             : The LogManager accessed before the "java.util.logging.manager" system property was set to "org.jboss.logmanager.LogManager". Results may be unexpected.
2023-03-13 15:05:57.922  INFO 42616 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/management/h2-console'. Database available at 'jdbc:h2:./dhis2rapidpro'
2023-03-13 15:05:58.084  INFO 42616 --- [main] o.s.b.a.e.web.ServletEndpointRegistrar   : Registered '/management/jolokia' to jolokia-actuator-endpoint
2023-03-13 15:05:58.097  INFO 42616 --- [main] io.hawt.HawtioContextListener            : Initialising hawtio services
2023-03-13 15:05:58.101  INFO 42616 --- [main] io.hawt.system.ConfigManager             : Configuration will be discovered via system properties
2023-03-13 15:05:58.103  INFO 42616 --- [main] io.hawt.jmx.JmxTreeWatcher               : Welcome to Hawtio 2.16.2
2023-03-13 15:05:58.114  INFO 42616 --- [main] i.h.w.auth.AuthenticationConfiguration   : Starting hawtio authentication filter, JAAS authentication disabled
2023-03-13 15:05:58.116  INFO 42616 --- [main] io.hawt.web.auth.LoginRedirectFilter     : Hawtio loginRedirectFilter is using 1800 sec. HttpSession timeout
2023-03-13 15:05:59.533  INFO 42616 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to RapidPro
2023-03-13 15:05:59.537  INFO 42616 --- [main] o.h.d.i.r.security.KeyStoreGenerator     : Re-using existing key store at file:/C:/Users/JohanGangsåsHole/Documents/integration-dhis2-whatsapp/tls.jks
2023-03-13 15:05:59.676  INFO 42616 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Ant [pattern='/management/**'], Ant [pattern='/services/tasks/**'], Ant [pattern='/login'], Ant [pattern='/logout']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@30ed2a26, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bf10539, org.springframework.security.web.context.SecurityContextPersistenceFilter@71eafb64, org.springframework.security.web.header.HeaderWriterFilter@50e6ee24, org.springframework.security.web.csrf.CsrfFilter@767d9b9, org.springframework.security.web.authentication.logout.LogoutFilter@1e4c4fda, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@70aa03c0, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@37665305, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1e406cbe, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@30437e9c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@727f36dd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2c70a1de, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@141a10bf, org.springframework.security.web.session.SessionManagementFilter@3d50a3d9, org.springframework.security.web.access.ExceptionTranslationFilter@2e4d2232, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1fd35a92]
2023-03-13 15:05:59.684  INFO 42616 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/services/webhook'] with [org.springframework.security.web.session.DisableEncodeUrlFilter@75c0cd39, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7cf66cf9, org.springframework.security.web.context.SecurityContextPersistenceFilter@3be369fc, org.springframework.security.web.header.HeaderWriterFilter@2ed84be9, org.springframework.security.web.authentication.logout.LogoutFilter@4c0930c4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@35744f8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6fbcc078, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@38f63756, org.springframework.security.web.session.SessionManagementFilter@400e741, org.springframework.security.web.access.ExceptionTranslationFilter@6a3a56de]
2023-03-13 15:06:00.197  INFO 42616 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to DHIS 2.38.1
2023-03-13 15:06:00.361  INFO 42616 --- [main] io.hawt.log.logback.LogbackLogQuery      : Connected to Logback appender to trap logs with Hawtio log plugin
2023-03-13 15:06:00.758  INFO 42616 --- [main] org.apache.activemq.artemis.core.server  : AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,jdbcDriverClassName=null,jdbcConnectionUrl=null,messageTableName=messages,bindingsTableName=bindings,largeMessageTableName=large_messages,pageStoreTableName=page_store,)
2023-03-13 15:06:00.767  INFO 42616 --- [main] org.apache.activemq.artemis.core.server  : AMQ221045: libaio is not available, switching the configuration into NIO
2023-03-13 15:06:00.838  INFO 42616 --- [main] org.apache.activemq.artemis.core.server  : AMQ221057: Global Max Size is being adjusted to 1/2 of the JVM max size (-Xmx). being defined as 4 250 927 104
2023-03-13 15:06:00.851  INFO 42616 --- [main] org.apache.activemq.artemis.core.server  : AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE
2023-03-13 15:06:00.927  INFO 42616 --- [main] org.apache.activemq.artemis.core.server  : AMQ221034: Waiting indefinitely to obtain live lock
2023-03-13 15:06:00.928  INFO 42616 --- [main] org.apache.activemq.artemis.core.server  : AMQ221035: Live Server Obtained live lock
2023-03-13 15:06:00.993  INFO 42616 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address DLQ supporting [ANYCAST]
2023-03-13 15:06:00.993  INFO 42616 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue DLQ on address DLQ
2023-03-13 15:06:00.997  INFO 42616 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address ExpiryQueue supporting [ANYCAST]
2023-03-13 15:06:00.997  INFO 42616 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue ExpiryQueue on address ExpiryQueue
2023-03-13 15:06:01.017  INFO 42616 --- [main] org.apache.activemq.artemis.core.server  : AMQ221007: Server is now live
2023-03-13 15:06:01.017  INFO 42616 --- [main] org.apache.activemq.artemis.core.server  : AMQ221001: Apache ActiveMQ Artemis Message Broker version 2.19.1 [localhost, nodeID=f561d4b4-8b4f-11ed-b036-4c034f8a3e96] 
2023-03-13 15:06:01.225  INFO 42616 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/management'
2023-03-13 15:06:01.340  INFO 42616 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=/dhis2rapidpro]
2023-03-13 15:06:01.342  INFO 42616 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8443 (https) with context path '/dhis2rapidpro'
2023-03-13 15:06:02.522  INFO 42616 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) is starting
2023-03-13 15:06:02.590  INFO 42616 --- [main] o.a.c.component.quartz.QuartzComponent   : Setting org.quartz.scheduler.jmx.export=true to ensure QuartzScheduler(s) will be enlisted in JMX
2023-03-13 15:06:02.606  INFO 42616 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2023-03-13 15:06:02.610  INFO 42616 --- [main] org.quartz.simpl.SimpleThreadPool        : Job execution threads will use class loader of thread: main
2023-03-13 15:06:02.618  INFO 42616 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2023-03-13 15:06:02.618  INFO 42616 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.
2023-03-13 15:06:02.619  INFO 42616 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2023-03-13 15:06:02.622  INFO 42616 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) 'DefaultQuartzScheduler-camel-1' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2023-03-13 15:06:02.623  INFO 42616 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'DefaultQuartzScheduler-camel-1' initialized from an externally provided properties instance.
2023-03-13 15:06:02.623  INFO 42616 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.3.2
2023-03-13 15:06:02.660  INFO 42616 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.pull (cron=0 0/30 * * * ?, triggerType=CronTriggerImpl, jobClass=StatefulCamelJob) is scheduled. Next fire date is 2023-03-13T15:30:00.000+0100
2023-03-13 15:06:02.724  INFO 42616 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.reminders (cron=0 0 9 ? * *, triggerType=CronTriggerImpl, jobClass=CamelJob) is scheduled. Next fire date is 2023-03-14T09:00:00.000+0100
2023-03-13 15:06:02.819  INFO 42616 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.sync (cron=0 0/30 * * * ?, triggerType=CronTriggerImpl, jobClass=StatefulCamelJob) is scheduled. Next fire date is 2023-03-13T15:30:00.000+0100
2023-03-13 15:06:02.837  INFO 42616 --- [main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2023-03-13 15:06:02.838  INFO 42616 --- [CamelMainRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.20.2 is starting
2023-03-13 15:06:02.840  INFO 42616 --- [main] .a.c.s.FileWatcherResourceReloadStrategy : Live route reloading enabled (directory: routes)
2023-03-13 15:06:02.945  INFO 42616 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:30)
2023-03-13 15:06:02.945  INFO 42616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (servlet:/tasks/scan)
2023-03-13 15:06:02.946  INFO 42616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (quartz://pull)
2023-03-13 15:06:02.946  INFO 42616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Scan RapidPro Flows (direct://pull)
2023-03-13 15:06:02.946  INFO 42616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Set up RapidPro (direct://prepareRapidPro)
2023-03-13 15:06:02.946  INFO 42616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create RapidPro Fields (direct://createFieldsRoute)
2023-03-13 15:06:02.946  INFO 42616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create RapidPro Group (direct://createGroupRoute)
2023-03-13 15:06:02.946  INFO 42616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Enrollment Sync (direct://enrollmentSync)
2023-03-13 15:06:02.947  INFO 42616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (servlet:/tasks/reminders)
2023-03-13 15:06:02.947  INFO 42616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (quartz://reminders)
2023-03-13 15:06:02.947  INFO 42616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Broadcast Reminders (direct://reminders)
2023-03-13 15:06:02.948  INFO 42616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (direct://fetchDataSet)
2023-03-13 15:06:02.948  INFO 42616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route6 (direct://fetchContacts)
2023-03-13 15:06:02.948  INFO 42616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route7 (direct://fetchReportRate)
2023-03-13 15:06:02.948  INFO 42616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route8 (direct://sendBroadcast)
2023-03-13 15:06:02.948  INFO 42616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Retry Reports (timer://retry)
2023-03-13 15:06:02.948  INFO 42616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Consume Report (jms://queue:dhis2)
2023-03-13 15:06:02.949  INFO 42616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Deliver Report (direct://deliverReport)
2023-03-13 15:06:02.949  INFO 42616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Transform Report (direct://transformReport)
2023-03-13 15:06:02.949  INFO 42616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Transmit Report (direct://transmitReport)
2023-03-13 15:06:02.949  INFO 42616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Save Failed Report (direct://dlq)
2023-03-13 15:06:02.950  INFO 42616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Compute Period (direct://computePeriod)
2023-03-13 15:06:02.950  INFO 42616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route9 (direct://completeDataSetRegistration)
2023-03-13 15:06:02.950  INFO 42616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Set up Program Fields RapidPro (direct://prepareTrackerRapidPro)
2023-03-13 15:06:02.950  INFO 42616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create Program RapidPro Fields (direct://createProgramFieldsRoute)
2023-03-13 15:06:02.951  INFO 42616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create Program RapidPro Group (direct://createProgramGroupRoute)
2023-03-13 15:06:02.951  INFO 42616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route10 (servlet:/tasks/sync)
2023-03-13 15:06:02.951  INFO 42616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route11 (quartz://sync)
2023-03-13 15:06:02.951  INFO 42616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Sync RapidPro Contacts (direct://sync)
2023-03-13 15:06:02.952  INFO 42616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route12 (direct://createContact)
2023-03-13 15:06:02.952  INFO 42616 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route13 (direct://updateContact)
2023-03-13 15:06:02.952  INFO 42616 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) started in 1s587ms (build:52ms init:1s106ms start:429ms)
2023-03-13 15:06:02.954  INFO 42616 --- [main] o.a.c.component.quartz.QuartzComponent   : Starting Quartz scheduler: org.quartz.impl.StdScheduler@5e774546
2023-03-13 15:06:02.955  INFO 42616 --- [main] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED started.
2023-03-13 15:06:02.958  INFO 42616 --- [main] o.h.d.integration.rapidpro.Application   : Started Application in 7.233 seconds (JVM running for 7.603)
2023-03-13 15:06:02.965  INFO 42616 --- [main] o.h.d.integration.rapidpro.Application   : 
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 ONLINE

 Hawtio console: https://192.168.1.122:8443/dhis2rapidpro/management/hawtio
 H2 console: https://192.168.1.122:8443/dhis2rapidpro/management/h2-console
 Poll flows task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/scan
 Sync contacts task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/sync
 Remind contacts task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/reminders

 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

2023-03-13 15:06:07.448  INFO 42616 --- [https-jsse-nio-8443-exec-10] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-13 15:06:07.449  INFO 42616 --- [https-jsse-nio-8443-exec-10] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-03-13 15:06:07.451  INFO 42616 --- [https-jsse-nio-8443-exec-10] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-03-13 15:06:13.311  INFO 42616 --- [https-jsse-nio-8443-exec-7] o.h.d.i.r.route.AbstractRouteBuilder     : Synchronising RapidPro contacts...
2023-03-13 15:06:15.262 DEBUG 42616 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user w5cOyMlXYNL
2023-03-13 15:06:15.706  WARN 42616 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user w5cOyMlXYNL => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:187654321"]}
2023-03-13 15:06:15.713 DEBUG 42616 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user e0kSQPZJe4s
2023-03-13 15:06:15.840  WARN 42616 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user e0kSQPZJe4s => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:+4712345678"]}
2023-03-13 15:06:15.844 DEBUG 42616 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user pVS5mv9EsC2
2023-03-13 15:06:15.967  WARN 42616 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user pVS5mv9EsC2 => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:+919560163563"]}
2023-03-13 15:06:15.974 DEBUG 42616 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user kAoHFxJOTWl
2023-03-13 15:06:16.097  WARN 42616 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user kAoHFxJOTWl => HTTP 400. HTTP response body => {"urns":{"1":["Invalid URN: whatsapp:+4794277878. Ensure phone numbers contain country codes."]}}
2023-03-13 15:06:16.098  INFO 42616 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Completed synchronisation of RapidPro contacts with DHIS2 users
2023-03-13 15:06:16.411 ERROR 42616 --- [Camel (camel-1) thread #4 - CamelDhis2] o.a.c.p.e.DefaultErrorHandler            : Failed delivery for (MessageId: 857B2751E835DAC-0000000000000002 on ExchangeId: 857B2751E835DAC-0000000000000002). Exhausted after delivery attempt: 1 caught: org.apache.camel.RuntimeCamelException: Error invoking collection with {path=tracker/enrollments, methodName=collection, client=org.hisp.dhis.integration.sdk.DefaultDhis2Client@5b4710c3, apiName=GET, queryParams={orgUnit=DFn0SHhghQp, program=JA1vLYT8htI}}: Cannot invoke "java.util.List.iterator()" because "collection" is null

Message History (source location and message history is disabled)
---------------------------------------------------------------------------------------------------------------------------------------
Source                                   ID                             Processor                                          Elapsed (ms)
                                         route10/route10                from[servlet:/tasks/sync?muteException=true]         1981527751
	...
                                         Enrollment Sync/to8            dhis2://get/collection?path=tracker/enrollments&cl            0

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------

org.apache.camel.RuntimeCamelException: Error invoking collection with {path=tracker/enrollments, methodName=collection, client=org.hisp.dhis.integration.sdk.DefaultDhis2Client@5b4710c3, apiName=GET, queryParams={orgUnit=DFn0SHhghQp, program=JA1vLYT8htI}}: Cannot invoke "java.util.List.iterator()" because "collection" is null
	at org.apache.camel.support.component.ApiMethodHelper.invokeMethod(ApiMethodHelper.java:531) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.component.AbstractApiProducer.doInvokeMethod(AbstractApiProducer.java:122) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.support.component.AbstractApiProducer$1.run(AbstractApiProducer.java:89) ~[camel-support-3.20.2.jar:3.20.2]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]
Caused by: java.lang.NullPointerException: Cannot invoke "java.util.List.iterator()" because "collection" is null
	at org.hisp.dhis.integration.sdk.internal.operation.page.PageIterable.<init>(PageIterable.java:64) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	at org.hisp.dhis.integration.sdk.internal.LazyIterableDhis2Response.returnAs(LazyIterableDhis2Response.java:58) ~[dhis2-java-sdk-1.0.1-SNAPSHOT.jar:na]
	at org.apache.camel.component.dhis2.api.Dhis2Get.collection(Dhis2Get.java:91) ~[camel-dhis2-api-2.0.0-SNAPSHOT.jar:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]
	at org.apache.camel.support.component.ApiMethodHelper.invokeMethod(ApiMethodHelper.java:523) ~[camel-support-3.20.2.jar:3.20.2]
	... 8 common frames omitted

2023-03-13 15:07:33.604  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) is shutting down (timeout:45s)
2023-03-13 15:07:33.606  INFO 42616 --- [Camel (camel-1) thread #6 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.sync
2023-03-13 15:07:33.608  INFO 42616 --- [Camel (camel-1) thread #6 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.reminders
2023-03-13 15:07:33.608  INFO 42616 --- [Camel (camel-1) thread #6 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.pull
2023-03-13 15:07:34.081  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.sync
2023-03-13 15:07:34.087  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.reminders
2023-03-13 15:07:34.089  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.pull
2023-03-13 15:07:34.090  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:30)
2023-03-13 15:07:34.090  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route13 (direct://updateContact)
2023-03-13 15:07:34.090  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route12 (direct://createContact)
2023-03-13 15:07:34.091  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Sync RapidPro Contacts (direct://sync)
2023-03-13 15:07:34.091  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route11 (quartz://sync)
2023-03-13 15:07:34.091  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route10 (servlet:/tasks/sync)
2023-03-13 15:07:34.091  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create Program RapidPro Group (direct://createProgramGroupRoute)
2023-03-13 15:07:34.092  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create Program RapidPro Fields (direct://createProgramFieldsRoute)
2023-03-13 15:07:34.092  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Set up Program Fields RapidPro (direct://prepareTrackerRapidPro)
2023-03-13 15:07:34.092  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route9 (direct://completeDataSetRegistration)
2023-03-13 15:07:34.092  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Compute Period (direct://computePeriod)
2023-03-13 15:07:34.092  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Save Failed Report (direct://dlq)
2023-03-13 15:07:34.093  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Transmit Report (direct://transmitReport)
2023-03-13 15:07:34.093  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Transform Report (direct://transformReport)
2023-03-13 15:07:34.093  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Deliver Report (direct://deliverReport)
2023-03-13 15:07:34.093  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Consume Report (jms://queue:dhis2)
2023-03-13 15:07:34.093  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Retry Reports (timer://retry)
2023-03-13 15:07:34.094  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route8 (direct://sendBroadcast)
2023-03-13 15:07:34.094  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route7 (direct://fetchReportRate)
2023-03-13 15:07:34.094  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route6 (direct://fetchContacts)
2023-03-13 15:07:34.094  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (direct://fetchDataSet)
2023-03-13 15:07:34.095  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Broadcast Reminders (direct://reminders)
2023-03-13 15:07:34.095  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (quartz://reminders)
2023-03-13 15:07:34.095  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (servlet:/tasks/reminders)
2023-03-13 15:07:34.095  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Enrollment Sync (direct://enrollmentSync)
2023-03-13 15:07:34.095  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create RapidPro Group (direct://createGroupRoute)
2023-03-13 15:07:34.095  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create RapidPro Fields (direct://createFieldsRoute)
2023-03-13 15:07:34.096  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Set up RapidPro (direct://prepareRapidPro)
2023-03-13 15:07:34.096  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Scan RapidPro Flows (direct://pull)
2023-03-13 15:07:34.096  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (quartz://pull)
2023-03-13 15:07:34.096  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (servlet:/tasks/scan)
2023-03-13 15:07:34.099  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzComponent   : Shutting down Quartz scheduler (will wait for all jobs to complete first)
2023-03-13 15:07:34.099  INFO 42616 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED shutting down.
2023-03-13 15:07:34.099  INFO 42616 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED paused.
2023-03-13 15:07:34.199  INFO 42616 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler unregistered from name 'quartz:type=QuartzScheduler,name=DefaultQuartzScheduler-camel-1,instance=NON_CLUSTERED' in the local MBeanServer.
2023-03-13 15:07:34.199  INFO 42616 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED shutdown complete.
2023-03-13 15:07:34.204  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) shutdown in 599ms (uptime:1m31s)
2023-03-13 15:07:34.214  INFO 42616 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-03-13 15:07:34.215  INFO 42616 --- [SpringApplicationShutdownHook] io.hawt.web.auth.AuthenticationFilter    : Destroying hawtio authentication filter
2023-03-13 15:07:34.215  INFO 42616 --- [SpringApplicationShutdownHook] io.hawt.HawtioContextListener            : Destroying hawtio services
2023-03-13 15:07:34.299  INFO 42616 --- [SpringApplicationShutdownHook] org.apache.activemq.artemis.core.server  : AMQ221002: Apache ActiveMQ Artemis Message Broker version 2.19.1 [f561d4b4-8b4f-11ed-b036-4c034f8a3e96] stopped, uptime 1 minute
2023-03-13 15:07:35.850  INFO 32644 --- [main] o.h.d.integration.rapidpro.Application   : Starting Application using Java 19.0.1 on DESKTOP-BIR2HG9 with PID 32644 (C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp\target\classes started by JohanGangsåsHole in C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp)
2023-03-13 15:07:35.852 DEBUG 32644 --- [main] o.h.d.integration.rapidpro.Application   : Running with Spring Boot v2.7.4, Spring v5.3.23
2023-03-13 15:07:35.853  INFO 32644 --- [main] o.h.d.integration.rapidpro.Application   : No active profile set, falling back to 1 default profile: "default"
2023-03-13 15:07:37.190  INFO 32644 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)
2023-03-13 15:07:37.201  INFO 32644 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-13 15:07:37.202  INFO 32644 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2023-03-13 15:07:37.349  INFO 32644 --- [main] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring embedded WebApplicationContext
2023-03-13 15:07:37.349  INFO 32644 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1457 ms
2023-03-13 15:07:37.468 ERROR 32644 --- [main] javax.management.mbeanserver             : The LogManager accessed before the "java.util.logging.manager" system property was set to "org.jboss.logmanager.LogManager". Results may be unexpected.
2023-03-13 15:07:37.803  INFO 32644 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/management/h2-console'. Database available at 'jdbc:h2:./dhis2rapidpro'
2023-03-13 15:07:37.976  INFO 32644 --- [main] o.s.b.a.e.web.ServletEndpointRegistrar   : Registered '/management/jolokia' to jolokia-actuator-endpoint
2023-03-13 15:07:37.991  INFO 32644 --- [main] io.hawt.HawtioContextListener            : Initialising hawtio services
2023-03-13 15:07:37.996  INFO 32644 --- [main] io.hawt.system.ConfigManager             : Configuration will be discovered via system properties
2023-03-13 15:07:37.998  INFO 32644 --- [main] io.hawt.jmx.JmxTreeWatcher               : Welcome to Hawtio 2.16.2
2023-03-13 15:07:38.008  INFO 32644 --- [main] i.h.w.auth.AuthenticationConfiguration   : Starting hawtio authentication filter, JAAS authentication disabled
2023-03-13 15:07:38.010  INFO 32644 --- [main] io.hawt.web.auth.LoginRedirectFilter     : Hawtio loginRedirectFilter is using 1800 sec. HttpSession timeout
2023-03-13 15:07:39.459  INFO 32644 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to RapidPro
2023-03-13 15:07:39.463  INFO 32644 --- [main] o.h.d.i.r.security.KeyStoreGenerator     : Re-using existing key store at file:/C:/Users/JohanGangsåsHole/Documents/integration-dhis2-whatsapp/tls.jks
2023-03-13 15:07:39.599  INFO 32644 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Ant [pattern='/management/**'], Ant [pattern='/services/tasks/**'], Ant [pattern='/login'], Ant [pattern='/logout']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@1bf10539, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1e406cbe, org.springframework.security.web.context.SecurityContextPersistenceFilter@491cc0eb, org.springframework.security.web.header.HeaderWriterFilter@7acb5200, org.springframework.security.web.csrf.CsrfFilter@593f7d2e, org.springframework.security.web.authentication.logout.LogoutFilter@2f58f492, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@44da745f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@c683cf5, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@141a10bf, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2e057637, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c70a1de, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ae74eef, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4dffa400, org.springframework.security.web.session.SessionManagementFilter@3661b732, org.springframework.security.web.access.ExceptionTranslationFilter@24f5e9e8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@40db6136]
2023-03-13 15:07:39.606  INFO 32644 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/services/webhook'] with [org.springframework.security.web.session.DisableEncodeUrlFilter@7cf66cf9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@38f63756, org.springframework.security.web.context.SecurityContextPersistenceFilter@35744f8, org.springframework.security.web.header.HeaderWriterFilter@400e741, org.springframework.security.web.authentication.logout.LogoutFilter@75c0cd39, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6fbcc078, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c851821, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3d7caf9c, org.springframework.security.web.session.SessionManagementFilter@3be369fc, org.springframework.security.web.access.ExceptionTranslationFilter@2ed84be9]
2023-03-13 15:07:40.124  INFO 32644 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to DHIS 2.38.1
2023-03-13 15:07:40.277  INFO 32644 --- [main] io.hawt.log.logback.LogbackLogQuery      : Connected to Logback appender to trap logs with Hawtio log plugin
2023-03-13 15:07:40.711  INFO 32644 --- [main] org.apache.activemq.artemis.core.server  : AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,jdbcDriverClassName=null,jdbcConnectionUrl=null,messageTableName=messages,bindingsTableName=bindings,largeMessageTableName=large_messages,pageStoreTableName=page_store,)
2023-03-13 15:07:40.719  INFO 32644 --- [main] org.apache.activemq.artemis.core.server  : AMQ221045: libaio is not available, switching the configuration into NIO
2023-03-13 15:07:40.774  INFO 32644 --- [main] org.apache.activemq.artemis.core.server  : AMQ221057: Global Max Size is being adjusted to 1/2 of the JVM max size (-Xmx). being defined as 4 250 927 104
2023-03-13 15:07:40.789  INFO 32644 --- [main] org.apache.activemq.artemis.core.server  : AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE
2023-03-13 15:07:40.862  INFO 32644 --- [main] org.apache.activemq.artemis.core.server  : AMQ221034: Waiting indefinitely to obtain live lock
2023-03-13 15:07:40.863  INFO 32644 --- [main] org.apache.activemq.artemis.core.server  : AMQ221035: Live Server Obtained live lock
2023-03-13 15:07:40.925  INFO 32644 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address DLQ supporting [ANYCAST]
2023-03-13 15:07:40.926  INFO 32644 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue DLQ on address DLQ
2023-03-13 15:07:40.929  INFO 32644 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address ExpiryQueue supporting [ANYCAST]
2023-03-13 15:07:40.930  INFO 32644 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue ExpiryQueue on address ExpiryQueue
2023-03-13 15:07:40.949  INFO 32644 --- [main] org.apache.activemq.artemis.core.server  : AMQ221007: Server is now live
2023-03-13 15:07:40.949  INFO 32644 --- [main] org.apache.activemq.artemis.core.server  : AMQ221001: Apache ActiveMQ Artemis Message Broker version 2.19.1 [localhost, nodeID=f561d4b4-8b4f-11ed-b036-4c034f8a3e96] 
2023-03-13 15:07:41.156  INFO 32644 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/management'
2023-03-13 15:07:41.276  INFO 32644 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=/dhis2rapidpro]
2023-03-13 15:07:41.277  INFO 32644 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8443 (https) with context path '/dhis2rapidpro'
2023-03-13 15:07:42.416  INFO 32644 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) is starting
2023-03-13 15:07:42.486  INFO 32644 --- [main] o.a.c.component.quartz.QuartzComponent   : Setting org.quartz.scheduler.jmx.export=true to ensure QuartzScheduler(s) will be enlisted in JMX
2023-03-13 15:07:42.503  INFO 32644 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2023-03-13 15:07:42.507  INFO 32644 --- [main] org.quartz.simpl.SimpleThreadPool        : Job execution threads will use class loader of thread: main
2023-03-13 15:07:42.514  INFO 32644 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2023-03-13 15:07:42.514  INFO 32644 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.
2023-03-13 15:07:42.514  INFO 32644 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2023-03-13 15:07:42.518  INFO 32644 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) 'DefaultQuartzScheduler-camel-1' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2023-03-13 15:07:42.519  INFO 32644 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'DefaultQuartzScheduler-camel-1' initialized from an externally provided properties instance.
2023-03-13 15:07:42.519  INFO 32644 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.3.2
2023-03-13 15:07:42.554  INFO 32644 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.pull (cron=0 0/30 * * * ?, triggerType=CronTriggerImpl, jobClass=StatefulCamelJob) is scheduled. Next fire date is 2023-03-13T15:30:00.000+0100
2023-03-13 15:07:42.625  INFO 32644 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.reminders (cron=0 0 9 ? * *, triggerType=CronTriggerImpl, jobClass=CamelJob) is scheduled. Next fire date is 2023-03-14T09:00:00.000+0100
2023-03-13 15:07:42.706  INFO 32644 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.sync (cron=0 0/30 * * * ?, triggerType=CronTriggerImpl, jobClass=StatefulCamelJob) is scheduled. Next fire date is 2023-03-13T15:30:00.000+0100
2023-03-13 15:07:42.725  INFO 32644 --- [main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2023-03-13 15:07:42.725  INFO 32644 --- [CamelMainRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.20.2 is starting
2023-03-13 15:07:42.726  INFO 32644 --- [main] .a.c.s.FileWatcherResourceReloadStrategy : Live route reloading enabled (directory: routes)
2023-03-13 15:07:42.819  INFO 32644 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:30)
2023-03-13 15:07:42.819  INFO 32644 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (servlet:/tasks/scan)
2023-03-13 15:07:42.819  INFO 32644 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (quartz://pull)
2023-03-13 15:07:42.819  INFO 32644 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Scan RapidPro Flows (direct://pull)
2023-03-13 15:07:42.820  INFO 32644 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Set up RapidPro (direct://prepareRapidPro)
2023-03-13 15:07:42.820  INFO 32644 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create RapidPro Fields (direct://createFieldsRoute)
2023-03-13 15:07:42.820  INFO 32644 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create RapidPro Group (direct://createGroupRoute)
2023-03-13 15:07:42.820  INFO 32644 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Enrollment Sync (direct://enrollmentSync)
2023-03-13 15:07:42.821  INFO 32644 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (servlet:/tasks/reminders)
2023-03-13 15:07:42.821  INFO 32644 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (quartz://reminders)
2023-03-13 15:07:42.821  INFO 32644 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Broadcast Reminders (direct://reminders)
2023-03-13 15:07:42.822  INFO 32644 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (direct://fetchDataSet)
2023-03-13 15:07:42.822  INFO 32644 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route6 (direct://fetchContacts)
2023-03-13 15:07:42.822  INFO 32644 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route7 (direct://fetchReportRate)
2023-03-13 15:07:42.822  INFO 32644 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route8 (direct://sendBroadcast)
2023-03-13 15:07:42.822  INFO 32644 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Retry Reports (timer://retry)
2023-03-13 15:07:42.823  INFO 32644 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Consume Report (jms://queue:dhis2)
2023-03-13 15:07:42.823  INFO 32644 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Deliver Report (direct://deliverReport)
2023-03-13 15:07:42.823  INFO 32644 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Transform Report (direct://transformReport)
2023-03-13 15:07:42.823  INFO 32644 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Transmit Report (direct://transmitReport)
2023-03-13 15:07:42.823  INFO 32644 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Save Failed Report (direct://dlq)
2023-03-13 15:07:42.824  INFO 32644 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Compute Period (direct://computePeriod)
2023-03-13 15:07:42.824  INFO 32644 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route9 (direct://completeDataSetRegistration)
2023-03-13 15:07:42.824  INFO 32644 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Set up Program Fields RapidPro (direct://prepareTrackerRapidPro)
2023-03-13 15:07:42.824  INFO 32644 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create Program RapidPro Fields (direct://createProgramFieldsRoute)
2023-03-13 15:07:42.824  INFO 32644 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create Program RapidPro Group (direct://createProgramGroupRoute)
2023-03-13 15:07:42.825  INFO 32644 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route10 (servlet:/tasks/sync)
2023-03-13 15:07:42.825  INFO 32644 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route11 (quartz://sync)
2023-03-13 15:07:42.825  INFO 32644 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Sync RapidPro Contacts (direct://sync)
2023-03-13 15:07:42.825  INFO 32644 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route12 (direct://createContact)
2023-03-13 15:07:42.826  INFO 32644 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route13 (direct://updateContact)
2023-03-13 15:07:42.826  INFO 32644 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) started in 1s518ms (build:48ms init:1s61ms start:409ms)
2023-03-13 15:07:42.827  INFO 32644 --- [main] o.a.c.component.quartz.QuartzComponent   : Starting Quartz scheduler: org.quartz.impl.StdScheduler@5e774546
2023-03-13 15:07:42.828  INFO 32644 --- [main] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED started.
2023-03-13 15:07:42.830  INFO 32644 --- [main] o.h.d.integration.rapidpro.Application   : Started Application in 7.277 seconds (JVM running for 7.663)
2023-03-13 15:07:42.836  INFO 32644 --- [main] o.h.d.integration.rapidpro.Application   : 
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 ONLINE

 Hawtio console: https://192.168.1.122:8443/dhis2rapidpro/management/hawtio
 H2 console: https://192.168.1.122:8443/dhis2rapidpro/management/h2-console
 Poll flows task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/scan
 Sync contacts task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/sync
 Remind contacts task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/reminders

 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

2023-03-13 15:07:46.151  INFO 32644 --- [https-jsse-nio-8443-exec-10] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-13 15:07:46.152  INFO 32644 --- [https-jsse-nio-8443-exec-10] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-03-13 15:07:46.153  INFO 32644 --- [https-jsse-nio-8443-exec-10] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2023-03-13 15:07:52.291  INFO 32644 --- [https-jsse-nio-8443-exec-8] o.h.d.i.r.route.AbstractRouteBuilder     : Synchronising RapidPro contacts...
2023-03-13 15:07:54.245 DEBUG 32644 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user kAoHFxJOTWl
2023-03-13 15:07:54.677  WARN 32644 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user kAoHFxJOTWl => HTTP 400. HTTP response body => {"urns":{"1":["Invalid URN: whatsapp:+4794277878. Ensure phone numbers contain country codes."]}}
2023-03-13 15:07:54.682 DEBUG 32644 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user w5cOyMlXYNL
2023-03-13 15:07:54.807  WARN 32644 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user w5cOyMlXYNL => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:187654321"]}
2023-03-13 15:07:54.814 DEBUG 32644 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user pVS5mv9EsC2
2023-03-13 15:07:54.935  WARN 32644 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user pVS5mv9EsC2 => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:+919560163563"]}
2023-03-13 15:07:54.939 DEBUG 32644 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user e0kSQPZJe4s
2023-03-13 15:07:55.058  WARN 32644 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user e0kSQPZJe4s => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:+4712345678"]}
2023-03-13 15:07:55.059  INFO 32644 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Completed synchronisation of RapidPro contacts with DHIS2 users
2023-03-13 15:07:55.376 ERROR 32644 --- [Camel (camel-1) thread #4 - CamelDhis2] o.a.c.p.e.DefaultErrorHandler            : Failed delivery for (MessageId: F3641A9BD766D7C-0000000000000002 on ExchangeId: F3641A9BD766D7C-0000000000000002). Exhausted after delivery attempt: 1 caught: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.apache.camel.converter.stream.InputStreamCache and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS)

Message History (source location and message history is disabled)
---------------------------------------------------------------------------------------------------------------------------------------
Source                                   ID                             Processor                                          Elapsed (ms)
                                         route10/route10                from[servlet:/tasks/sync?muteException=true]         1981626715
	...
                                         Enrollment Sync/marshal5       marshal[org.apache.camel.model.dataformat.JsonData            0

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------

com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.apache.camel.converter.stream.InputStreamCache and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS)
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.13.4.jar:2.13.4]
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1300) ~[jackson-databind-2.13.4.jar:2.13.4]
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400) ~[jackson-databind-2.13.4.jar:2.13.4]
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:46) ~[jackson-databind-2.13.4.jar:2.13.4]
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:29) ~[jackson-databind-2.13.4.jar:2.13.4]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.13.4.jar:2.13.4]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) ~[jackson-databind-2.13.4.jar:2.13.4]
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1518) ~[jackson-databind-2.13.4.jar:2.13.4]
	at com.fasterxml.jackson.databind.ObjectWriter._writeValueAndClose(ObjectWriter.java:1219) ~[jackson-databind-2.13.4.jar:2.13.4]
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1044) ~[jackson-databind-2.13.4.jar:2.13.4]
	at org.apache.camel.component.jackson.AbstractJacksonDataFormat.marshal(AbstractJacksonDataFormat.java:155) ~[camel-jackson-3.20.2.jar:3.20.2]
	at org.apache.camel.support.processor.MarshalProcessor.process(MarshalProcessor.java:64) ~[camel-support-3.20.2.jar:3.20.2]
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryTask.doRun(RedeliveryErrorHandler.java:818) ~[camel-core-processor-3.20.2.jar:3.20.2]
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryTask.run(RedeliveryErrorHandler.java:726) ~[camel-core-processor-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:181) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.schedule(DefaultReactiveExecutor.java:54) ~[camel-base-engine-3.20.2.jar:3.20.2]
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryTask.lambda$doRun$1(RedeliveryErrorHandler.java:823) ~[camel-core-processor-3.20.2.jar:3.20.2]
	at org.apache.camel.support.component.AbstractApiProducer$1.run(AbstractApiProducer.java:99) ~[camel-support-3.20.2.jar:3.20.2]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]

2023-03-13 15:08:46.010  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) is shutting down (timeout:45s)
2023-03-13 15:08:46.013  INFO 32644 --- [Camel (camel-1) thread #6 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.sync
2023-03-13 15:08:46.015  INFO 32644 --- [Camel (camel-1) thread #6 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.reminders
2023-03-13 15:08:46.016  INFO 32644 --- [Camel (camel-1) thread #6 - ShutdownTask] o.a.c.component.quartz.QuartzEndpoint    : Pausing trigger Camel_camel-1.pull
2023-03-13 15:08:46.911  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.sync
2023-03-13 15:08:46.918  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.reminders
2023-03-13 15:08:46.921  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzEndpoint    : Deleting job Camel_camel-1.pull
2023-03-13 15:08:46.922  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:30)
2023-03-13 15:08:46.922  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route13 (direct://updateContact)
2023-03-13 15:08:46.923  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route12 (direct://createContact)
2023-03-13 15:08:46.923  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Sync RapidPro Contacts (direct://sync)
2023-03-13 15:08:46.923  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route11 (quartz://sync)
2023-03-13 15:08:46.924  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route10 (servlet:/tasks/sync)
2023-03-13 15:08:46.924  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create Program RapidPro Group (direct://createProgramGroupRoute)
2023-03-13 15:08:46.924  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create Program RapidPro Fields (direct://createProgramFieldsRoute)
2023-03-13 15:08:46.924  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Set up Program Fields RapidPro (direct://prepareTrackerRapidPro)
2023-03-13 15:08:46.924  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route9 (direct://completeDataSetRegistration)
2023-03-13 15:08:46.925  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Compute Period (direct://computePeriod)
2023-03-13 15:08:46.925  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Save Failed Report (direct://dlq)
2023-03-13 15:08:46.925  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Transmit Report (direct://transmitReport)
2023-03-13 15:08:46.926  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Transform Report (direct://transformReport)
2023-03-13 15:08:46.926  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Deliver Report (direct://deliverReport)
2023-03-13 15:08:46.926  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Consume Report (jms://queue:dhis2)
2023-03-13 15:08:46.926  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Retry Reports (timer://retry)
2023-03-13 15:08:46.927  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route8 (direct://sendBroadcast)
2023-03-13 15:08:46.927  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route7 (direct://fetchReportRate)
2023-03-13 15:08:46.927  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route6 (direct://fetchContacts)
2023-03-13 15:08:46.928  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (direct://fetchDataSet)
2023-03-13 15:08:46.928  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Broadcast Reminders (direct://reminders)
2023-03-13 15:08:46.928  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (quartz://reminders)
2023-03-13 15:08:46.928  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (servlet:/tasks/reminders)
2023-03-13 15:08:46.929  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Enrollment Sync (direct://enrollmentSync)
2023-03-13 15:08:46.929  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create RapidPro Group (direct://createGroupRoute)
2023-03-13 15:08:46.929  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Create RapidPro Fields (direct://createFieldsRoute)
2023-03-13 15:08:46.929  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Set up RapidPro (direct://prepareRapidPro)
2023-03-13 15:08:46.929  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped Scan RapidPro Flows (direct://pull)
2023-03-13 15:08:46.930  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (quartz://pull)
2023-03-13 15:08:46.930  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (servlet:/tasks/scan)
2023-03-13 15:08:46.933  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.component.quartz.QuartzComponent   : Shutting down Quartz scheduler (will wait for all jobs to complete first)
2023-03-13 15:08:46.933  INFO 32644 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED shutting down.
2023-03-13 15:08:46.934  INFO 32644 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED paused.
2023-03-13 15:08:47.073  INFO 32644 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler unregistered from name 'quartz:type=QuartzScheduler,name=DefaultQuartzScheduler-camel-1,instance=NON_CLUSTERED' in the local MBeanServer.
2023-03-13 15:08:47.074  INFO 32644 --- [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED shutdown complete.
2023-03-13 15:08:47.080  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) shutdown in 1s69ms (uptime:1m4s)
2023-03-13 15:08:47.102  INFO 32644 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-03-13 15:08:47.103  INFO 32644 --- [SpringApplicationShutdownHook] io.hawt.web.auth.AuthenticationFilter    : Destroying hawtio authentication filter
2023-03-13 15:08:47.104  INFO 32644 --- [SpringApplicationShutdownHook] io.hawt.HawtioContextListener            : Destroying hawtio services
2023-03-13 15:08:47.191  INFO 32644 --- [SpringApplicationShutdownHook] org.apache.activemq.artemis.core.server  : AMQ221002: Apache ActiveMQ Artemis Message Broker version 2.19.1 [f561d4b4-8b4f-11ed-b036-4c034f8a3e96] stopped, uptime 1 minute
2023-03-13 15:08:48.748  INFO 19944 --- [main] o.h.d.integration.rapidpro.Application   : Starting Application using Java 19.0.1 on DESKTOP-BIR2HG9 with PID 19944 (C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp\target\classes started by JohanGangsåsHole in C:\Users\JohanGangsåsHole\Documents\integration-dhis2-whatsapp)
2023-03-13 15:08:48.750 DEBUG 19944 --- [main] o.h.d.integration.rapidpro.Application   : Running with Spring Boot v2.7.4, Spring v5.3.23
2023-03-13 15:08:48.751  INFO 19944 --- [main] o.h.d.integration.rapidpro.Application   : No active profile set, falling back to 1 default profile: "default"
2023-03-13 15:08:50.130  INFO 19944 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)
2023-03-13 15:08:50.141  INFO 19944 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-03-13 15:08:50.142  INFO 19944 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2023-03-13 15:08:50.288  INFO 19944 --- [main] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring embedded WebApplicationContext
2023-03-13 15:08:50.288  INFO 19944 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1499 ms
2023-03-13 15:08:50.406 ERROR 19944 --- [main] javax.management.mbeanserver             : The LogManager accessed before the "java.util.logging.manager" system property was set to "org.jboss.logmanager.LogManager". Results may be unexpected.
2023-03-13 15:08:50.754  INFO 19944 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/management/h2-console'. Database available at 'jdbc:h2:./dhis2rapidpro'
2023-03-13 15:08:50.929  INFO 19944 --- [main] o.s.b.a.e.web.ServletEndpointRegistrar   : Registered '/management/jolokia' to jolokia-actuator-endpoint
2023-03-13 15:08:50.942  INFO 19944 --- [main] io.hawt.HawtioContextListener            : Initialising hawtio services
2023-03-13 15:08:50.946  INFO 19944 --- [main] io.hawt.system.ConfigManager             : Configuration will be discovered via system properties
2023-03-13 15:08:50.948  INFO 19944 --- [main] io.hawt.jmx.JmxTreeWatcher               : Welcome to Hawtio 2.16.2
2023-03-13 15:08:50.957  INFO 19944 --- [main] i.h.w.auth.AuthenticationConfiguration   : Starting hawtio authentication filter, JAAS authentication disabled
2023-03-13 15:08:50.958  INFO 19944 --- [main] io.hawt.web.auth.LoginRedirectFilter     : Hawtio loginRedirectFilter is using 1800 sec. HttpSession timeout
2023-03-13 15:08:52.363  INFO 19944 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to RapidPro
2023-03-13 15:08:52.366  INFO 19944 --- [main] o.h.d.i.r.security.KeyStoreGenerator     : Re-using existing key store at file:/C:/Users/JohanGangsåsHole/Documents/integration-dhis2-whatsapp/tls.jks
2023-03-13 15:08:52.510  INFO 19944 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Ant [pattern='/management/**'], Ant [pattern='/services/tasks/**'], Ant [pattern='/login'], Ant [pattern='/logout']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@1bf10539, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1e406cbe, org.springframework.security.web.context.SecurityContextPersistenceFilter@491cc0eb, org.springframework.security.web.header.HeaderWriterFilter@7acb5200, org.springframework.security.web.csrf.CsrfFilter@593f7d2e, org.springframework.security.web.authentication.logout.LogoutFilter@2f58f492, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@44da745f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@c683cf5, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@141a10bf, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2e057637, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c70a1de, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ae74eef, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4dffa400, org.springframework.security.web.session.SessionManagementFilter@3661b732, org.springframework.security.web.access.ExceptionTranslationFilter@24f5e9e8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@40db6136]
2023-03-13 15:08:52.518  INFO 19944 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/services/webhook'] with [org.springframework.security.web.session.DisableEncodeUrlFilter@7cf66cf9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@38f63756, org.springframework.security.web.context.SecurityContextPersistenceFilter@35744f8, org.springframework.security.web.header.HeaderWriterFilter@400e741, org.springframework.security.web.authentication.logout.LogoutFilter@75c0cd39, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6fbcc078, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c851821, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3d7caf9c, org.springframework.security.web.session.SessionManagementFilter@3be369fc, org.springframework.security.web.access.ExceptionTranslationFilter@2ed84be9]
2023-03-13 15:08:53.007  INFO 19944 --- [main] o.h.d.integration.rapidpro.Application   : Successfully tested connection to DHIS 2.38.1
2023-03-13 15:08:53.164  INFO 19944 --- [main] io.hawt.log.logback.LogbackLogQuery      : Connected to Logback appender to trap logs with Hawtio log plugin
2023-03-13 15:08:53.509  INFO 19944 --- [main] org.apache.activemq.artemis.core.server  : AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,jdbcDriverClassName=null,jdbcConnectionUrl=null,messageTableName=messages,bindingsTableName=bindings,largeMessageTableName=large_messages,pageStoreTableName=page_store,)
2023-03-13 15:08:53.517  INFO 19944 --- [main] org.apache.activemq.artemis.core.server  : AMQ221045: libaio is not available, switching the configuration into NIO
2023-03-13 15:08:53.579  INFO 19944 --- [main] org.apache.activemq.artemis.core.server  : AMQ221057: Global Max Size is being adjusted to 1/2 of the JVM max size (-Xmx). being defined as 4 250 927 104
2023-03-13 15:08:53.593  INFO 19944 --- [main] org.apache.activemq.artemis.core.server  : AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE
2023-03-13 15:08:53.669  INFO 19944 --- [main] org.apache.activemq.artemis.core.server  : AMQ221034: Waiting indefinitely to obtain live lock
2023-03-13 15:08:53.669  INFO 19944 --- [main] org.apache.activemq.artemis.core.server  : AMQ221035: Live Server Obtained live lock
2023-03-13 15:08:53.732  INFO 19944 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address DLQ supporting [ANYCAST]
2023-03-13 15:08:53.733  INFO 19944 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue DLQ on address DLQ
2023-03-13 15:08:53.736  INFO 19944 --- [main] org.apache.activemq.artemis.core.server  : AMQ221080: Deploying address ExpiryQueue supporting [ANYCAST]
2023-03-13 15:08:53.737  INFO 19944 --- [main] org.apache.activemq.artemis.core.server  : AMQ221003: Deploying ANYCAST queue ExpiryQueue on address ExpiryQueue
2023-03-13 15:08:53.755  INFO 19944 --- [main] org.apache.activemq.artemis.core.server  : AMQ221007: Server is now live
2023-03-13 15:08:53.756  INFO 19944 --- [main] org.apache.activemq.artemis.core.server  : AMQ221001: Apache ActiveMQ Artemis Message Broker version 2.19.1 [localhost, nodeID=f561d4b4-8b4f-11ed-b036-4c034f8a3e96] 
2023-03-13 15:08:53.957  INFO 19944 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/management'
2023-03-13 15:08:54.059  INFO 19944 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=/dhis2rapidpro]
2023-03-13 15:08:54.060  INFO 19944 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8443 (https) with context path '/dhis2rapidpro'
2023-03-13 15:08:55.236  INFO 19944 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) is starting
2023-03-13 15:08:55.306  INFO 19944 --- [main] o.a.c.component.quartz.QuartzComponent   : Setting org.quartz.scheduler.jmx.export=true to ensure QuartzScheduler(s) will be enlisted in JMX
2023-03-13 15:08:55.321  INFO 19944 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2023-03-13 15:08:55.323  INFO 19944 --- [main] org.quartz.simpl.SimpleThreadPool        : Job execution threads will use class loader of thread: main
2023-03-13 15:08:55.330  INFO 19944 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2023-03-13 15:08:55.330  INFO 19944 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.
2023-03-13 15:08:55.330  INFO 19944 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2023-03-13 15:08:55.334  INFO 19944 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) 'DefaultQuartzScheduler-camel-1' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2023-03-13 15:08:55.334  INFO 19944 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'DefaultQuartzScheduler-camel-1' initialized from an externally provided properties instance.
2023-03-13 15:08:55.334  INFO 19944 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.3.2
2023-03-13 15:08:55.373  INFO 19944 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.reminders (cron=0 0 9 ? * *, triggerType=CronTriggerImpl, jobClass=CamelJob) is scheduled. Next fire date is 2023-03-14T09:00:00.000+0100
2023-03-13 15:08:55.516  INFO 19944 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.sync (cron=0 0/30 * * * ?, triggerType=CronTriggerImpl, jobClass=StatefulCamelJob) is scheduled. Next fire date is 2023-03-13T15:30:00.000+0100
2023-03-13 15:08:55.540  INFO 19944 --- [main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camel-1.pull (cron=0 0/30 * * * ?, triggerType=CronTriggerImpl, jobClass=StatefulCamelJob) is scheduled. Next fire date is 2023-03-13T15:30:00.000+0100
2023-03-13 15:08:55.558  INFO 19944 --- [main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2023-03-13 15:08:55.559  INFO 19944 --- [CamelMainRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.20.2 is starting
2023-03-13 15:08:55.560  INFO 19944 --- [main] .a.c.s.FileWatcherResourceReloadStrategy : Live route reloading enabled (directory: routes)
2023-03-13 15:08:55.654  INFO 19944 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:30)
2023-03-13 15:08:55.655  INFO 19944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (servlet:/tasks/reminders)
2023-03-13 15:08:55.655  INFO 19944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (quartz://reminders)
2023-03-13 15:08:55.655  INFO 19944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Broadcast Reminders (direct://reminders)
2023-03-13 15:08:55.656  INFO 19944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (direct://fetchDataSet)
2023-03-13 15:08:55.656  INFO 19944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (direct://fetchContacts)
2023-03-13 15:08:55.656  INFO 19944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (direct://fetchReportRate)
2023-03-13 15:08:55.656  INFO 19944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route6 (direct://sendBroadcast)
2023-03-13 15:08:55.656  INFO 19944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Enrollment Sync (direct://enrollmentSync)
2023-03-13 15:08:55.657  INFO 19944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Retry Reports (timer://retry)
2023-03-13 15:08:55.657  INFO 19944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Consume Report (jms://queue:dhis2)
2023-03-13 15:08:55.657  INFO 19944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Deliver Report (direct://deliverReport)
2023-03-13 15:08:55.657  INFO 19944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Transform Report (direct://transformReport)
2023-03-13 15:08:55.658  INFO 19944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Transmit Report (direct://transmitReport)
2023-03-13 15:08:55.658  INFO 19944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Save Failed Report (direct://dlq)
2023-03-13 15:08:55.658  INFO 19944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Compute Period (direct://computePeriod)
2023-03-13 15:08:55.658  INFO 19944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route7 (direct://completeDataSetRegistration)
2023-03-13 15:08:55.659  INFO 19944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Set up RapidPro (direct://prepareRapidPro)
2023-03-13 15:08:55.659  INFO 19944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create RapidPro Fields (direct://createFieldsRoute)
2023-03-13 15:08:55.659  INFO 19944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create RapidPro Group (direct://createGroupRoute)
2023-03-13 15:08:55.659  INFO 19944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Set up Program Fields RapidPro (direct://prepareTrackerRapidPro)
2023-03-13 15:08:55.660  INFO 19944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create Program RapidPro Fields (direct://createProgramFieldsRoute)
2023-03-13 15:08:55.660  INFO 19944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Create Program RapidPro Group (direct://createProgramGroupRoute)
2023-03-13 15:08:55.660  INFO 19944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route8 (servlet:/tasks/sync)
2023-03-13 15:08:55.660  INFO 19944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route9 (quartz://sync)
2023-03-13 15:08:55.660  INFO 19944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Sync RapidPro Contacts (direct://sync)
2023-03-13 15:08:55.661  INFO 19944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route10 (direct://createContact)
2023-03-13 15:08:55.661  INFO 19944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route11 (direct://updateContact)
2023-03-13 15:08:55.661  INFO 19944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route12 (servlet:/tasks/scan)
2023-03-13 15:08:55.661  INFO 19944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started route13 (quartz://pull)
2023-03-13 15:08:55.662  INFO 19944 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started Scan RapidPro Flows (direct://pull)
2023-03-13 15:08:55.662  INFO 19944 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.2 (camel-1) started in 1s580ms (build:49ms init:1s106ms start:425ms)
2023-03-13 15:08:55.664  INFO 19944 --- [main] o.a.c.component.quartz.QuartzComponent   : Starting Quartz scheduler: org.quartz.impl.StdScheduler@6f67291f
2023-03-13 15:08:55.665  INFO 19944 --- [main] org.quartz.core.QuartzScheduler          : Scheduler DefaultQuartzScheduler-camel-1_$_NON_CLUSTERED started.
2023-03-13 15:08:55.668  INFO 19944 --- [main] o.h.d.integration.rapidpro.Application   : Started Application in 7.209 seconds (JVM running for 7.577)
2023-03-13 15:08:55.676  INFO 19944 --- [main] o.h.d.integration.rapidpro.Application   : 
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 ONLINE

 Hawtio console: https://192.168.1.122:8443/dhis2rapidpro/management/hawtio
 H2 console: https://192.168.1.122:8443/dhis2rapidpro/management/h2-console
 Poll flows task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/scan
 Sync contacts task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/sync
 Remind contacts task: https://192.168.1.122:8443/dhis2rapidpro/services/tasks/reminders

 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

2023-03-13 15:08:58.882  INFO 19944 --- [https-jsse-nio-8443-exec-8] o.a.c.c.C.[.[.[/dhis2rapidpro]           : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-13 15:08:58.883  INFO 19944 --- [https-jsse-nio-8443-exec-8] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-03-13 15:08:58.886  INFO 19944 --- [https-jsse-nio-8443-exec-8] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-03-13 15:09:03.739  INFO 19944 --- [https-jsse-nio-8443-exec-7] o.h.d.i.r.route.AbstractRouteBuilder     : Synchronising RapidPro contacts...
2023-03-13 15:09:05.718 DEBUG 19944 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user e0kSQPZJe4s
2023-03-13 15:09:06.151  WARN 19944 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user e0kSQPZJe4s => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:+4712345678"]}
2023-03-13 15:09:06.160 DEBUG 19944 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user kAoHFxJOTWl
2023-03-13 15:09:06.279  WARN 19944 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user kAoHFxJOTWl => HTTP 400. HTTP response body => {"urns":{"1":["Invalid URN: whatsapp:+4794277878. Ensure phone numbers contain country codes."]}}
2023-03-13 15:09:06.286 DEBUG 19944 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user pVS5mv9EsC2
2023-03-13 15:09:06.409  WARN 19944 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user pVS5mv9EsC2 => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:+919560163563"]}
2023-03-13 15:09:06.415 DEBUG 19944 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user w5cOyMlXYNL
2023-03-13 15:09:06.536  WARN 19944 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user w5cOyMlXYNL => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:187654321"]}
2023-03-13 15:09:06.539  INFO 19944 --- [Camel (camel-1) thread #4 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Completed synchronisation of RapidPro contacts with DHIS2 users
2023-03-13 15:09:06.834  INFO 19944 --- [Camel (camel-1) thread #4 - CamelDhis2] Enrollment Sync                          : {"page":1,"pageSize":50,"instances":[{"enrollment":"GmpCfVKwaUJ","createdAt":"2022-07-25T12:37:59.334","createdAtClient":"2022-07-25T12:37:59.344","updatedAt":"2022-07-25T12:37:59.344","updatedAtClient":"2022-07-25T12:37:59.344","trackedEntity":"NTnGGHaus4l","program":"JA1vLYT8htI","status":"ACTIVE","orgUnit":"DFn0SHhghQp","orgUnitName":"Bengaluru","enrolledAt":"2022-07-25T00:00:00.000","occurredAt":"2022-07-25T00:00:00.000","followUp":false,"deleted":false,"storedBy":"admin","notes":[]},{"enrollment":"QYO9j9KXrIj","createdAt":"2022-11-14T10:19:31.400","createdAtClient":"2022-11-14T10:19:31.414","updatedAt":"2022-11-14T10:19:31.414","updatedAtClient":"2022-11-14T10:19:31.414","trackedEntity":"TF68r0zZp3W","program":"JA1vLYT8htI","status":"ACTIVE","orgUnit":"DFn0SHhghQp","orgUnitName":"Bengaluru","enrolledAt":"2022-11-14T00:00:00.000","occurredAt":"2022-11-14T00:00:00.000","followUp":false,"deleted":false,"storedBy":"admin","notes":[]},{"enrollment":"uV4uXxXrsWt","createdAt":"2022-11-23T14:46:16.098","createdAtClient":"2022-11-23T14:46:16.100","updatedAt":"2022-11-23T14:46:16.100","updatedAtClient":"2022-11-23T14:46:16.100","trackedEntity":"oXu5IiE5zyv","program":"JA1vLYT8htI","status":"ACTIVE","orgUnit":"DFn0SHhghQp","orgUnitName":"Bengaluru","enrolledAt":"2022-11-23T00:00:00.000","occurredAt":"2022-11-23T00:00:00.000","followUp":false,"deleted":false,"storedBy":"admin","notes":[]},{"enrollment":"BjinlpSkJnt","createdAt":"2022-11-23T14:59:24.284","createdAtClient":"2022-11-23T14:59:24.287","updatedAt":"2022-11-23T14:59:24.287","updatedAtClient":"2022-11-23T14:59:24.287","trackedEntity":"kFnKNdgeCFo","program":"JA1vLYT8htI","status":"ACTIVE","orgUnit":"DFn0SHhghQp","orgUnitName":"Bengaluru","enrolledAt":"2022-01-01T00:00:00.000","occurredAt":"2022-11-23T00:00:00.000","followUp":false,"deleted":false,"storedBy":"admin","notes":[]},{"enrollment":"Qff70y8syEU","createdAt":"2023-02-17T15:52:03.017","createdAtClient":"2023-02-17T15:52:03.019","updatedAt":"2023-02-17T17:12:13.736","updatedAtClient":"2023-02-17T17:12:13.736","trackedEntity":"nvtHbEtjRAX","program":"JA1vLYT8htI","status":"ACTIVE","orgUnit":"DFn0SHhghQp","orgUnitName":"Bengaluru","enrolledAt":"2018-09-01T00:00:00.000","occurredAt":"2023-02-17T00:00:00.000","followUp":false,"completedBy":"Johangh","deleted":false,"storedBy":"Johangh","notes":[]},{"enrollment":"xNZWb2j0yoM","createdAt":"2022-11-29T15:16:51.009","createdAtClient":"2022-11-29T15:16:51.012","updatedAt":"2022-11-29T15:16:51.012","updatedAtClient":"2022-11-29T15:16:51.012","trackedEntity":"nRASm6xJ8k1","program":"JA1vLYT8htI","status":"ACTIVE","orgUnit":"DFn0SHhghQp","orgUnitName":"Bengaluru","enrolledAt":"2022-11-29T00:00:00.000","occurredAt":"2022-11-29T00:00:00.000","followUp":false,"deleted":false,"storedBy":"admin","notes":[]},{"enrollment":"HEGaN0C9yla","createdAt":"2023-03-13T14:28:15.318","createdAtClient":"2023-03-13T14:28:15.320","updatedAt":"2023-03-13T14:28:15.320","updatedAtClient":"2023-03-13T14:28:15.320","trackedEntity":"rmDkcyjkR5b","program":"JA1vLYT8htI","status":"ACTIVE","orgUnit":"DFn0SHhghQp","orgUnitName":"Bengaluru","enrolledAt":"2023-03-13T00:00:00.000","occurredAt":"2023-03-13T00:00:00.000","followUp":false,"deleted":false,"storedBy":"admin","notes":[]},{"enrollment":"qKBO7xjBmvp","createdAt":"2022-12-02T11:34:56.512","createdAtClient":"2022-12-02T11:34:56.514","updatedAt":"2022-12-02T11:34:56.514","updatedAtClient":"2022-12-02T11:34:56.514","trackedEntity":"FqTaFUTWfuC","program":"JA1vLYT8htI","status":"ACTIVE","orgUnit":"DFn0SHhghQp","orgUnitName":"Bengaluru","enrolledAt":"2022-12-02T00:00:00.000","occurredAt":"2022-12-02T00:00:00.000","followUp":false,"deleted":false,"storedBy":"ramesh","notes":[]},{"enrollment":"CZtSrnn1IcK","createdAt":"2022-12-02T15:59:39.083","createdAtClient":"2022-12-02T15:59:39.085","updatedAt":"2022-12-02T15:59:39.085","updatedAtClient":"2022-12-02T15:59:39.085","trackedEntity":"HxsjuFKgP5Z","program":"JA1vLYT8htI","status":"ACTIVE","orgUnit":"DFn0SHhghQp","orgUnitName":"Bengaluru","enrolledAt":"2022-12-02T00:00:00.000","occurredAt":"2022-12-02T00:00:00.000","followUp":false,"deleted":false,"storedBy":"ramesh","notes":[]},{"enrollment":"A0BWb3xbPsp","createdAt":"2023-01-18T18:56:26.685","createdAtClient":"2023-01-18T18:56:26.687","updatedAt":"2023-01-30T15:57:49.508","updatedAtClient":"2023-01-30T15:57:49.508","trackedEntity":"IxU8jneTMMK","program":"JA1vLYT8htI","status":"COMPLETED","orgUnit":"DFn0SHhghQp","orgUnitName":"Bengaluru","enrolledAt":"2023-01-18T00:00:00.000","occurredAt":"2023-01-18T00:00:00.000","followUp":false,"completedBy":"admin","completedAt":"2023-01-18T19:01:33.630","deleted":false,"storedBy":"admin","notes":[]},{"enrollment":"jWbHFdGaw2x","createdAt":"2023-02-16T11:03:14.027","createdAtClient":"2023-02-15T10:59:07.459","updatedAt":"2023-02-16T11:03:14.029","updatedAtClient":"2023-02-16T11:03:14.029","trackedEntity":"rmPSJnDu64L","program":"JA1vLYT8htI","status":"ACTIVE","orgUnit":"DFn0SHhghQp","orgUnitName":"Bengaluru","enrolledAt":"2023-02-15T00:00:00.000","occurredAt":"2023-02-16T11:03:14.027","followUp":false,"deleted":false,"storedBy":"admin","notes":[]}]}
2023-03-13 15:30:00.011  INFO 19944 --- [DefaultQuartzScheduler-camel-1_Worker-2] o.h.d.i.r.route.AbstractRouteBuilder     : Synchronising RapidPro contacts...
2023-03-13 15:30:00.477 DEBUG 19944 --- [DefaultQuartzScheduler-camel-1_Worker-1] o.h.d.i.r.route.AbstractRouteBuilder     : Fetched flow runs from https://textit.com/api/v2/runs.json?flow=77bdd647-56be-4ae2-9d9d-d4e4dbc71fca&after=2023-03-13T14:00:00.037&reverse=true => {"next":null,"previous":null,"results":[]}
2023-03-13 15:30:01.664 DEBUG 19944 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user w5cOyMlXYNL
2023-03-13 15:30:02.098  WARN 19944 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user w5cOyMlXYNL => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:187654321"]}
2023-03-13 15:30:02.102 DEBUG 19944 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user kAoHFxJOTWl
2023-03-13 15:30:02.222  WARN 19944 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user kAoHFxJOTWl => HTTP 400. HTTP response body => {"urns":{"1":["Invalid URN: whatsapp:+4794277878. Ensure phone numbers contain country codes."]}}
2023-03-13 15:30:02.227 DEBUG 19944 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user e0kSQPZJe4s
2023-03-13 15:30:02.351  WARN 19944 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user e0kSQPZJe4s => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:+4712345678"]}
2023-03-13 15:30:02.356 DEBUG 19944 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Creating RapidPro contact for DHIS2 user pVS5mv9EsC2
2023-03-13 15:30:02.482  WARN 19944 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Unexpected status code when creating RapidPro contact for DHIS2 user pVS5mv9EsC2 => HTTP 400. HTTP response body => {"urns":["URN belongs to another contact: tel:+919560163563"]}
2023-03-13 15:30:02.484  INFO 19944 --- [Camel (camel-1) thread #5 - CamelDhis2] o.h.d.i.r.route.AbstractRouteBuilder     : Completed synchronisation of RapidPro contacts with DHIS2 users
